import{H as de,j as d,h as x,I as be,r as W,J as oe,o as De,K as Be,L as Je,M as Ne,N as ge,O as Ve,P as Ut,Q as we,R as Ae,S as Re,T as Bt,U as Nt,V as sn,W as Vt,e as et,X as vt,Y as Ke,Z as un,$ as Ue,a0 as cn,a1 as dn,a2 as vn,d as fe,t as K,v as E,z as I,A as G,_ as _e,a3 as ce,a4 as T,a5 as mn,a6 as se,B as Se,y as le,a7 as Rt,a8 as fn,x as V,a9 as Ce,aa as he,ab as xe,ac as gn}from"./CIxiTbNd.js";import{u as At,a as Pt,Q as Et,h as It,b as Tt,c as pe,d as _n,n as Lt,e as hn,g as bn,f as pn,_ as me,i as tt,j as nt,k as yn,l as kn,m as Ft,o as Xe,p as wn,q as Cn,r as Sn,s as xn,t as Dt,v as qe,w as zt,x as qn,y as $n,z as Ot,A as Qe,B as Mn,C as Un,D as Bn,E as mt,F as Nn,G as Vn,H as Rn,I as An,J as Pn,K as En,L as In,M as Tn,N as Ln,O as Fn,P as Dn,R as zn,S as On,T as jn,U as Hn,V as Kn,W as Qn}from"./zEBjbe09.js";import Wn from"./WWDduCZQ.js";/* empty css        */const Xn=de({name:"QAvatar",props:{...At,fontSize:String,color:String,textColor:String,icon:String,square:Boolean,rounded:Boolean},setup(e,{slots:n}){const i=Pt(e),o=d(()=>"q-avatar"+(e.color?` bg-${e.color}`:"")+(e.textColor?` text-${e.textColor} q-chip--colored`:"")+(e.square===!0?" q-avatar--square":e.rounded===!0?" rounded-borders":"")),t=d(()=>e.fontSize?{fontSize:e.fontSize}:null);return()=>{const a=e.icon!==void 0?[x(Et,{name:e.icon})]:void 0;return x("div",{class:o.value,style:i.value},[x("div",{class:"q-avatar__content row flex-center overflow-hidden",style:t.value},It(n.default,a))])}}}),Yn=["top","middle","bottom"],Zn=de({name:"QBadge",props:{color:String,textColor:String,floating:Boolean,transparent:Boolean,multiLine:Boolean,outline:Boolean,rounded:Boolean,label:[Number,String],align:{type:String,validator:e=>Yn.includes(e)}},setup(e,{slots:n}){const i=d(()=>e.align!==void 0?{verticalAlign:e.align}:null),o=d(()=>{const t=e.outline===!0&&e.color||e.textColor;return`q-badge flex inline items-center no-wrap q-badge--${e.multiLine===!0?"multi":"single"}-line`+(e.outline===!0?" q-badge--outline":e.color!==void 0?` bg-${e.color}`:"")+(t!==void 0?` text-${t}`:"")+(e.floating===!0?" q-badge--floating":"")+(e.rounded===!0?" q-badge--rounded":"")+(e.transparent===!0?" q-badge--transparent":"")});return()=>x("div",{class:o.value,style:i.value,role:"status","aria-label":e.label},Tt(n.default,e.label!==void 0?[e.label]:[]))}}),Gn=de({name:"QBtnGroup",props:{unelevated:Boolean,outline:Boolean,flat:Boolean,rounded:Boolean,square:Boolean,push:Boolean,stretch:Boolean,glossy:Boolean,spread:Boolean},setup(e,{slots:n}){const i=d(()=>{const o=["unelevated","outline","flat","rounded","square","push","stretch","glossy"].filter(t=>e[t]===!0).map(t=>`q-btn-group--${t}`).join(" ");return`q-btn-group row no-wrap${o.length!==0?" "+o:""}`+(e.spread===!0?" q-btn-group--spread":" inline")});return()=>x("div",{class:i.value},pe(n.default))}}),Jn=Object.keys(Lt);function ea(e){return Jn.reduce((n,i)=>{const o=e[i];return o!==void 0&&(n[i]=o),n},{})}const ta=de({name:"QBtnDropdown",props:{...Lt,..._n,modelValue:Boolean,split:Boolean,dropdownIcon:String,contentClass:[Array,String,Object],contentStyle:[Array,String,Object],cover:Boolean,persistent:Boolean,noEscDismiss:Boolean,noRouteDismiss:Boolean,autoClose:Boolean,noRefocus:Boolean,noFocus:Boolean,menuAnchor:{type:String,default:"bottom end"},menuSelf:{type:String,default:"top end"},menuOffset:Array,disableMainBtn:Boolean,disableDropdown:Boolean,noIconAnimation:Boolean,toggleAriaLabel:String},emits:["update:modelValue","click","beforeShow","show","beforeHide","hide"],setup(e,{slots:n,emit:i}){const{proxy:o}=be(),t=W(e.modelValue),a=W(null),u=hn(),l=d(()=>{const C={"aria-expanded":t.value===!0?"true":"false","aria-haspopup":"true","aria-controls":u.value,"aria-label":e.toggleAriaLabel||o.$q.lang.label[t.value===!0?"collapse":"expand"](e.label)};return(e.disable===!0||e.split===!1&&e.disableMainBtn===!0||e.disableDropdown===!0)&&(C["aria-disabled"]="true"),C}),v=d(()=>"q-btn-dropdown__arrow"+(t.value===!0&&e.noIconAnimation===!1?" rotate-180":"")+(e.split===!1?" q-btn-dropdown__arrow-container":"")),r=d(()=>bn(e)),s=d(()=>ea(e));oe(()=>e.modelValue,C=>{var M;(M=a.value)==null||M[C?"show":"hide"]()}),oe(()=>e.split,N);function c(C){t.value=!0,i("beforeShow",C)}function h(C){i("show",C),i("update:modelValue",!0)}function p(C){t.value=!1,i("beforeHide",C)}function w(C){i("hide",C),i("update:modelValue",!1)}function $(C){i("click",C)}function B(C){Be(C),N(),i("click",C)}function L(C){var M;(M=a.value)==null||M.toggle(C)}function R(C){var M;(M=a.value)==null||M.show(C)}function N(C){var M;(M=a.value)==null||M.hide(C)}return Object.assign(o,{show:R,hide:N,toggle:L}),De(()=>{e.modelValue===!0&&R()}),()=>{const C=[x(Et,{class:v.value,name:e.dropdownIcon||o.$q.iconSet.arrow.dropdown})];return e.disableDropdown!==!0&&C.push(x(pn,{ref:a,id:u.value,class:e.contentClass,style:e.contentStyle,cover:e.cover,fit:!0,persistent:e.persistent,noEscDismiss:e.noEscDismiss,noRouteDismiss:e.noRouteDismiss,autoClose:e.autoClose,noFocus:e.noFocus,noRefocus:e.noRefocus,anchor:e.menuAnchor,self:e.menuSelf,offset:e.menuOffset,separateClosePopup:!0,transitionShow:e.transitionShow,transitionHide:e.transitionHide,transitionDuration:e.transitionDuration,onBeforeShow:c,onShow:h,onBeforeHide:p,onHide:w},n.default)),e.split===!1?x(me,{class:"q-btn-dropdown q-btn-dropdown--simple",...s.value,...l.value,disable:e.disable===!0||e.disableMainBtn===!0,noWrap:!0,round:!1,onClick:$},{default:()=>pe(n.label,[]).concat(C),loading:n.loading}):x(Gn,{class:"q-btn-dropdown q-btn-dropdown--split no-wrap q-btn-item",rounded:e.rounded,square:e.square,...r.value,glossy:e.glossy,stretch:e.stretch},()=>[x(me,{class:"q-btn-dropdown--current",...s.value,disable:e.disable===!0||e.disableMainBtn===!0,noWrap:!0,round:!1,onClick:B},{default:n.label,loading:n.loading}),x(me,{class:"q-btn-dropdown__arrow-container q-anchor--skip",...l.value,...r.value,disable:e.disable===!0||e.disableDropdown===!0,rounded:e.rounded,color:e.color,textColor:e.textColor,dense:e.dense,size:e.size,padding:e.padding,ripple:e.ripple},()=>C)])}}}),at=de({name:"QCard",props:{...tt,tag:{type:String,default:"div"},square:Boolean,flat:Boolean,bordered:Boolean},setup(e,{slots:n}){const{proxy:{$q:i}}=be(),o=nt(e,i),t=d(()=>"q-card"+(o.value===!0?" q-card--dark q-dark":"")+(e.bordered===!0?" q-card--bordered":"")+(e.square===!0?" q-card--square no-border-radius":"")+(e.flat===!0?" q-card--flat no-shadow":""));return()=>x(e.tag,{class:t.value},pe(n.default))}}),na=de({name:"QCardActions",props:{...yn,vertical:Boolean},setup(e,{slots:n}){const i=kn(e),o=d(()=>`q-card__actions ${i.value} q-card__actions--${e.vertical===!0?"vert column":"horiz row"}`);return()=>x("div",{class:o.value},pe(n.default))}}),it=de({name:"QCardSection",props:{tag:{type:String,default:"div"},horizontal:Boolean},setup(e,{slots:n}){const i=d(()=>`q-card__section q-card__section--${e.horizontal===!0?"horiz row no-wrap":"vert"}`);return()=>x(e.tag,{class:i.value},pe(n.default))}}),ot={left:!0,right:!0,up:!0,down:!0,horizontal:!0,vertical:!0},aa=Object.keys(ot);ot.all=!0;function Te(e){const n={};for(const i of aa)e[i]===!0&&(n[i]=!0);return Object.keys(n).length===0?ot:(n.horizontal===!0?n.left=n.right=!0:n.left===!0&&n.right===!0&&(n.horizontal=!0),n.vertical===!0?n.up=n.down=!0:n.up===!0&&n.down===!0&&(n.vertical=!0),n.horizontal===!0&&n.vertical===!0&&(n.all=!0),n)}const ia=["INPUT","TEXTAREA"];function Le(e,n){return n.event===void 0&&e.target!==void 0&&e.target.draggable!==!0&&typeof n.handler=="function"&&ia.includes(e.target.nodeName.toUpperCase())===!1&&(e.qClonedBy===void 0||e.qClonedBy.indexOf(n.uid)===-1)}function oa(e){const n=[.06,6,50];return typeof e=="string"&&e.length&&e.split(":").forEach((i,o)=>{const t=parseFloat(i);t&&(n[o]=t)}),n}const la=Je({name:"touch-swipe",beforeMount(e,{value:n,arg:i,modifiers:o}){if(o.mouse!==!0&&ge.has.touch!==!0)return;const t=o.mouseCapture===!0?"Capture":"",a={handler:n,sensitivity:oa(i),direction:Te(o),noop:Ut,mouseStart(u){Le(u,a)&&Bt(u)&&(we(a,"temp",[[document,"mousemove","move",`notPassive${t}`],[document,"mouseup","end","notPassiveCapture"]]),a.start(u,!0))},touchStart(u){if(Le(u,a)){const l=u.target;we(a,"temp",[[l,"touchmove","move","notPassiveCapture"],[l,"touchcancel","end","notPassiveCapture"],[l,"touchend","end","notPassiveCapture"]]),a.start(u)}},start(u,l){ge.is.firefox===!0&&Ve(e,!0);const v=Re(u);a.event={x:v.left,y:v.top,time:Date.now(),mouse:l===!0,dir:!1}},move(u){if(a.event===void 0)return;if(a.event.dir!==!1){Ae(u);return}const l=Date.now()-a.event.time;if(l===0)return;const v=Re(u),r=v.left-a.event.x,s=Math.abs(r),c=v.top-a.event.y,h=Math.abs(c);if(a.event.mouse!==!0){if(s<a.sensitivity[1]&&h<a.sensitivity[1]){a.end(u);return}}else if(window.getSelection().toString()!==""){a.end(u);return}else if(s<a.sensitivity[2]&&h<a.sensitivity[2])return;const p=s/l,w=h/l;a.direction.vertical===!0&&s<h&&s<100&&w>a.sensitivity[0]&&(a.event.dir=c<0?"up":"down"),a.direction.horizontal===!0&&s>h&&h<100&&p>a.sensitivity[0]&&(a.event.dir=r<0?"left":"right"),a.direction.up===!0&&s<h&&c<0&&s<100&&w>a.sensitivity[0]&&(a.event.dir="up"),a.direction.down===!0&&s<h&&c>0&&s<100&&w>a.sensitivity[0]&&(a.event.dir="down"),a.direction.left===!0&&s>h&&r<0&&h<100&&p>a.sensitivity[0]&&(a.event.dir="left"),a.direction.right===!0&&s>h&&r>0&&h<100&&p>a.sensitivity[0]&&(a.event.dir="right"),a.event.dir!==!1?(Ae(u),a.event.mouse===!0&&(document.body.classList.add("no-pointer-events--children"),document.body.classList.add("non-selectable"),Ft(),a.styleCleanup=$=>{a.styleCleanup=void 0,document.body.classList.remove("non-selectable");const B=()=>{document.body.classList.remove("no-pointer-events--children")};$===!0?setTimeout(B,50):B()}),a.handler({evt:u,touch:a.event.mouse!==!0,mouse:a.event.mouse,direction:a.event.dir,duration:l,distance:{x:s,y:h}})):a.end(u)},end(u){var l;a.event!==void 0&&(Ne(a,"temp"),ge.is.firefox===!0&&Ve(e,!1),(l=a.styleCleanup)==null||l.call(a,!0),u!==void 0&&a.event.dir!==!1&&Ae(u),a.event=void 0)}};if(e.__qtouchswipe=a,o.mouse===!0){const u=o.mouseCapture===!0||o.mousecapture===!0?"Capture":"";we(a,"main",[[e,"mousedown","mouseStart",`passive${u}`]])}ge.has.touch===!0&&we(a,"main",[[e,"touchstart","touchStart",`passive${o.capture===!0?"Capture":""}`],[e,"touchmove","noop","notPassiveCapture"]])},updated(e,n){const i=e.__qtouchswipe;i!==void 0&&(n.oldValue!==n.value&&(typeof n.value!="function"&&i.end(),i.handler=n.value),i.direction=Te(n.modifiers))},beforeUnmount(e){var i;const n=e.__qtouchswipe;n!==void 0&&(Ne(n,"main"),Ne(n,"temp"),ge.is.firefox===!0&&Ve(e,!1),(i=n.styleCleanup)==null||i.call(n),delete e.__qtouchswipe)}});function ra(){let e=Object.create(null);return{getCache:(n,i)=>e[n]===void 0?e[n]=typeof i=="function"?i():i:e[n],setCache(n,i){e[n]=i},hasCache(n){return Object.hasOwnProperty.call(e,n)},clearCache(n){n!==void 0?delete e[n]:e=Object.create(null)}}}const sa={name:{required:!0},disable:Boolean},ft={setup(e,{slots:n}){return()=>x("div",{class:"q-panel scroll",role:"tabpanel"},pe(n.default))}},ua={modelValue:{required:!0},animated:Boolean,infinite:Boolean,swipeable:Boolean,vertical:Boolean,transitionPrev:String,transitionNext:String,transitionDuration:{type:[String,Number],default:300},keepAlive:Boolean,keepAliveInclude:[String,Array,RegExp],keepAliveExclude:[String,Array,RegExp],keepAliveMax:Number},ca=["update:modelValue","beforeTransition","transition"];function da(){const{props:e,emit:n,proxy:i}=be(),{getCache:o}=ra(),{registerTimeout:t}=Xe();let a,u;const l=W(null),v={value:null};function r(_){const q=e.vertical===!0?"up":"left";H((i.$q.lang.rtl===!0?-1:1)*(_.direction===q?1:-1))}const s=d(()=>[[la,r,void 0,{horizontal:e.vertical!==!0,vertical:e.vertical,mouse:!0}]]),c=d(()=>e.transitionPrev||`slide-${e.vertical===!0?"down":"right"}`),h=d(()=>e.transitionNext||`slide-${e.vertical===!0?"up":"left"}`),p=d(()=>`--q-transition-duration: ${e.transitionDuration}ms`),w=d(()=>typeof e.modelValue=="string"||typeof e.modelValue=="number"?e.modelValue:String(e.modelValue)),$=d(()=>({include:e.keepAliveInclude,exclude:e.keepAliveExclude,max:e.keepAliveMax})),B=d(()=>e.keepAliveInclude!==void 0||e.keepAliveExclude!==void 0);oe(()=>e.modelValue,(_,q)=>{const U=C(_)===!0?M(_):-1;u!==!0&&O(U===-1?0:U<M(q)?-1:1),v.value!==U&&(v.value=U,n("beforeTransition",_,q),t(()=>{n("transition",_,q)},e.transitionDuration))});function L(){H(1)}function R(){H(-1)}function N(_){n("update:modelValue",_)}function C(_){return _!=null&&_!==""}function M(_){return a.findIndex(q=>q.props.name===_&&q.props.disable!==""&&q.props.disable!==!0)}function X(){return a.filter(_=>_.props.disable!==""&&_.props.disable!==!0)}function O(_){const q=_!==0&&e.animated===!0&&v.value!==-1?"q-transition--"+(_===-1?c.value:h.value):null;l.value!==q&&(l.value=q)}function H(_,q=v.value){let U=q+_;for(;U!==-1&&U<a.length;){const A=a[U];if(A!==void 0&&A.props.disable!==""&&A.props.disable!==!0){O(_),u=!0,n("update:modelValue",A.props.name),setTimeout(()=>{u=!1});return}U+=_}e.infinite===!0&&a.length!==0&&q!==-1&&q!==a.length&&H(_,_===-1?a.length:-1)}function k(){const _=M(e.modelValue);return v.value!==_&&(v.value=_),!0}function m(){const _=C(e.modelValue)===!0&&k()&&a[v.value];return e.keepAlive===!0?[x(sn,$.value,[x(B.value===!0?o(w.value,()=>({...ft,name:w.value})):ft,{key:w.value,style:p.value},()=>_)])]:[x("div",{class:"q-panel scroll",style:p.value,key:w.value,role:"tabpanel"},[_])]}function S(){if(a.length!==0)return e.animated===!0?[x(Nt,{name:l.value},m)]:m()}function f(_){return a=wn(pe(_.default,[])).filter(q=>q.props!==null&&q.props.slot===void 0&&C(q.props.name)===!0),a.length}function g(){return a}return Object.assign(i,{next:L,previous:R,goTo:N}),{panelIndex:v,panelDirectives:s,updatePanelsList:f,updatePanelIndex:k,getPanelContent:S,getEnabledPanels:X,getPanels:g,isValidPanelName:C,keepAliveProps:$,needsUniqueKeepAliveWrapper:B,goToPanelByOffset:H,goToPanel:N,nextPanel:L,previousPanel:R}}const va=["top","right","bottom","left"],ma=["regular","flat","outline","push","unelevated"],fa=de({name:"QCarousel",props:{...tt,...ua,...Sn,transitionPrev:{type:String,default:"fade"},transitionNext:{type:String,default:"fade"},height:String,padding:Boolean,controlColor:String,controlTextColor:String,controlType:{type:String,validator:e=>ma.includes(e),default:"flat"},autoplay:[Number,Boolean],arrows:Boolean,prevIcon:String,nextIcon:String,navigation:Boolean,navigationPosition:{type:String,validator:e=>va.includes(e)},navigationIcon:String,navigationActiveIcon:String,thumbnails:Boolean},emits:[...Cn,...ca],setup(e,{slots:n}){const{proxy:{$q:i}}=be(),o=nt(e,i);let t=null,a;const{updatePanelsList:u,getPanelContent:l,panelDirectives:v,goToPanel:r,previousPanel:s,nextPanel:c,getEnabledPanels:h,panelIndex:p}=da(),{inFullscreen:w}=xn(),$=d(()=>w.value!==!0&&e.height!==void 0?{height:e.height}:{}),B=d(()=>e.vertical===!0?"vertical":"horizontal"),L=d(()=>e.navigationPosition||(e.vertical===!0?"right":"bottom")),R=d(()=>`q-carousel q-panel-parent q-carousel--with${e.padding===!0?"":"out"}-padding`+(w.value===!0?" fullscreen":"")+(o.value===!0?" q-carousel--dark q-dark":"")+(e.arrows===!0?` q-carousel--arrows-${B.value}`:"")+(e.navigation===!0?` q-carousel--navigation-${L.value}`:"")),N=d(()=>{const m=[e.prevIcon||i.iconSet.carousel[e.vertical===!0?"up":"left"],e.nextIcon||i.iconSet.carousel[e.vertical===!0?"down":"right"]];return e.vertical===!1&&i.lang.rtl===!0?m.reverse():m}),C=d(()=>e.navigationIcon||i.iconSet.carousel.navigationIcon),M=d(()=>e.navigationActiveIcon||C.value),X=d(()=>({color:e.controlColor,textColor:e.controlTextColor,round:!0,[e.controlType]:!0,dense:!0}));oe(()=>e.modelValue,()=>{e.autoplay&&O()}),oe(()=>e.autoplay,m=>{m?O():t!==null&&(clearTimeout(t),t=null)});function O(){const m=Vt(e.autoplay)===!0?Math.abs(e.autoplay):5e3;t!==null&&clearTimeout(t),t=setTimeout(()=>{t=null,m>=0?c():s()},m)}De(()=>{e.autoplay&&O()}),et(()=>{t!==null&&clearTimeout(t)});function H(m,S){return x("div",{class:`q-carousel__control q-carousel__navigation no-wrap absolute flex q-carousel__navigation--${m} q-carousel__navigation--${L.value}`+(e.controlColor!==void 0?` text-${e.controlColor}`:"")},[x("div",{class:"q-carousel__navigation-inner flex flex-center no-wrap"},h().map(S))])}function k(){const m=[];if(e.navigation===!0){const S=n["navigation-icon"]!==void 0?n["navigation-icon"]:g=>x(me,{key:"nav"+g.name,class:`q-carousel__navigation-icon q-carousel__navigation-icon--${g.active===!0?"":"in"}active`,...g.btnProps,onClick:g.onClick}),f=a-1;m.push(H("buttons",(g,_)=>{const q=g.props.name,U=p.value===_;return S({index:_,maxIndex:f,name:q,active:U,btnProps:{icon:U===!0?M.value:C.value,size:"sm",...X.value},onClick:()=>{r(q)}})}))}else if(e.thumbnails===!0){const S=e.controlColor!==void 0?` text-${e.controlColor}`:"";m.push(H("thumbnails",f=>{const g=f.props;return x("img",{key:"tmb#"+g.name,class:`q-carousel__thumbnail q-carousel__thumbnail--${g.name===e.modelValue?"":"in"}active`+S,src:g.imgSrc||g["img-src"],onClick:()=>{r(g.name)}})}))}return e.arrows===!0&&p.value>=0&&((e.infinite===!0||p.value>0)&&m.push(x("div",{key:"prev",class:`q-carousel__control q-carousel__arrow q-carousel__prev-arrow q-carousel__prev-arrow--${B.value} absolute flex flex-center`},[x(me,{icon:N.value[0],...X.value,onClick:s})])),(e.infinite===!0||p.value<a-1)&&m.push(x("div",{key:"next",class:`q-carousel__control q-carousel__arrow q-carousel__next-arrow q-carousel__next-arrow--${B.value} absolute flex flex-center`},[x(me,{icon:N.value[1],...X.value,onClick:c})]))),Tt(n.control,m)}return()=>(a=u(n),x("div",{class:R.value,style:$.value},[Dt("div",{class:"q-carousel__slides-container"},l(),"sl-cont",e.swipeable,()=>v.value)].concat(k())))}}),ga=de({name:"QCarouselSlide",props:{...sa,imgSrc:String},setup(e,{slots:n}){const i=d(()=>e.imgSrc?{backgroundImage:`url("${e.imgSrc}")`}:{});return()=>x("div",{class:"q-carousel__slide",style:i.value},pe(n.default))}}),_a={...At,min:{type:Number,default:0},max:{type:Number,default:100},color:String,centerColor:String,trackColor:String,fontSize:String,rounded:Boolean,thickness:{type:Number,default:.2,validator:e=>e>=0&&e<=1},angle:{type:Number,default:0},showValue:Boolean,reverse:Boolean,instantFeedback:Boolean},Ye=50,jt=2*Ye,Ht=jt*Math.PI,ha=Math.round(Ht*1e3)/1e3,ba=de({name:"QCircularProgress",props:{..._a,value:{type:Number,default:0},animationSpeed:{type:[String,Number],default:600},indeterminate:Boolean},setup(e,{slots:n}){const{proxy:{$q:i}}=be(),o=Pt(e),t=d(()=>{const p=(i.lang.rtl===!0?-1:1)*e.angle;return{transform:e.reverse!==(i.lang.rtl===!0)?`scale3d(-1, 1, 1) rotate3d(0, 0, 1, ${-90-p}deg)`:`rotate3d(0, 0, 1, ${p-90}deg)`}}),a=d(()=>e.instantFeedback!==!0&&e.indeterminate!==!0?{transition:`stroke-dashoffset ${e.animationSpeed}ms ease 0s, stroke ${e.animationSpeed}ms ease`}:""),u=d(()=>jt/(1-e.thickness/2)),l=d(()=>`${u.value/2} ${u.value/2} ${u.value} ${u.value}`),v=d(()=>qe(e.value,e.min,e.max)),r=d(()=>e.max-e.min),s=d(()=>e.thickness/2*u.value),c=d(()=>{const p=(e.max-v.value)/r.value,w=e.rounded===!0&&v.value<e.max&&p<.25?s.value/2*(1-p/.25):0;return Ht*p+w});function h({thickness:p,offset:w,color:$,cls:B,rounded:L}){return x("circle",{class:"q-circular-progress__"+B+($!==void 0?` text-${$}`:""),style:a.value,fill:"transparent",stroke:"currentColor","stroke-width":p,"stroke-dasharray":ha,"stroke-dashoffset":w,"stroke-linecap":L,cx:u.value,cy:u.value,r:Ye})}return()=>{const p=[];e.centerColor!==void 0&&e.centerColor!=="transparent"&&p.push(x("circle",{class:`q-circular-progress__center text-${e.centerColor}`,fill:"currentColor",r:Ye-s.value/2,cx:u.value,cy:u.value})),e.trackColor!==void 0&&e.trackColor!=="transparent"&&p.push(h({cls:"track",thickness:s.value,offset:0,color:e.trackColor})),p.push(h({cls:"circle",thickness:s.value,offset:c.value,color:e.color,rounded:e.rounded===!0?"round":void 0}));const w=[x("svg",{class:"q-circular-progress__svg",style:t.value,viewBox:l.value,"aria-hidden":"true"},p)];return e.showValue===!0&&w.push(x("div",{class:"q-circular-progress__text absolute-full row flex-center content-center",style:{fontSize:e.fontSize}},n.default!==void 0?n.default():[x("div",v.value)])),x("div",{class:`q-circular-progress q-circular-progress--${e.indeterminate===!0?"in":""}determinate`,style:o.value,role:"progressbar","aria-valuemin":e.min,"aria-valuemax":e.max,"aria-valuenow":e.indeterminate===!0?void 0:v.value},It(n.internal,w))}}});function We(e,n,i){const o=Re(e);let t,a=o.left-n.event.x,u=o.top-n.event.y,l=Math.abs(a),v=Math.abs(u);const r=n.direction;r.horizontal===!0&&r.vertical!==!0?t=a<0?"left":"right":r.horizontal!==!0&&r.vertical===!0?t=u<0?"up":"down":r.up===!0&&u<0?(t="up",l>v&&(r.left===!0&&a<0?t="left":r.right===!0&&a>0&&(t="right"))):r.down===!0&&u>0?(t="down",l>v&&(r.left===!0&&a<0?t="left":r.right===!0&&a>0&&(t="right"))):r.left===!0&&a<0?(t="left",l<v&&(r.up===!0&&u<0?t="up":r.down===!0&&u>0&&(t="down"))):r.right===!0&&a>0&&(t="right",l<v&&(r.up===!0&&u<0?t="up":r.down===!0&&u>0&&(t="down")));let s=!1;if(t===void 0&&i===!1){if(n.event.isFirst===!0||n.event.lastDir===void 0)return{};t=n.event.lastDir,s=!0,t==="left"||t==="right"?(o.left-=a,l=0,a=0):(o.top-=u,v=0,u=0)}return{synthetic:s,payload:{evt:e,touch:n.event.mouse!==!0,mouse:n.event.mouse===!0,position:o,direction:t,isFirst:n.event.isFirst,isFinal:i===!0,duration:Date.now()-n.event.time,distance:{x:l,y:v},offset:{x:a,y:u},delta:{x:o.left-n.event.lastX,y:o.top-n.event.lastY}}}}let pa=0;const ya=Je({name:"touch-pan",beforeMount(e,{value:n,modifiers:i}){if(i.mouse!==!0&&ge.has.touch!==!0)return;function o(a,u){i.mouse===!0&&u===!0?Ae(a):(i.stop===!0&&Be(a),i.prevent===!0&&vt(a))}const t={uid:"qvtp_"+pa++,handler:n,modifiers:i,direction:Te(i),noop:Ut,mouseStart(a){Le(a,t)&&Bt(a)&&(we(t,"temp",[[document,"mousemove","move","notPassiveCapture"],[document,"mouseup","end","passiveCapture"]]),t.start(a,!0))},touchStart(a){if(Le(a,t)){const u=a.target;we(t,"temp",[[u,"touchmove","move","notPassiveCapture"],[u,"touchcancel","end","passiveCapture"],[u,"touchend","end","passiveCapture"]]),t.start(a)}},start(a,u){if(ge.is.firefox===!0&&Ve(e,!0),t.lastEvt=a,u===!0||i.stop===!0){if(t.direction.all!==!0&&(u!==!0||t.modifiers.mouseAllDir!==!0&&t.modifiers.mousealldir!==!0)){const r=a.type.indexOf("mouse")!==-1?new MouseEvent(a.type,a):new TouchEvent(a.type,a);a.defaultPrevented===!0&&vt(r),a.cancelBubble===!0&&Be(r),Object.assign(r,{qKeyEvent:a.qKeyEvent,qClickOutside:a.qClickOutside,qAnchorHandled:a.qAnchorHandled,qClonedBy:a.qClonedBy===void 0?[t.uid]:a.qClonedBy.concat(t.uid)}),t.initialEvent={target:a.target,event:r}}Be(a)}const{left:l,top:v}=Re(a);t.event={x:l,y:v,time:Date.now(),mouse:u===!0,detected:!1,isFirst:!0,isFinal:!1,lastX:l,lastY:v}},move(a){if(t.event===void 0)return;const u=Re(a),l=u.left-t.event.x,v=u.top-t.event.y;if(l===0&&v===0)return;t.lastEvt=a;const r=t.event.mouse===!0,s=()=>{o(a,r);let p;i.preserveCursor!==!0&&i.preservecursor!==!0&&(p=document.documentElement.style.cursor||"",document.documentElement.style.cursor="grabbing"),r===!0&&document.body.classList.add("no-pointer-events--children"),document.body.classList.add("non-selectable"),Ft(),t.styleCleanup=w=>{if(t.styleCleanup=void 0,p!==void 0&&(document.documentElement.style.cursor=p),document.body.classList.remove("non-selectable"),r===!0){const $=()=>{document.body.classList.remove("no-pointer-events--children")};w!==void 0?setTimeout(()=>{$(),w()},50):$()}else w!==void 0&&w()}};if(t.event.detected===!0){t.event.isFirst!==!0&&o(a,t.event.mouse);const{payload:p,synthetic:w}=We(a,t,!1);p!==void 0&&(t.handler(p)===!1?t.end(a):(t.styleCleanup===void 0&&t.event.isFirst===!0&&s(),t.event.lastX=p.position.left,t.event.lastY=p.position.top,t.event.lastDir=w===!0?void 0:p.direction,t.event.isFirst=!1));return}if(t.direction.all===!0||r===!0&&(t.modifiers.mouseAllDir===!0||t.modifiers.mousealldir===!0)){s(),t.event.detected=!0,t.move(a);return}const c=Math.abs(l),h=Math.abs(v);c!==h&&(t.direction.horizontal===!0&&c>h||t.direction.vertical===!0&&c<h||t.direction.up===!0&&c<h&&v<0||t.direction.down===!0&&c<h&&v>0||t.direction.left===!0&&c>h&&l<0||t.direction.right===!0&&c>h&&l>0?(t.event.detected=!0,t.move(a)):t.end(a,!0))},end(a,u){var l;if(t.event!==void 0){if(Ne(t,"temp"),ge.is.firefox===!0&&Ve(e,!1),u===!0)(l=t.styleCleanup)==null||l.call(t),t.event.detected!==!0&&t.initialEvent!==void 0&&t.initialEvent.target.dispatchEvent(t.initialEvent.event);else if(t.event.detected===!0){t.event.isFirst===!0&&t.handler(We(a===void 0?t.lastEvt:a,t).payload);const{payload:v}=We(a===void 0?t.lastEvt:a,t,!0),r=()=>{t.handler(v)};t.styleCleanup!==void 0?t.styleCleanup(r):r()}t.event=void 0,t.initialEvent=void 0,t.lastEvt=void 0}}};if(e.__qtouchpan=t,i.mouse===!0){const a=i.mouseCapture===!0||i.mousecapture===!0?"Capture":"";we(t,"main",[[e,"mousedown","mouseStart",`passive${a}`]])}ge.has.touch===!0&&we(t,"main",[[e,"touchstart","touchStart",`passive${i.capture===!0?"Capture":""}`],[e,"touchmove","noop","notPassiveCapture"]])},updated(e,n){const i=e.__qtouchpan;i!==void 0&&(n.oldValue!==n.value&&(typeof value!="function"&&i.end(),i.handler=n.value),i.direction=Te(n.modifiers))},beforeUnmount(e){var i;const n=e.__qtouchpan;n!==void 0&&(n.event!==void 0&&n.end(),Ne(n,"main"),Ne(n,"temp"),ge.is.firefox===!0&&Ve(e,!1),(i=n.styleCleanup)==null||i.call(n),delete e.__qtouchpan)}}),gt="q-slider__marker-labels",ka=e=>({value:e}),wa=({marker:e})=>x("div",{key:e.value,style:e.style,class:e.classes},e.label),Kt=[34,37,40,33,39,38],Ca={...tt,...zt,min:{type:Number,default:0},max:{type:Number,default:100},innerMin:Number,innerMax:Number,step:{type:Number,default:1,validator:e=>e>=0},snap:Boolean,vertical:Boolean,reverse:Boolean,color:String,markerLabelsClass:String,label:Boolean,labelColor:String,labelTextColor:String,labelAlways:Boolean,switchLabelSide:Boolean,markers:[Boolean,Number],markerLabels:[Boolean,Array,Object,Function],switchMarkerLabelsSide:Boolean,trackImg:String,trackColor:String,innerTrackImg:String,innerTrackColor:String,selectionColor:String,selectionImg:String,thumbSize:{type:String,default:"20px"},trackSize:{type:String,default:"4px"},disable:Boolean,readonly:Boolean,dense:Boolean,tabindex:[String,Number],thumbColor:String,thumbPath:{type:String,default:"M 4, 10 a 6,6 0 1,0 12,0 a 6,6 0 1,0 -12,0"}},Sa=["pan","update:modelValue","change"];function xa({updateValue:e,updatePosition:n,getDragging:i,formAttrs:o}){const{props:t,emit:a,slots:u,proxy:{$q:l}}=be(),v=nt(t,l),r=qn(o),s=W(!1),c=W(!1),h=W(!1),p=W(!1),w=d(()=>t.vertical===!0?"--v":"--h"),$=d(()=>"-"+(t.switchLabelSide===!0?"switched":"standard")),B=d(()=>t.vertical===!0?t.reverse===!0:t.reverse!==(l.lang.rtl===!0)),L=d(()=>isNaN(t.innerMin)===!0||t.innerMin<t.min?t.min:t.innerMin),R=d(()=>isNaN(t.innerMax)===!0||t.innerMax>t.max?t.max:t.innerMax),N=d(()=>t.disable!==!0&&t.readonly!==!0&&L.value<R.value),C=d(()=>{if(t.step===0)return D=>D;const y=(String(t.step).trim().split(".")[1]||"").length;return D=>parseFloat(D.toFixed(y))}),M=d(()=>t.step===0?1:t.step),X=d(()=>N.value===!0?t.tabindex||0:-1),O=d(()=>t.max-t.min),H=d(()=>R.value-L.value),k=d(()=>Ee(L.value)),m=d(()=>Ee(R.value)),S=d(()=>t.vertical===!0?B.value===!0?"bottom":"top":B.value===!0?"right":"left"),f=d(()=>t.vertical===!0?"height":"width"),g=d(()=>t.vertical===!0?"width":"height"),_=d(()=>t.vertical===!0?"vertical":"horizontal"),q=d(()=>{const y={role:"slider","aria-valuemin":L.value,"aria-valuemax":R.value,"aria-orientation":_.value,"data-step":t.step};return t.disable===!0?y["aria-disabled"]="true":t.readonly===!0&&(y["aria-readonly"]="true"),y}),U=d(()=>`q-slider q-slider${w.value} q-slider--${s.value===!0?"":"in"}active inline no-wrap `+(t.vertical===!0?"row":"column")+(t.disable===!0?" disabled":" q-slider--enabled"+(N.value===!0?" q-slider--editable":""))+(h.value==="both"?" q-slider--focus":"")+(t.label||t.labelAlways===!0?" q-slider--label":"")+(t.labelAlways===!0?" q-slider--label-always":"")+(v.value===!0?" q-slider--dark":"")+(t.dense===!0?" q-slider--dense q-slider--dense"+w.value:""));function A(y){const D="q-slider__"+y;return`${D} ${D}${w.value} ${D}${w.value}${$.value}`}function J(y){const D="q-slider__"+y;return`${D} ${D}${w.value}`}const te=d(()=>{const y=t.selectionColor||t.color;return"q-slider__selection absolute"+(y!==void 0?` text-${y}`:"")}),j=d(()=>J("markers")+" absolute overflow-hidden"),Y=d(()=>J("track-container")),b=d(()=>A("pin")),z=d(()=>A("label")),P=d(()=>A("text-container")),Z=d(()=>A("marker-labels-container")+(t.markerLabelsClass!==void 0?` ${t.markerLabelsClass}`:"")),Q=d(()=>"q-slider__track relative-position no-outline"+(t.trackColor!==void 0?` bg-${t.trackColor}`:"")),ie=d(()=>{const y={[g.value]:t.trackSize};return t.trackImg!==void 0&&(y.backgroundImage=`url(${t.trackImg}) !important`),y}),ye=d(()=>"q-slider__inner absolute"+(t.innerTrackColor!==void 0?` bg-${t.innerTrackColor}`:"")),ue=d(()=>{const y=m.value-k.value,D={[S.value]:`${100*k.value}%`,[f.value]:y===0?"2px":`${100*y}%`};return t.innerTrackImg!==void 0&&(D.backgroundImage=`url(${t.innerTrackImg}) !important`),D});function F(y){const{min:D,max:ee,step:ne}=t;let re=D+y*(ee-D);if(ne>0){const ke=(re-L.value)%ne;re+=(Math.abs(ke)>=ne/2?(ke<0?-1:1)*ne:0)-ke}return re=C.value(re),qe(re,L.value,R.value)}function Ee(y){return O.value===0?0:(y-t.min)/O.value}function ve(y,D){const ee=Re(y),ne=t.vertical===!0?qe((ee.top-D.top)/D.height,0,1):qe((ee.left-D.left)/D.width,0,1);return qe(B.value===!0?1-ne:ne,k.value,m.value)}const lt=d(()=>Vt(t.markers)===!0?t.markers:M.value),rt=d(()=>{const y=[],D=lt.value,ee=t.max;let ne=t.min;do y.push(ne),ne+=D;while(ne<ee);return y.push(ee),y}),st=d(()=>{const y=` ${gt}${w.value}-`;return gt+`${y}${t.switchMarkerLabelsSide===!0?"switched":"standard"}${y}${B.value===!0?"rtl":"ltr"}`}),ze=d(()=>t.markerLabels===!1?null:Yt(t.markerLabels).map((y,D)=>({index:D,value:y.value,label:y.label||y.value,classes:st.value+(y.classes!==void 0?" "+y.classes:""),style:{...ct(y.value),...y.style||{}}}))),ut=d(()=>({markerList:ze.value,markerMap:Zt.value,classes:st.value,getStyle:ct})),Xt=d(()=>{const y=H.value===0?"2px":100*lt.value/H.value;return{...ue.value,backgroundSize:t.vertical===!0?`2px ${y}%`:`${y}% 2px`}});function Yt(y){if(y===!1)return null;if(y===!0)return rt.value.map(ka);if(typeof y=="function")return rt.value.map(ee=>{const ne=y(ee);return Ke(ne)===!0?{...ne,value:ee}:{value:ee,label:ne}});const D=({value:ee})=>ee>=t.min&&ee<=t.max;return Array.isArray(y)===!0?y.map(ee=>Ke(ee)===!0?ee:{value:ee}).filter(D):Object.keys(y).map(ee=>{const ne=y[ee],re=Number(ee);return Ke(ne)===!0?{...ne,value:re}:{value:re,label:ne}}).filter(D)}function ct(y){return{[S.value]:`${100*(y-t.min)/O.value}%`}}const Zt=d(()=>{if(t.markerLabels===!1)return null;const y={};return ze.value.forEach(D=>{y[D.value]=D}),y});function Gt(){if(u["marker-label-group"]!==void 0)return u["marker-label-group"](ut.value);const y=u["marker-label"]||wa;return ze.value.map(D=>y({marker:D,...ut.value}))}const Jt=d(()=>[[ya,en,void 0,{[_.value]:!0,prevent:!0,stop:!0,mouse:!0,mouseAllDir:!0}]]);function en(y){y.isFinal===!0?(p.value!==void 0&&(n(y.evt),y.touch===!0&&e(!0),p.value=void 0,a("pan","end")),s.value=!1,h.value=!1):y.isFirst===!0?(p.value=i(y.evt),n(y.evt),e(),s.value=!0,a("pan","start")):(n(y.evt),e())}function dt(){h.value=!1}function tn(y){n(y,i(y)),e(),c.value=!0,s.value=!0,document.addEventListener("mouseup",Oe,!0)}function Oe(){c.value=!1,s.value=!1,e(!0),dt(),document.removeEventListener("mouseup",Oe,!0)}function nn(y){n(y,i(y)),e(!0)}function an(y){Kt.includes(y.keyCode)&&e(!0)}function on(y){if(t.vertical===!0)return null;const D=l.lang.rtl!==t.reverse?1-y:y;return{transform:`translateX(calc(${2*D-1} * ${t.thumbSize} / 2 + ${50-100*D}%))`}}function ln(y){const D=d(()=>c.value===!1&&(h.value===y.focusValue||h.value==="both")?" q-slider--focus":""),ee=d(()=>`q-slider__thumb q-slider__thumb${w.value} q-slider__thumb${w.value}-${B.value===!0?"rtl":"ltr"} absolute non-selectable`+D.value+(y.thumbColor.value!==void 0?` text-${y.thumbColor.value}`:"")),ne=d(()=>({width:t.thumbSize,height:t.thumbSize,[S.value]:`${100*y.ratio.value}%`,zIndex:h.value===y.focusValue?2:void 0})),re=d(()=>y.labelColor.value!==void 0?` text-${y.labelColor.value}`:""),ke=d(()=>on(y.ratio.value)),je=d(()=>"q-slider__text"+(y.labelTextColor.value!==void 0?` text-${y.labelTextColor.value}`:""));return()=>{const He=[x("svg",{class:"q-slider__thumb-shape absolute-full",viewBox:"0 0 20 20","aria-hidden":"true"},[x("path",{d:t.thumbPath})]),x("div",{class:"q-slider__focus-ring fit"})];return(t.label===!0||t.labelAlways===!0)&&(He.push(x("div",{class:b.value+" absolute fit no-pointer-events"+re.value},[x("div",{class:z.value,style:{minWidth:t.thumbSize}},[x("div",{class:P.value,style:ke.value},[x("span",{class:je.value},y.label.value)])])])),t.name!==void 0&&t.disable!==!0&&r(He,"push")),x("div",{class:ee.value,style:ne.value,...y.getNodeData()},He)}}function rn(y,D,ee,ne){const re=[];t.innerTrackColor!=="transparent"&&re.push(x("div",{key:"inner",class:ye.value,style:ue.value})),t.selectionColor!=="transparent"&&re.push(x("div",{key:"selection",class:te.value,style:y.value})),t.markers!==!1&&re.push(x("div",{key:"marker",class:j.value,style:Xt.value})),ne(re);const ke=[Dt("div",{key:"trackC",class:Y.value,tabindex:D.value,...ee.value},[x("div",{class:Q.value,style:ie.value},re)],"slide",N.value,()=>Jt.value)];if(t.markerLabels!==!1){const je=t.switchMarkerLabelsSide===!0?"unshift":"push";ke[je](x("div",{key:"markerL",class:Z.value},Gt()))}return ke}return et(()=>{document.removeEventListener("mouseup",Oe,!0)}),{state:{active:s,focus:h,preventFocus:c,dragging:p,editable:N,classes:U,tabindex:X,attributes:q,roundValueFn:C,keyStep:M,trackLen:O,innerMin:L,innerMinRatio:k,innerMax:R,innerMaxRatio:m,positionProp:S,sizeProp:f,isReversed:B},methods:{onActivate:tn,onMobileClick:nn,onBlur:dt,onKeyup:an,getContent:rn,getThumbRenderFn:ln,convertRatioToModel:F,convertModelToRatio:Ee,getDraggingRatio:ve}}}const qa=()=>({}),$a=de({name:"QSlider",props:{...Ca,modelValue:{required:!0,default:null,validator:e=>typeof e=="number"||e===null},labelValue:[String,Number]},emits:Sa,setup(e,{emit:n}){const{proxy:{$q:i}}=be(),{state:o,methods:t}=xa({updateValue:w,updatePosition:B,getDragging:$,formAttrs:$n(e)}),a=W(null),u=W(0),l=W(0);function v(){l.value=e.modelValue===null?o.innerMin.value:qe(e.modelValue,o.innerMin.value,o.innerMax.value)}oe(()=>`${e.modelValue}|${o.innerMin.value}|${o.innerMax.value}`,v),v();const r=d(()=>t.convertModelToRatio(l.value)),s=d(()=>o.active.value===!0?u.value:r.value),c=d(()=>{const N={[o.positionProp.value]:`${100*o.innerMinRatio.value}%`,[o.sizeProp.value]:`${100*(s.value-o.innerMinRatio.value)}%`};return e.selectionImg!==void 0&&(N.backgroundImage=`url(${e.selectionImg}) !important`),N}),h=t.getThumbRenderFn({focusValue:!0,getNodeData:qa,ratio:s,label:d(()=>e.labelValue!==void 0?e.labelValue:l.value),thumbColor:d(()=>e.thumbColor||e.color),labelColor:d(()=>e.labelColor),labelTextColor:d(()=>e.labelTextColor)}),p=d(()=>o.editable.value!==!0?{}:i.platform.is.mobile===!0?{onClick:t.onMobileClick}:{onMousedown:t.onActivate,onFocus:L,onBlur:t.onBlur,onKeydown:R,onKeyup:t.onKeyup});function w(N){l.value!==e.modelValue&&n("update:modelValue",l.value),N===!0&&n("change",l.value)}function $(){return a.value.getBoundingClientRect()}function B(N,C=o.dragging.value){const M=t.getDraggingRatio(N,C);l.value=t.convertRatioToModel(M),u.value=e.snap!==!0||e.step===0?M:t.convertModelToRatio(l.value)}function L(){o.focus.value=!0}function R(N){if(Kt.includes(N.keyCode)===!1)return;Ae(N);const C=([34,33].includes(N.keyCode)?10:1)*o.keyStep.value,M=([34,37,40].includes(N.keyCode)?-1:1)*(o.isReversed.value===!0?-1:1)*(e.vertical===!0?-1:1)*C;l.value=qe(o.roundValueFn.value(l.value+M),o.innerMin.value,o.innerMax.value),w()}return()=>{const N=t.getContent(c,o.tabindex,p,C=>{C.push(h())});return x("div",{ref:a,class:o.classes.value+(e.modelValue===null?" q-slider--no-value":""),...o.attributes.value,"aria-valuenow":e.modelValue},N)}}});function Ma(e,n){function i(){const o=e.modelValue;try{const t="DataTransfer"in window?new DataTransfer:"ClipboardEvent"in window?new ClipboardEvent("").clipboardData:void 0;return Object(o)===o&&("length"in o?Array.from(o):[o]).forEach(a=>{t.items.add(a)}),{files:t.files}}catch{return{files:void 0}}}return d(()=>{if(e.type==="file")return i()})}const Ua={ratio:[String,Number]};function Ba(e,n){return d(()=>{const i=Number(e.ratio||(n!==void 0?n.value:void 0));return isNaN(i)!==!0&&i>0?{paddingBottom:`${100/i}%`}:null})}const Na=1.7778,Va=de({name:"QImg",props:{...Ua,src:String,srcset:String,sizes:String,alt:String,crossorigin:String,decoding:String,referrerpolicy:String,draggable:Boolean,loading:{type:String,default:"lazy"},loadingShowDelay:{type:[Number,String],default:0},fetchpriority:{type:String,default:"auto"},width:String,height:String,initialRatio:{type:[Number,String],default:Na},placeholderSrc:String,errorSrc:String,fit:{type:String,default:"cover"},position:{type:String,default:"50% 50%"},imgClass:String,imgStyle:Object,noSpinner:Boolean,noNativeMenu:Boolean,noTransition:Boolean,spinnerColor:String,spinnerSize:String},emits:["load","error"],setup(e,{slots:n,emit:i}){const o=W(e.initialRatio),t=Ba(e,o),a=be(),{registerTimeout:u,removeTimeout:l}=Xe(),{registerTimeout:v,removeTimeout:r}=Xe(),s=d(()=>e.placeholderSrc!==void 0?{src:e.placeholderSrc}:null),c=d(()=>e.errorSrc!==void 0?{src:e.errorSrc,__qerror:!0}:null),h=[W(null),W(s.value)],p=W(0),w=W(!1),$=W(!1),B=d(()=>`q-img q-img--${e.noNativeMenu===!0?"no-":""}menu`),L=d(()=>({width:e.width,height:e.height})),R=d(()=>`q-img__image ${e.imgClass!==void 0?e.imgClass+" ":""}q-img__image--with${e.noTransition===!0?"out":""}-transition q-img__image--`),N=d(()=>({...e.imgStyle,objectFit:e.fit,objectPosition:e.position}));function C(){if(r(),e.loadingShowDelay===0){w.value=!0;return}v(()=>{w.value=!0},e.loadingShowDelay)}function M(){r(),w.value=!1}function X({target:f}){Qe(a)===!1&&(l(),o.value=f.naturalHeight===0?.5:f.naturalWidth/f.naturalHeight,O(f,1))}function O(f,g){g===1e3||Qe(a)===!0||(f.complete===!0?H(f):u(()=>{O(f,g+1)},50))}function H(f){Qe(a)!==!0&&(p.value=p.value^1,h[p.value].value=null,M(),f.getAttribute("__qerror")!=="true"&&($.value=!1),i("load",f.currentSrc||f.src))}function k(f){l(),M(),$.value=!0,h[p.value].value=c.value,h[p.value^1].value=s.value,i("error",f)}function m(f){const g=h[f].value,_={key:"img_"+f,class:R.value,style:N.value,alt:e.alt,crossorigin:e.crossorigin,decoding:e.decoding,referrerpolicy:e.referrerpolicy,height:e.height,width:e.width,loading:e.loading,fetchpriority:e.fetchpriority,"aria-hidden":"true",draggable:e.draggable,...g};return p.value===f?Object.assign(_,{class:_.class+"current",onLoad:X,onError:k}):_.class+="loaded",x("div",{class:"q-img__container absolute-full",key:"img"+f},x("img",_))}function S(){return w.value===!1?x("div",{key:"content",class:"q-img__content absolute-full q-anchor--skip"},pe(n[$.value===!0?"error":"default"])):x("div",{key:"loading",class:"q-img__loading absolute-full flex flex-center"},n.loading!==void 0?n.loading():e.noSpinner===!0?void 0:[x(Ot,{color:e.spinnerColor,size:e.spinnerSize})])}{let f=function(){oe(()=>e.src||e.srcset||e.sizes?{src:e.src,srcset:e.srcset,sizes:e.sizes}:null,g=>{l(),$.value=!1,g===null?(M(),h[p.value^1].value=s.value):C(),h[p.value].value=g},{immediate:!0})};un.value===!0?De(f):f()}return()=>{const f=[];return t.value!==null&&f.push(x("div",{key:"filler",style:t.value})),h[0].value!==null&&f.push(m(0)),h[1].value!==null&&f.push(m(1)),f.push(x(Nt,{name:"q-transition--fade"},S)),x("div",{key:"main",class:B.value,style:L.value,role:"img","aria-label":e.alt},f)}}}),_t={date:"####/##/##",datetime:"####/##/## ##:##",time:"##:##",fulltime:"##:##:##",phone:"(###) ### - ####",card:"#### #### #### ####"},Fe={"#":{pattern:"[\\d]",negate:"[^\\d]"},S:{pattern:"[a-zA-Z]",negate:"[^a-zA-Z]"},N:{pattern:"[0-9a-zA-Z]",negate:"[^0-9a-zA-Z]"},A:{pattern:"[a-zA-Z]",negate:"[^a-zA-Z]",transform:e=>e.toLocaleUpperCase()},a:{pattern:"[a-zA-Z]",negate:"[^a-zA-Z]",transform:e=>e.toLocaleLowerCase()},X:{pattern:"[0-9a-zA-Z]",negate:"[^0-9a-zA-Z]",transform:e=>e.toLocaleUpperCase()},x:{pattern:"[0-9a-zA-Z]",negate:"[^0-9a-zA-Z]",transform:e=>e.toLocaleLowerCase()}},Qt=Object.keys(Fe);Qt.forEach(e=>{Fe[e].regex=new RegExp(Fe[e].pattern)});const Ra=new RegExp("\\\\([^.*+?^${}()|([\\]])|([.*+?^${}()|[\\]])|(["+Qt.join("")+"])|(.)","g"),ht=/[.*+?^${}()|[\]\\]/g,ae="",Aa={mask:String,reverseFillMask:Boolean,fillMask:[Boolean,String],unmaskedValue:Boolean};function Pa(e,n,i,o){let t,a,u,l,v,r;const s=W(null),c=W(p());function h(){return e.autogrow===!0||["textarea","text","search","url","tel","password"].includes(e.type)}oe(()=>e.type+e.autogrow,$),oe(()=>e.mask,k=>{if(k!==void 0)B(c.value,!0);else{const m=O(c.value);$(),e.modelValue!==m&&n("update:modelValue",m)}}),oe(()=>e.fillMask+e.reverseFillMask,()=>{s.value===!0&&B(c.value,!0)}),oe(()=>e.unmaskedValue,()=>{s.value===!0&&B(c.value)});function p(){if($(),s.value===!0){const k=M(O(e.modelValue));return e.fillMask!==!1?H(k):k}return e.modelValue}function w(k){if(k<t.length)return t.slice(-k);let m="",S=t;const f=S.indexOf(ae);if(f!==-1){for(let g=k-S.length;g>0;g--)m+=ae;S=S.slice(0,f)+m+S.slice(f)}return S}function $(){if(s.value=e.mask!==void 0&&e.mask.length!==0&&h(),s.value===!1){l=void 0,t="",a="";return}const k=_t[e.mask]===void 0?e.mask:_t[e.mask],m=typeof e.fillMask=="string"&&e.fillMask.length!==0?e.fillMask.slice(0,1):"_",S=m.replace(ht,"\\$&"),f=[],g=[],_=[];let q=e.reverseFillMask===!0,U="",A="";k.replace(Ra,(Y,b,z,P,Z)=>{if(P!==void 0){const Q=Fe[P];_.push(Q),A=Q.negate,q===!0&&(g.push("(?:"+A+"+)?("+Q.pattern+"+)?(?:"+A+"+)?("+Q.pattern+"+)?"),q=!1),g.push("(?:"+A+"+)?("+Q.pattern+")?")}else if(z!==void 0)U="\\"+(z==="\\"?"":z),_.push(z),f.push("([^"+U+"]+)?"+U+"?");else{const Q=b!==void 0?b:Z;U=Q==="\\"?"\\\\\\\\":Q.replace(ht,"\\\\$&"),_.push(Q),f.push("([^"+U+"]+)?"+U+"?")}});const J=new RegExp("^"+f.join("")+"("+(U===""?".":"[^"+U+"]")+"+)?"+(U===""?"":"["+U+"]*")+"$"),te=g.length-1,j=g.map((Y,b)=>b===0&&e.reverseFillMask===!0?new RegExp("^"+S+"*"+Y):b===te?new RegExp("^"+Y+"("+(A===""?".":A)+"+)?"+(e.reverseFillMask===!0?"$":S+"*")):new RegExp("^"+Y));u=_,l=Y=>{const b=J.exec(e.reverseFillMask===!0?Y:Y.slice(0,_.length+1));b!==null&&(Y=b.slice(1).join(""));const z=[],P=j.length;for(let Z=0,Q=Y;Z<P;Z++){const ie=j[Z].exec(Q);if(ie===null)break;Q=Q.slice(ie.shift().length),z.push(...ie)}return z.length!==0?z.join(""):Y},t=_.map(Y=>typeof Y=="string"?Y:ae).join(""),a=t.split(ae).join(m)}function B(k,m,S){const f=o.value,g=f.selectionEnd,_=f.value.length-g,q=O(k);m===!0&&$();const U=M(q),A=e.fillMask!==!1?H(U):U,J=c.value!==A;f.value!==A&&(f.value=A),J===!0&&(c.value=A),document.activeElement===f&&Ue(()=>{if(A===a){const j=e.reverseFillMask===!0?a.length:0;f.setSelectionRange(j,j,"forward");return}if(S==="insertFromPaste"&&e.reverseFillMask!==!0){const j=f.selectionEnd;let Y=g-1;for(let b=v;b<=Y&&b<j;b++)t[b]!==ae&&Y++;R.right(f,Y);return}if(["deleteContentBackward","deleteContentForward"].indexOf(S)!==-1){const j=e.reverseFillMask===!0?g===0?A.length>U.length?1:0:Math.max(0,A.length-(A===a?0:Math.min(U.length,_)+1))+1:g;f.setSelectionRange(j,j,"forward");return}if(e.reverseFillMask===!0)if(J===!0){const j=Math.max(0,A.length-(A===a?0:Math.min(U.length,_+1)));j===1&&g===1?f.setSelectionRange(j,j,"forward"):R.rightReverse(f,j)}else{const j=A.length-_;f.setSelectionRange(j,j,"backward")}else if(J===!0){const j=Math.max(0,t.indexOf(ae),Math.min(U.length,g)-1);R.right(f,j)}else{const j=g-1;R.right(f,j)}});const te=e.unmaskedValue===!0?O(A):A;String(e.modelValue)!==te&&(e.modelValue!==null||te!=="")&&i(te,!0)}function L(k,m,S){const f=M(O(k.value));m=Math.max(0,t.indexOf(ae),Math.min(f.length,m)),v=m,k.setSelectionRange(m,S,"forward")}const R={left(k,m){const S=t.slice(m-1).indexOf(ae)===-1;let f=Math.max(0,m-1);for(;f>=0;f--)if(t[f]===ae){m=f,S===!0&&m++;break}if(f<0&&t[m]!==void 0&&t[m]!==ae)return R.right(k,0);m>=0&&k.setSelectionRange(m,m,"backward")},right(k,m){const S=k.value.length;let f=Math.min(S,m+1);for(;f<=S;f++)if(t[f]===ae){m=f;break}else t[f-1]===ae&&(m=f);if(f>S&&t[m-1]!==void 0&&t[m-1]!==ae)return R.left(k,S);k.setSelectionRange(m,m,"forward")},leftReverse(k,m){const S=w(k.value.length);let f=Math.max(0,m-1);for(;f>=0;f--)if(S[f-1]===ae){m=f;break}else if(S[f]===ae&&(m=f,f===0))break;if(f<0&&S[m]!==void 0&&S[m]!==ae)return R.rightReverse(k,0);m>=0&&k.setSelectionRange(m,m,"backward")},rightReverse(k,m){const S=k.value.length,f=w(S),g=f.slice(0,m+1).indexOf(ae)===-1;let _=Math.min(S,m+1);for(;_<=S;_++)if(f[_-1]===ae){m=_,m>0&&g===!0&&m--;break}if(_>S&&f[m-1]!==void 0&&f[m-1]!==ae)return R.leftReverse(k,S);k.setSelectionRange(m,m,"forward")}};function N(k){n("click",k),r=void 0}function C(k){if(n("keydown",k),cn(k)===!0||k.altKey===!0)return;const m=o.value,S=m.selectionStart,f=m.selectionEnd;if(k.shiftKey||(r=void 0),k.keyCode===37||k.keyCode===39){k.shiftKey&&r===void 0&&(r=m.selectionDirection==="forward"?S:f);const g=R[(k.keyCode===39?"right":"left")+(e.reverseFillMask===!0?"Reverse":"")];if(k.preventDefault(),g(m,r===S?f:S),k.shiftKey){const _=m.selectionStart;m.setSelectionRange(Math.min(r,_),Math.max(r,_),"forward")}}else k.keyCode===8&&e.reverseFillMask!==!0&&S===f?(R.left(m,S),m.setSelectionRange(m.selectionStart,f,"backward")):k.keyCode===46&&e.reverseFillMask===!0&&S===f&&(R.rightReverse(m,f),m.setSelectionRange(S,m.selectionEnd,"forward"))}function M(k){if(k==null||k==="")return"";if(e.reverseFillMask===!0)return X(k);const m=u;let S=0,f="";for(let g=0;g<m.length;g++){const _=k[S],q=m[g];if(typeof q=="string")f+=q;else if(_!==void 0&&q.regex.test(_))f+=q.transform!==void 0?q.transform(_):_,S++;else return f}return f}function X(k){const m=u,S=t.indexOf(ae);let f=k.length-1,g="";for(let _=m.length-1;_>=0&&f!==-1;_--){const q=m[_];let U=k[f];if(typeof q=="string")g=q+g;else if(U!==void 0&&q.regex.test(U))do g=(q.transform!==void 0?q.transform(U):U)+g,f--,U=k[f];while(S===_&&U!==void 0&&q.regex.test(U));else return g}return g}function O(k){return typeof k!="string"||l===void 0?typeof k=="number"?l(""+k):k:l(k)}function H(k){return a.length-k.length<=0?k:e.reverseFillMask===!0&&k.length!==0?a.slice(0,-k.length)+k:k+a.slice(k.length)}return{innerValue:c,hasMask:s,moveCursorForPaste:L,updateMaskValue:B,onMaskedKeydown:C,onMaskedClick:N}}const Ea=de({name:"QInput",inheritAttrs:!1,props:{...Un,...Aa,...zt,modelValue:[String,Number,FileList],shadowText:String,type:{type:String,default:"text"},debounce:[String,Number],autogrow:Boolean,inputClass:[Array,String,Object],inputStyle:[Array,String,Object]},emits:[...Mn,"paste","change","keydown","click","animationend"],setup(e,{emit:n,attrs:i}){const{proxy:o}=be(),{$q:t}=o,a={};let u=NaN,l,v,r=null,s;const c=W(null),h=Bn(e),{innerValue:p,hasMask:w,moveCursorForPaste:$,updateMaskValue:B,onMaskedKeydown:L,onMaskedClick:R}=Pa(e,n,U,c),N=Ma(e),C=d(()=>mt(p.value)),M=Vn(_),X=Nn({changeEvent:!0}),O=d(()=>e.type==="textarea"||e.autogrow===!0),H=d(()=>O.value===!0||["text","search","url","tel","password"].includes(e.type)),k=d(()=>{const b={...X.splitAttrs.listeners.value,onInput:_,onPaste:g,onChange:J,onBlur:te,onFocus:Be};return b.onCompositionstart=b.onCompositionupdate=b.onCompositionend=M,w.value===!0&&(b.onKeydown=L,b.onClick=R),e.autogrow===!0&&(b.onAnimationend=q),b}),m=d(()=>{const b={tabindex:0,"data-autofocus":e.autofocus===!0||void 0,rows:e.type==="textarea"?6:void 0,"aria-label":e.label,name:h.value,...X.splitAttrs.attributes.value,id:X.targetUid.value,maxlength:e.maxlength,disabled:e.disable===!0,readonly:e.readonly===!0};return O.value===!1&&(b.type=e.type),e.autogrow===!0&&(b.rows=1),b});oe(()=>e.type,()=>{c.value&&(c.value.value=e.modelValue)}),oe(()=>e.modelValue,b=>{if(w.value===!0){if(v===!0&&(v=!1,String(b)===u))return;B(b)}else p.value!==b&&(p.value=b,e.type==="number"&&a.hasOwnProperty("value")===!0&&(l===!0?l=!1:delete a.value));e.autogrow===!0&&Ue(A)}),oe(()=>e.autogrow,b=>{b===!0?Ue(A):c.value!==null&&i.rows>0&&(c.value.style.height="auto")}),oe(()=>e.dense,()=>{e.autogrow===!0&&Ue(A)});function S(){An(()=>{const b=document.activeElement;c.value!==null&&c.value!==b&&(b===null||b.id!==X.targetUid.value)&&c.value.focus({preventScroll:!0})})}function f(){var b;(b=c.value)==null||b.select()}function g(b){if(w.value===!0&&e.reverseFillMask!==!0){const z=b.target;$(z,z.selectionStart,z.selectionEnd)}n("paste",b)}function _(b){if(!b||!b.target)return;if(e.type==="file"){n("update:modelValue",b.target.files);return}const z=b.target.value;if(b.target.qComposing===!0){a.value=z;return}if(w.value===!0)B(z,!1,b.inputType);else if(U(z),H.value===!0&&b.target===document.activeElement){const{selectionStart:P,selectionEnd:Z}=b.target;P!==void 0&&Z!==void 0&&Ue(()=>{b.target===document.activeElement&&z.indexOf(b.target.value)===0&&b.target.setSelectionRange(P,Z)})}e.autogrow===!0&&A()}function q(b){n("animationend",b),A()}function U(b,z){s=()=>{r=null,e.type!=="number"&&a.hasOwnProperty("value")===!0&&delete a.value,e.modelValue!==b&&u!==b&&(u=b,z===!0&&(v=!0),n("update:modelValue",b),Ue(()=>{u===b&&(u=NaN)})),s=void 0},e.type==="number"&&(l=!0,a.value=b),e.debounce!==void 0?(r!==null&&clearTimeout(r),a.value=b,r=setTimeout(s,e.debounce)):s()}function A(){requestAnimationFrame(()=>{const b=c.value;if(b!==null){const z=b.parentNode.style,{scrollTop:P}=b,{overflowY:Z,maxHeight:Q}=t.platform.is.firefox===!0?{}:window.getComputedStyle(b),ie=Z!==void 0&&Z!=="scroll";ie===!0&&(b.style.overflowY="hidden"),z.marginBottom=b.scrollHeight-1+"px",b.style.height="1px",b.style.height=b.scrollHeight+"px",ie===!0&&(b.style.overflowY=parseInt(Q,10)<b.scrollHeight?"auto":"hidden"),z.marginBottom="",b.scrollTop=P}})}function J(b){M(b),r!==null&&(clearTimeout(r),r=null),s==null||s(),n("change",b.target.value)}function te(b){b!==void 0&&Be(b),r!==null&&(clearTimeout(r),r=null),s==null||s(),l=!1,v=!1,delete a.value,e.type!=="file"&&setTimeout(()=>{c.value!==null&&(c.value.value=p.value!==void 0?p.value:"")})}function j(){return a.hasOwnProperty("value")===!0?a.value:p.value!==void 0?p.value:""}et(()=>{te()}),De(()=>{e.autogrow===!0&&A()}),Object.assign(X,{innerValue:p,fieldClass:d(()=>`q-${O.value===!0?"textarea":"input"}`+(e.autogrow===!0?" q-textarea--autogrow":"")),hasShadow:d(()=>e.type!=="file"&&typeof e.shadowText=="string"&&e.shadowText.length!==0),inputRef:c,emitValue:U,hasValue:C,floatingLabel:d(()=>C.value===!0&&(e.type!=="number"||isNaN(p.value)===!1)||mt(e.displayValue)),getControl:()=>x(O.value===!0?"textarea":"input",{ref:c,class:["q-field__native q-placeholder",e.inputClass],style:e.inputStyle,...m.value,...k.value,...e.type!=="file"?{value:j()}:N.value}),getShadowControl:()=>x("div",{class:"q-field__native q-field__shadow absolute-bottom no-pointer-events"+(O.value===!0?"":" text-no-wrap")},[x("span",{class:"invisible"},j()),x("span",e.shadowText)])});const Y=Rn(X);return Object.assign(o,{focus:S,select:f,getNativeElement:()=>c.value}),dn(o,"nativeEl",()=>c.value),Y}});function bt(e){if(e===!1)return 0;if(e===!0||e===void 0)return 1;const n=parseInt(e,10);return isNaN(n)?0:n}const Ia=Je({name:"close-popup",beforeMount(e,{value:n}){const i={depth:bt(n),handler(o){i.depth!==0&&setTimeout(()=>{const t=Pn(e);t!==void 0&&En(t,o,i.depth)})},handlerKey(o){vn(o,13)===!0&&i.handler(o)}};e.__qclosepopup=i,e.addEventListener("click",i.handler),e.addEventListener("keyup",i.handlerKey)},updated(e,{value:n,oldValue:i}){n!==i&&(e.__qclosepopup.depth=bt(n))},beforeUnmount(e){const n=e.__qclosepopup;e.removeEventListener("click",n.handler),e.removeEventListener("keyup",n.handlerKey),delete e.__qclosepopup}}),Ta=fe({__name:"ModifierDisplay",emits:["modify","reset"],setup(e,{emit:n}){const i=n;return(o,t)=>{const a=Wn,u=me;return E(),K("div",null,[I(u,{round:"",flat:"",dense:"",color:"red","aria-label":"Decrease value",title:"Decrease value",onClick:t[0]||(t[0]=l=>i("modify",-5))},{default:G(()=>[I(a,{name:"line-md:chevron-small-double-left"})]),_:1}),I(u,{round:"",flat:"",dense:"",color:"red","aria-label":"Decrease value",title:"Decrease value",onClick:t[1]||(t[1]=l=>i("modify",-1))},{default:G(()=>[I(a,{name:"line-md:chevron-small-left"})]),_:1}),I(u,{round:"",flat:"",dense:"","aria-label":"Reset value",title:"Reset value",onClick:t[2]||(t[2]=l=>i("reset"))},{default:G(()=>[I(a,{name:"ion:ios-minus-empty"})]),_:1}),I(u,{round:"",flat:"",dense:"",color:"green","aria-label":"Increase value",title:"Increase value",onClick:t[3]||(t[3]=l=>i("modify",1))},{default:G(()=>[I(a,{name:"line-md:chevron-small-right"})]),_:1}),I(u,{round:"",flat:"",dense:"",color:"green","aria-label":"Increase value",title:"Increase value",onClick:t[4]||(t[4]=l=>i("modify",5))},{default:G(()=>[I(a,{name:"line-md:chevron-small-double-right"})]),_:1})])}}}),pt=_e(Ta,[["__scopeId","data-v-75fd0cf9"]]),La=fe({__name:"NumericInput",props:{baseValue:{default:0},modifier:{default:0},direction:{default:"left"}},emits:["update:modelValue"],setup(e,{expose:n,emit:i}){const o=e,t=d(()=>o.baseValue+o.modifier),a=W(o.modifier),u=i;function l(h){const p=typeof h=="string"?Number(h):h??0;a.value=p-o.baseValue,u("update:modelValue",a.value),requestAnimationFrame(()=>{var w;return(w=document.activeElement)==null?void 0:w.blur()})}function v(h){h>0?a.value+=Math.round(Math.max(h,h*o.baseValue/100)):a.value+=Math.round(Math.min(h,h*o.baseValue/100)),u("update:modelValue",a.value)}function r(){c(),u("update:modelValue",a.value)}function s(h){const p=h.target;requestAnimationFrame(()=>p==null?void 0:p.select())}function c(){a.value=0}return n({reset:c}),(h,p)=>{const w=Zn,$=Ea;return E(),ce($,{"model-value":T(t),dense:"",standout:"custom-behavior",placeholder:h.baseValue,type:"number",debounce:"500","onUpdate:modelValue":l,onFocus:s},mn({append:G(()=>[h.modifier!==0?(E(),ce(w,{key:0,floating:"",color:h.modifier>0?"green":"red"},{default:G(()=>[Se(le(h.modifier),1)]),_:1},8,["color"])):se("",!0)]),_:2},[h.direction==="right"?{name:"after",fn:G(()=>[I(pt,{onModify:v,onReset:r})]),key:"0"}:void 0,h.direction==="left"?{name:"before",fn:G(()=>[I(pt,{onModify:v,onReset:r})]),key:"1"}:void 0]),1032,["model-value","placeholder"])}}}),Fa=_e(La,[["__scopeId","data-v-d1dd2184"]]);function Ze(e,n){return n.split(".").reduce((i,o)=>i==null?void 0:i[o],e)}function Da(e,n,i){const o=n.split(".");let t=e;for(let a=0;a<o.length-1;a++){const u=o[a];t[u]??(t[u]={}),t=t[u]}t[o[o.length-1]]=i}function $e(){return Ie.reduce((e,n)=>(e[n]=0,e),{})}const Ie=["health.unit","armor","attack","defense","damage.normal","damage.piercing","damage.bonus_v_large","damage.bonus_v_infantry","resistance.physical","resistance.fire","resistance.ward_save"],za=[{path:"health.unit",color:"green",label:"Health"},{path:"attack",color:"blue",label:"Attack"},{path:"damage.normal",color:"green",label:"Damage Normal"},{path:"damage.piercing",color:"green",label:"Damage Piercing"},{path:"damage.bonus_v_large",color:"green",label:"Bonus V Large"},{path:"damage.bonus_v_infantry",color:"green",label:"Bonus V Infantry"},{path:"defense",color:"red",label:"Defense"},{path:"armor",color:"orange",label:"Armor"},{path:"resistance.physical",color:"pink",label:"Resistance Physical"},{path:"resistance.fire",color:"pink",label:"Resistance Fire"},{path:"resistance.ward_save",color:"pink",label:"Resistance Ward Save"}];function yt(e){if(!e.selection.unit)return e;const n=JSON.parse(JSON.stringify(e.selection.unit));for(const i of Object.keys(e.bonus))if(typeof e.bonus[i]=="number"){const o=Ze(n,i);Da(n,i,o+e.bonus[i])}return{selection:{unit:n,version:e.selection.version,faction:e.selection.faction},entityNumber:e.entityNumber}}const Oa=40,ja=8,Ha=90;function Ka(e,n){var u,l,v,r;const i=e.attack||0,o=n.defense||0,a=((l=(u=n.land_unit)==null?void 0:u.battle_entity)==null?void 0:l.size)!=="small"?((v=e.damage)==null?void 0:v.bonus_v_large)||0:((r=e.damage)==null?void 0:r.bonus_v_infantry)||0;return Math.max(ja,Math.min(i-o+Oa+a,Ha))/100}function Qa(e,n){var v,r,s,c,h,p;const o=((r=(v=n.land_unit)==null?void 0:v.battle_entity)==null?void 0:r.size)!=="small"?((s=e.damage)==null?void 0:s.bonus_v_large)||0:((c=e.damage)==null?void 0:c.bonus_v_infantry)||0,t=((h=e.damage)==null?void 0:h.normal)||0,a=((p=e.damage)==null?void 0:p.piercing)||0,u=t/(t+a),l=n.armor||0;return(t+o*u)*(1-Math.min(l*.75*.01,1))+a+o*(1-u)}function Wa(e,n){var l,v,r,s,c;const i=((l=n.resistance)==null?void 0:l.ward_save)||0,o=((v=n.resistance)==null?void 0:v.physical)||0,t=((r=n.resistance)==null?void 0:r.fire)||0,a=((s=e.damage)==null?void 0:s.is_magical)||!1,u=((c=e.damage)==null?void 0:c.is_fire)||!1;return(i+(a?0:Math.max(o,0))+(u?Math.min(Math.max(t,-100),100):0))/100}function kt(e,n){var a;const i=Ka(e,n),o=Wa(e,n);return i*(1-o)*Qa(e,n)/(((a=n.health)==null?void 0:a.unit)||0)}function Pe(e){return e.land_unit.num_engines>0&&e.land_unit.num_engines!==e.num_men||e.land_unit.num_mounts>0&&e.land_unit.num_mounts!==e.num_men?1:e.num_men||1}function Xa(e,n){const i=kt(e.selection.unit,n.selection.unit)*Math.min(Pe(e.selection.unit),e.entityNumber),o=kt(n.selection.unit,e.selection.unit)*Math.min(Pe(n.selection.unit),n.entityNumber);function t(a,u,l){const v=1/u,s=1-v*l;return{winner:a,hitsNeeded:v,remainingHealth:s}}return i>o?t("left",i,o):o>i?t("right",o,i):t("left",i,o)}const Wt=Rt("unit",{state:()=>({leftUnit:null,rightUnit:null}),actions:{setLeftUnit(e){e?(this.leftUnit=e,this.leftUnit.bonus=$e()):this.leftUnit=null},setRightUnit(e){e?(this.rightUnit=e,this.rightUnit.bonus=$e()):this.rightUnit=null},setLeftUnitBonus(e){this.leftUnit&&(e?this.leftUnit.bonus=e:this.leftUnit.bonus=$e())},setRightUnitBonus(e){this.rightUnit&&(e?this.rightUnit.bonus=e:this.rightUnit.bonus=$e())},setLeftUnitEntityCount(e){this.leftUnit&&(this.leftUnit.entityNumber=e)},setRightUnitEntityCount(e){this.rightUnit&&(this.rightUnit.entityNumber=e)},clearUnits(){this.leftUnit=null,this.rightUnit=null}},getters:{combatResult(){var e,n;return!((e=this.leftUnit)!=null&&e.selection.unit)||!((n=this.rightUnit)!=null&&n.selection.unit)?null:Xa(yt(this.leftUnit),yt(this.rightUnit))}},persist:{storage:fn.localStorage()}}),Ya={class:"short-summary"},Za={key:0,class:"combat-result"},Ga={class:"winner-section"},Ja={class:"hits-info"},ei={class:"health-display"},ti={key:1,class:"no-combat"},ni=fe({__name:"ShortSummary",setup(e){const n=Wt(),i=d(()=>n.combatResult),o=d(()=>{var r,s,c;if(!i.value)return"";const v=i.value.winner==="left"?(r=n.leftUnit)==null?void 0:r.selection.unit:(s=n.rightUnit)==null?void 0:s.selection.unit;return((c=v==null?void 0:v.land_unit)==null?void 0:c.onscreen_name)||"Unknown Unit"}),t=d(()=>{var r,s,c;if(!i.value)return"";const v=i.value.winner==="left"?(r=n.rightUnit)==null?void 0:r.selection.unit:(s=n.leftUnit)==null?void 0:s.selection.unit;return((c=v==null?void 0:v.land_unit)==null?void 0:c.onscreen_name)||"Unknown Unit"}),a=d(()=>{var v;return((v=i.value)==null?void 0:v.winner)==="left"?"text-positive":"text-negative"}),u=d(()=>{var v;return((v=i.value)==null?void 0:v.winner)==="left"?"bg-negative":"bg-positive"}),l=d(()=>{var r;const v=(((r=i.value)==null?void 0:r.remainingHealth)||0)*100;return v>=80?"green":v>=60?"light-green":v>=40?"orange":v>=20?"deep-orange":"red"});return(v,r)=>{const s=ba;return E(),K("div",Ya,[i.value?(E(),K("div",Za,[V("div",Ga,[V("p",null,[V("span",{class:Ce(["winner-title text-emphasized",a.value])},le(o.value),3),r[0]||(r[0]=Se(" wins! "))]),V("p",Ja,[Se(" Takes "+le(i.value.hitsNeeded.toFixed(1))+" hits to defeat ",1),V("span",{class:Ce(["loser-name text-emphasized",u.value])},le(t.value),3),r[1]||(r[1]=Se(", with "))])]),V("div",ei,[I(s,{"show-value":"",value:i.value.remainingHealth*100,size:"70px",thickness:.22,color:l.value,"track-color":"grey-3",class:"q-ma-md"},{default:G(()=>[Se(le((i.value.remainingHealth*100).toFixed(1))+"% ",1)]),_:1},8,["value","color"]),r[2]||(r[2]=V("span",{class:"health-label"},"Remaining Health",-1))])])):(E(),K("div",ti,r[3]||(r[3]=[V("p",null,"Select two units to see combat results",-1)])))])}}}),ai=_e(ni,[["__scopeId","data-v-4ad7d52d"]]),Me="https://res.cloudinary.com/fishofstone/image/upload/twwstats/api",ii="ui/skins/default/icon_cross.webp",oi="mon_64.webp";function Ge(e,n){let i=`${Me}/${e}`;if(n.general_portrait&&n.general_portrait.length>0){const o=n.general_portrait.replace("portholes","units").replace(".png",".webp");i+=`/${o}`}else n.unit_card_url?i+=`/ui/units/icons/${n.unit_card_url}.webp`:n.unit&&(i+=`/ui/units/icons/${n.unit}.webp`);return i}function wt(e,n){let i=`${Me}/${e}`;return i+=`/ui/common ui/unit_category_icons/${n.icon}.webp`,i}function Ct(e,n){let i=`${Me}/${e}/ui/skins/default/unit_card_semicircle`;return n.special_categories&&(["Lord","Hero"].includes(n.caste)?i+="_hero":n.special_categories.includes("blessed_spawnings")?i+="_spawning":n.special_categories.includes("elector_counts")?i+="_elector":n.special_categories.includes("renown")&&(i+="_renown")),i+=".webp",i}function li(e){return`${Me}/${e}/ui/skins/default/unit_card_frame_plain.webp`}function ri(e){return`${Me}/${e}/ui/skins/default/unit_card_hover.webp`}const si=["src","alt"],ui=["src","alt"],ci=["src","alt"],di=["src"],vi=["src"],mi=fe({__name:"UnitPortrait",props:{selected:{type:[Boolean,null],default:!1},versionId:{},unit:{}},setup(e){return(n,i)=>{var o,t,a;return E(),K("div",{class:Ce(["unit-portrait",{selected:n.selected}])},[T(Ge)(n.versionId,n.unit)?(E(),K("img",{key:0,src:T(Ge)(n.versionId,n.unit),alt:((o=n.unit.land_unit)==null?void 0:o.onscreen_name)||n.unit.unit},null,8,si)):se("",!0),T(Ct)(n.versionId,n.unit)?(E(),K("img",{key:1,src:T(Ct)(n.versionId,n.unit),alt:((t=n.unit.land_unit)==null?void 0:t.onscreen_name)||n.unit.unit},null,8,ui)):se("",!0),T(wt)(n.versionId,n.unit)?(E(),K("img",{key:2,src:T(wt)(n.versionId,n.unit),alt:((a=n.unit.land_unit)==null?void 0:a.onscreen_name)||n.unit.unit},null,8,ci)):se("",!0),V("img",{src:T(li)(n.versionId)},null,8,di),V("img",{src:T(ri)(n.versionId),class:"unit-hover"},null,8,vi)],2)}}}),fi=_e(mi,[["__scopeId","data-v-fdc6b3a1"]]);async function gi(e,n,i){var o,t,a,u,l,v,r,s,c,h,p,w,$,B,L,R,N,C,M,X,O,H,k,m,S,f,g,_,q,U,A,J,te,j,Y,b,z,P,Z,Q,ie,ye;if(!n||!i)throw new Error("ID de version et clé d'unité requis");try{const ue=await e.query({tww:{__args:{tww_version:n},unit:{__args:{id:i},unit:!0,caste:!0,num_men:!0,recruitment_cost:!0,upkeep_cost:!0,land_unit:{onscreen_name:!0,bonus_hit_points:!0,num_engines:!0,num_mounts:!0,battle_entity:{hit_points:!0,size:!0,type:!0},articulated_vehicle_entity:{hit_points:!0},engine:{battle_entity:{hit_points:!0,type:!0}},mount:{battle_entity:{hit_points:!0}},armour:{armour_value:!0},primary_melee_weapon:{damage:!0,ap_damage:!0,bonus_v_large:!0,bonus_v_infantry:!0,melee_attack_interval:!0,is_magical:!0,ignition_amount:!0},melee_attack:!0,melee_defence:!0,damage_mod_physical:!0,damage_mod_flame:!0,damage_mod_all:!0,variant:{unit_card_url:!0}},battle_mounts:{base_unit:!0,mounted_unit:!0,icon_name:!0,mount_name:!0},custom_battle_permissions:{general_portrait:!0},ui_unit_group:{icon:!0,parent_group:{onscreen_name:!0}},unit_sets:{special_category:!0}}}});if(!((o=ue==null?void 0:ue.tww)!=null&&o.unit))return null;const F=ue.tww.unit;return!F||typeof F.unit!="string"||typeof F.caste!="string"||typeof F.num_men!="number"||!F.land_unit?null:{version:n,unit:F.unit,caste:F.caste,num_men:F.num_men,recruitment_cost:Number(F.recruitment_cost||0),upkeep_cost:Number(F.upkeep_cost||0),land_unit:{num_engines:F.land_unit.num_engines||0,num_mounts:F.land_unit.num_mounts||0,onscreen_name:((t=F.land_unit)==null?void 0:t.onscreen_name)||"",bonus_hit_points:Number(((a=F.land_unit)==null?void 0:a.bonus_hit_points)||0),battle_entity:{hit_points:Number(((l=(u=F.land_unit)==null?void 0:u.battle_entity)==null?void 0:l.hit_points)||0),size:((r=(v=F.land_unit)==null?void 0:v.battle_entity)==null?void 0:r.size)||"small",type:((c=(s=F.land_unit)==null?void 0:s.battle_entity)==null?void 0:c.type)||""}},battle_mounts:(F.battle_mounts||[]).filter(ve=>ve!==null).map(ve=>({base_unit:ve.base_unit||"",mounted_unit:ve.mounted_unit||"",icon_name:ve.icon_name||"",mount_name:ve.mount_name||""})),health:{unit:In(F),entity:Math.round(((p=(h=F.land_unit)==null?void 0:h.battle_entity)==null?void 0:p.hit_points)||0)},armor:Number((($=(w=F.land_unit)==null?void 0:w.armour)==null?void 0:$.armour_value)||0),attack:Number(((B=F.land_unit)==null?void 0:B.melee_attack)||0),defense:Number(((L=F.land_unit)==null?void 0:L.melee_defence)||0),attack_interval:Number(((N=(R=F.land_unit)==null?void 0:R.primary_melee_weapon)==null?void 0:N.melee_attack_interval)||0),damage:{normal:Number(((M=(C=F.land_unit)==null?void 0:C.primary_melee_weapon)==null?void 0:M.damage)||0),piercing:Number(((O=(X=F.land_unit)==null?void 0:X.primary_melee_weapon)==null?void 0:O.ap_damage)||0),is_magical:!!((k=(H=F.land_unit)==null?void 0:H.primary_melee_weapon)!=null&&k.is_magical),is_fire:Number(((S=(m=F.land_unit)==null?void 0:m.primary_melee_weapon)==null?void 0:S.ignition_amount)||0)>0,bonus_v_large:Number(((g=(f=F.land_unit)==null?void 0:f.primary_melee_weapon)==null?void 0:g.bonus_v_large)||0),bonus_v_infantry:Number(((q=(_=F.land_unit)==null?void 0:_.primary_melee_weapon)==null?void 0:q.bonus_v_infantry)||0)},resistance:{physical:Number(((U=F.land_unit)==null?void 0:U.damage_mod_physical)||0),fire:Number(((A=F.land_unit)==null?void 0:A.damage_mod_flame)||0),ward_save:Number(((J=F.land_unit)==null?void 0:J.damage_mod_all)||0)},is_large:((j=(te=F.land_unit)==null?void 0:te.battle_entity)==null?void 0:j.size)!=="small",icon:((Y=F.ui_unit_group)==null?void 0:Y.icon)||"",general_portrait:((z=(b=F.custom_battle_permissions)==null?void 0:b[0])==null?void 0:z.general_portrait)||"",group:((Z=(P=F.ui_unit_group)==null?void 0:P.parent_group)==null?void 0:Z.onscreen_name)||"",unit_card_url:((ie=(Q=F.land_unit)==null?void 0:Q.variant)==null?void 0:ie.unit_card_url)||"",special_categories:Array.from(new Set((ye=F.unit_sets)==null?void 0:ye.map(ve=>ve==null?void 0:ve.special_category)))||[]}}catch(ue){throw console.error("Erreur lors de la récupération de l'unité:",ue),ue}}function St(e,n){if(!(!e||!(n!=null&&n.flags_url)))return`${Me}/${e}/${n.flags_url}/${oi}`}const _i=Rt("memory",{state:()=>({last_version:null}),actions:{setLastVersion(e){this.last_version=e},clearSession(){this.last_version=null}},persist:{storage:sessionStorage,key:"tww3-brawl-memory"}}),hi={class:"row items-center q-gutter-x-sm"},bi={class:"q-mb-md"},pi={key:0,class:"version-icons-row"},yi=["onClick"],ki={class:"version-icon"},wi={class:"version-label"},Ci={class:"q-mb-md"},Si={key:0,class:"faction-icons-row"},xi=["onClick"],qi=["src","alt"],$i={class:"faction-label"},Mi={class:"q-mb-md"},Ui={key:0},Bi={class:"group-label"},Ni={class:"unit-icons-row"},Vi=["onClick"],Ri={class:"unit-label"},Ai={key:1},Pi=fe({__name:"SelectUnit",props:{unitSelection:{},version:{}},emits:["update:unitSelection","update:version"],setup(e,{emit:n}){const i=W(null),o=W("version"),t=W(!1),a=_i(),u=n,l=W(null),v=d({get:()=>{var g;return(g=l.value)!=null&&g.version?l.value.version:a.last_version},set:g=>{a.setLastVersion(g),l.value?l.value.version=g:g&&(l.value={unit:void 0,version:g,faction:void 0})}}),r=d({get:()=>{var g;return((g=l.value)==null?void 0:g.faction)||null},set:g=>{l.value?l.value.faction=g:g&&(l.value={unit:void 0,version:void 0,faction:g})}}),s=d({get:()=>{var g;return((g=l.value)==null?void 0:g.unit)||null},set:g=>{l.value?l.value.unit=g:g&&(l.value={unit:g,version:void 0,faction:void 0})}}),{data:c,isLoading:h}=Tn(),p=d(()=>c.value?c.value:[]),w=d(()=>{var g,_;return((_=(g=l.value)==null?void 0:g.version)==null?void 0:_.id)??""}),{data:$,isLoading:B,refetch:L}=Ln(w),R=d(()=>$.value?$.value:[]),N=d(()=>{var g,_;return((_=(g=l.value)==null?void 0:g.faction)==null?void 0:_.key)??""}),{data:C,isLoading:M,refetch:X}=Fn(w,N);d(()=>C.value?C.value.map(g=>{var _;return{label:((_=g.land_unit)==null?void 0:_.onscreen_name)||g.unit,value:g.unit}}):[]);const O=d(()=>{var A;if(!C.value)return{};const g={};for(const J of C.value){const te=J.group||"Autres";g[te]||(g[te]=[]),g[te].push(J)}const _={};for(const[J,te]of Object.entries(g)){const j={};for(const b of te){const z=((A=b.land_unit)==null?void 0:A.onscreen_name)||b.unit;j[z]||(j[z]=[]),j[z].push(b)}const Y=[];for(const b in j){const z=j[b].sort((P,Z)=>{const Q=P.recruitment_cost||0,ie=Z.recruitment_cost||0;return Q-ie})[0];Y.push(z)}Y.sort((b,z)=>{var ye,ue;const P=b.recruitment_cost||0,Z=z.recruitment_cost||0;if(P!==Z)return P-Z;const Q=((ye=b.land_unit)==null?void 0:ye.onscreen_name)||b.unit,ie=((ue=z.land_unit)==null?void 0:ue.onscreen_name)||z.unit;return Q.localeCompare(ie)}),_[J]=Y}const q=["Lords","Heroes","Infantry","Missile Infantry","Cavalry & Chariots","Missile Cavalry & Chariots","Artillery & War Machines"],U={};for(const J of q)_[J]&&(U[J]=_[J]);for(const[J,te]of Object.entries(_))q.includes(J)||(U[J]=te);return U});oe(t,async g=>{g&&(!l.value||!l.value.unit)&&a.last_version&&(v.value=a.last_version,o.value="faction",await L())}),oe(o,async g=>{g==="version"?l.value&&(l.value.faction=void 0,l.value.unit=void 0):g==="faction"?(await L(),l.value&&(l.value.unit=void 0)):g==="unit"&&await X()});const H=()=>{o.value==="version"&&v.value?(r.value=void 0,s.value=void 0,o.value="faction"):o.value==="faction"&&r.value&&(s.value=void 0,o.value="unit")},k=()=>{o.value==="unit"?(s.value=void 0,o.value="faction"):o.value==="faction"&&(r.value=void 0,o.value="version")},m=g=>{v.value=g,o.value="faction"},S=g=>{r.value=g,o.value="unit"},f=g=>{s.value=g,l.value&&(t.value=!1,u("update:unitSelection",l.value))};return(g,_)=>{const q=me,U=Dn,A=ga,J=Ot,te=fa,j=it,Y=na,b=at,z=zn;return E(),K("div",hi,[I(q,{label:"Pick a Unit",color:"primary",onClick:_[0]||(_[0]=P=>t.value=!0)}),I(z,{modelValue:t.value,"onUpdate:modelValue":_[6]||(_[6]=P=>t.value=P)},{default:G(()=>[I(b,{class:"custom"},{default:G(()=>[I(j,{class:"q-card-section-custom"},{default:G(()=>[I(te,{ref_key:"carouselRef",ref:i,padding:!1,modelValue:o.value,"onUpdate:modelValue":_[3]||(_[3]=P=>o.value=P),autoplay:!1,"transition-prev":"slide-left","transition-next":"slide-right","aria-hidden":"true",class:"q-carousel-custom"},{default:G(()=>[I(A,{name:"version",key:"version"},{default:G(()=>[V("div",bi,[I(U,{modelValue:v.value,"onUpdate:modelValue":_[1]||(_[1]=P=>v.value=P),options:p.value,loading:T(h),label:"Versions",dense:"",outlined:"","option-label":"name","option-value":"id"},null,8,["modelValue","options","loading"]),T(c)&&o.value==="version"?(E(),K("div",pi,[(E(!0),K(he,null,xe(T(c),P=>{var Z;return E(),K("div",{key:P.id,class:Ce(["version-icon-container",{selected:v.value&&v.value.id===P.id}]),onClick:Q=>m(P)},[V("div",ki,le(((Z=P.name)==null?void 0:Z.charAt(0))||"V"),1),V("div",wi,le(P.name),1)],10,yi)}),128))])):se("",!0)])]),_:1}),I(A,{name:"faction",key:"faction"},{default:G(()=>[V("div",Ci,[I(U,{modelValue:r.value,"onUpdate:modelValue":_[2]||(_[2]=P=>r.value=P),options:R.value,loading:T(B),disable:!v.value||T(B),label:"Faction",dense:"",outlined:"","option-label":"screen_name","option-value":"key"},null,8,["modelValue","options","loading","disable"]),T($)&&o.value==="faction"?(E(),K("div",Si,[(E(!0),K(he,null,xe(T($),P=>{var Z;return E(),K("div",{key:P.key,class:Ce(["faction-icon-container",{selected:r.value&&r.value.key===P.key}]),onClick:Q=>S(P)},[T(St)(w.value,P)?(E(),K("img",{key:0,src:T(St)(w.value,P),alt:P.screen_name||P.key,class:"faction-icon"},null,8,qi)):se("",!0),V("div",$i,le(((Z=P.subculture)==null?void 0:Z.name)||P.key),1)],10,xi)}),128))])):se("",!0)])]),_:1}),I(A,{name:"unit",key:"unit"},{default:G(()=>[V("div",Mi,[T(C)&&Object.keys(O.value).length>0?(E(),K("div",Ui,[(E(!0),K(he,null,xe(O.value,(P,Z)=>(E(),K("div",{key:Z,class:"unit-group-block"},[V("div",Bi,le(Z),1),V("div",Ni,[(E(!0),K(he,null,xe(P,Q=>{var ie;return E(),K("div",{key:Q.unit,class:"unit-icon-container",onClick:ye=>f(Q)},[I(fi,{versionId:w.value,unit:Q,selected:s.value&&s.value.unit===Q.unit},null,8,["versionId","unit","selected"]),V("div",Ri,le(((ie=Q.land_unit)==null?void 0:ie.onscreen_name)||Q.unit),1)],8,Vi)}),128))])]))),128))])):(E(),K("div",Ai,[I(J,{color:"primary"})]))])]),_:1})]),_:1},8,["modelValue"])]),_:1}),I(Y,{class:"text-primary q-card-actions-custom",align:"between"},{default:G(()=>[o.value==="version"?(E(),ce(q,{key:0,label:"Fermer",flat:"",dense:"",onClick:_[4]||(_[4]=P=>t.value=!1)})):(E(),ce(q,{key:1,label:"Back",flat:"",dense:"",onClick:k})),o.value!=="unit"?(E(),ce(q,{key:2,disable:o.value==="version"&&!v.value||o.value==="faction"&&!r.value,label:"Next",color:"primary",flat:"",dense:"",onClick:H},null,8,["disable"])):(E(),ce(q,{key:3,disable:!s.value||!v.value||!r.value,label:"Finish",color:"primary",flat:"",dense:"",onClick:_[5]||(_[5]=()=>{t.value=!1,l.value&&u("update:unitSelection",l.value)})},null,8,["disable"]))]),_:1})]),_:1})]),_:1},8,["modelValue"])])}}}),Ei=_e(Pi,[["__scopeId","data-v-16c3b7e9"]]);function xt(e,n){return`${Me}/${e}/${n.replace(/\.png/,".webp")}`}function Ii(e,n,i){const o=On();return jn({queryKey:["tww","versions",e,"units",n],queryFn:()=>gi(o,e.value,n.value),staleTime:30*60*1e3,enabled:!!e.value&&!!n.value})}const Ti={class:"row items-center"},Li=["src"],Fi=["src"],Di=fe({__name:"MountPicker",props:{unit:{}},emits:["update:unit"],setup(e,{emit:n}){const i=e,o=n,t=d(()=>{var w;return(w=u.value.find($=>$.mounted_unit===i.unit.unit))==null?void 0:w.icon_name}),a=W(null),u=d(()=>{const w=i.unit.battle_mounts;if(w.length>0){const $={base_unit:w[0].base_unit,mounted_unit:w[0].base_unit,icon_name:ii,mount_name:"On Foot"};return[...w,$]}return[]}),l=d(()=>i.unit.version),v=d(()=>a.value||""),{data:r,isLoading:s,error:c,refetch:h}=Ii(l,v);oe(a,async w=>{w!==null&&(await h(),r.value&&o("update:unit",r.value))},{immediate:!0});function p(w){const $=w.mounted_unit;$!==i.unit.unit&&(a.value=$)}return(w,$)=>{const B=Xn,L=Kn,R=Hn,N=ta,C=Ia;return E(),K("div",Ti,[I(N,null,{default:G(()=>[I(R,null,{default:G(()=>[(E(!0),K(he,null,xe(u.value,M=>gn((E(),ce(L,{key:M.mounted_unit,onClick:X=>p(M),clickable:""},{default:G(()=>[I(B,null,{default:G(()=>[V("img",{src:T(xt)(w.unit.version,M.icon_name)},null,8,Li)]),_:2},1024),Se(" "+le(M.mount_name),1)]),_:2},1032,["onClick"])),[[C]])),128))]),_:1})]),_:1}),I(B,null,{default:G(()=>[V("img",{src:T(xt)(w.unit.version,t.value||"")},null,8,Fi)]),_:1})])}}}),zi={class:"unit-label text-xl"},Oi={class:"q-mt-md row justify-between"},ji=fe({__name:"index",props:{orientation:{default:"left"},modelValue:{}},emits:["update:modelValue"],setup(e,{emit:n}){const i=d(()=>{var s;return((s=t.modelValue)==null?void 0:s.selection)||null}),o=W(null),t=e,a=n;function u(s){const c=s.num_men||1,h=Math.min(15,c);t.modelValue&&(t.modelValue.selection.unit=s,a("update:modelValue",{unitWithEntityNumberAndBonus:{selection:t.modelValue.selection,entityNumber:h,bonus:t.modelValue.bonus},mount_changed:!0}))}function l(s){var p;const c=((p=s.unit)==null?void 0:p.num_men)||1,h=Math.min(15,c);a("update:modelValue",{unitWithEntityNumberAndBonus:{selection:s,entityNumber:h,bonus:$e()},mount_changed:!1})}const v=d(()=>{var s,c,h;return(h=(c=(s=i.value)==null?void 0:s.unit)==null?void 0:c.land_unit)!=null&&h.onscreen_name?i.value.unit.land_unit.onscreen_name:"Unit Title"}),r=d(()=>{var s,c,h;if((s=i.value)!=null&&s.unit&&((h=(c=i.value)==null?void 0:c.version)!=null&&h.id)){const p=Ge(i.value.version.id,i.value.unit);if(p)return p}return"/default-unit-image.jpg"});return(s,c)=>{const h=Va,p=it,w=at;return E(),ce(w,{class:"unit-card"},{default:G(()=>[I(p,null,{default:G(()=>[I(h,{src:r.value,ratio:16/9,fit:"contain",class:"unit-image",alt:"Unit Portrait"},null,8,["src"]),V("div",zi,le(v.value),1)]),_:1}),I(p,{class:Ce([s.orientation,"card-section"])},{default:G(()=>{var $,B,L,R,N,C;return[V("div",Oi,[I(Ei,{unitSelection:i.value,version:T(o),"onUpdate:unitSelection":c[0]||(c[0]=M=>l(M)),"onUpdate:version":c[1]||(c[1]=M=>o.value=M)},null,8,["unitSelection","version"]),(L=(B=($=i.value)==null?void 0:$.unit)==null?void 0:B.battle_mounts)!=null&&L.length&&((C=(N=(R=i.value)==null?void 0:R.unit)==null?void 0:N.battle_mounts)==null?void 0:C.length)>0?(E(),ce(Di,{key:0,unit:i.value.unit,"onUpdate:unit":c[2]||(c[2]=M=>u(M))},null,8,["unit"])):se("",!0)])]}),_:1},8,["class"])]),_:1})}}}),qt=_e(ji,[["__scopeId","data-v-a8bc98df"]]),Hi={key:0,class:"col-6"},Ki={class:"text-caption q-mb-xs"},Qi={class:"q-mt-md"},Wi={class:"row q-gutter-xs"},Xi=fe({__name:"EntitySliders",props:{entityNumber:{},maxEntities:{}},emits:["update:entityNumber"],setup(e,{emit:n}){const i=n,o=[6,10,14,20],t=a=>{a!==null&&i("update:entityNumber",a)};return(a,u)=>{const l=$a,v=me,r=it,s=at;return a.maxEntities>1?(E(),K("div",Hi,[I(s,null,{default:G(()=>[I(r,null,{default:G(()=>[V("div",Ki," Active entities: "+le(a.entityNumber),1),I(l,{"model-value":a.entityNumber,"onUpdate:modelValue":t,min:1,max:a.maxEntities,step:1,label:"","label-always":""},null,8,["model-value","max"]),V("div",Qi,[u[0]||(u[0]=V("div",{class:"text-caption q-mb-xs"},"Quick select:",-1)),V("div",Wi,[(E(),K(he,null,xe(o,c=>I(v,{key:c,label:c.toString(),color:a.entityNumber===c?"primary":"grey-6",outline:a.entityNumber!==c,size:"sm",onClick:h=>t(c),disable:c>a.maxEntities},null,8,["label","color","outline","onClick","disable"])),64))])])]),_:1})]),_:1})])):se("",!0)}}}),$t=_e(Xi,[["__scopeId","data-v-95171e5f"]]),Yi=fe({__name:"ValueDisplay",props:{value:{type:[Number,Boolean]},isUpdatable:{type:Boolean},bonus:{default:0},orientation:{}},emits:["update"],setup(e,{expose:n,emit:i}){const o=i;function t(r){u.value=r,o("update",u.value)}const u=W(e.bonus),l=W(null);function v(){var r;u.value=0,(r=l.value)==null||r.reset()}return n({reset:v}),(r,s)=>(E(),K("div",{class:Ce(["container",{reverse:r.orientation==="right"}])},[V("div",{class:Ce(["left base",{right:r.orientation==="right"}])},[typeof r.value=="number"&&r.isUpdatable?(E(),ce(Fa,{key:0,ref_key:"numericInputRef",ref:l,modifier:u.value,baseValue:r.value,"onUpdate:modelValue":t,direction:r.orientation},null,8,["modifier","baseValue","direction"])):(E(),K(he,{key:1},[Se(le(r.value),1)],64))],2)],2))}}),Mt=_e(Yi,[["__scopeId","data-v-14341811"]]),Zi={scope:"col",class:"text-right unit-column"},Gi={scope:"col",class:"text-left unit-column"},Ji={scope:"col",class:"unit-column"},eo={scope:"col",class:"unit-column"},to={key:0,class:"unit-column"},no={class:"text-center stat-column"},ao={key:1,class:"unit-column"},io=fe({__name:"index",props:{leftUnit:{},rightUnit:{}},emits:["update"],setup(e,{expose:n,emit:i}){const o=e,t=i;function a(s,c,h){t("update",s,c,h)}const u=W([]),l=W([]);function v(s){r(s);for(const c of Ie)t("update",s,c,0);s==="left"?o.leftUnit&&(o.leftUnit.bonus=$e()):o.rightUnit&&(o.rightUnit.bonus=$e())}function r(s){s==="left"?l.value.forEach(c=>c==null?void 0:c.reset()):u.value.forEach(c=>c==null?void 0:c.reset())}return n({reset:r}),(s,c)=>{var w,$,B,L;const h=me,p=Qn;return($=(w=s.leftUnit)==null?void 0:w.selection)!=null&&$.unit||(L=(B=s.rightUnit)==null?void 0:B.selection)!=null&&L.unit?(E(),ce(p,{key:0,separator:"none",flat:"",bordered:""},{default:G(()=>{var R,N,C,M,X,O,H,k;return[V("thead",null,[V("tr",null,[V("th",Zi,[V("b",null,le((M=(C=(N=(R=s.leftUnit)==null?void 0:R.selection)==null?void 0:N.unit)==null?void 0:C.land_unit)==null?void 0:M.onscreen_name),1)]),c[2]||(c[2]=V("th",{scope:"col",class:"text-center stat-column"},[V("b",null,"Statistic")],-1)),V("th",Gi,[V("b",null,le((k=(H=(O=(X=s.rightUnit)==null?void 0:X.selection)==null?void 0:O.unit)==null?void 0:H.land_unit)==null?void 0:k.onscreen_name),1)])]),V("tr",null,[V("th",Ji,[I(h,{label:"Reset",color:"warning",icon:"refresh",onClick:c[0]||(c[0]=m=>v("left"))})]),c[3]||(c[3]=V("th",{scope:"col",class:"stat-column"},null,-1)),V("th",eo,[I(h,{label:"Reset",color:"warning",icon:"refresh",onClick:c[1]||(c[1]=m=>v("right"))})])])]),V("tbody",null,[(E(!0),K(he,null,xe(T(za),m=>{var S,f,g,_;return E(),K("tr",{key:m.path},[(f=(S=s.leftUnit)==null?void 0:S.selection)!=null&&f.unit?(E(),K("td",to,[I(Mt,{ref_for:!0,ref_key:"leftUnitRef",ref:l,value:T(Ze)(s.leftUnit.selection.unit,m.path),bonus:s.leftUnit.bonus[m.path],isUpdatable:T(Ie).includes(m.path),onUpdate:q=>a("left",m.path,q),orientation:"left"},null,8,["value","bonus","isUpdatable","onUpdate"])])):se("",!0),V("td",no,le(m.label),1),(_=(g=s.rightUnit)==null?void 0:g.selection)!=null&&_.unit?(E(),K("td",ao,[I(Mt,{ref_for:!0,ref_key:"rightUnitRef",ref:u,value:T(Ze)(s.rightUnit.selection.unit,m.path),bonus:s.rightUnit.bonus[m.path],isUpdatable:T(Ie).includes(m.path),onUpdate:q=>a("right",m.path,q),orientation:"right"},null,8,["value","bonus","isUpdatable","onUpdate"])])):se("",!0)])}),128))])]}),_:1})):se("",!0)}}}),oo=_e(io,[["__scopeId","data-v-f1914197"]]),lo={class:"q-pa-md container"},ro={class:"justify-center items-center unit-cards-container"},so={class:"text-center"},uo={key:0,class:"entity-sliders-container"},co={class:"entity-slider"},vo={class:"entity-slider"},mo=fe({__name:"index",setup(e){const n=Wt(),i=W(null),o=(u,l)=>{var v,r,s,c;if(u==="left"){const h=((v=n.leftUnit)==null?void 0:v.bonus)??null;n.setLeftUnit(l.unitWithEntityNumberAndBonus),l.mount_changed?n.setLeftUnitBonus(h):(r=i.value)==null||r.reset("left")}else{const h=((s=n.rightUnit)==null?void 0:s.bonus)??null;n.setRightUnit(l.unitWithEntityNumberAndBonus),l.mount_changed?n.setRightUnitBonus(h):(c=i.value)==null||c.reset("right")}},t=(u,l,v)=>{var r,s;if(u==="left"){const c=((r=n.leftUnit)==null?void 0:r.bonus)??null;c&&(c[l]=v),n.setLeftUnitBonus(c)}else{const c=((s=n.rightUnit)==null?void 0:s.bonus)??null;c&&(c[l]=v),n.setRightUnitBonus(c)}},a=()=>{n.clearUnits()};return(u,l)=>{var s,c,h,p,w,$,B,L,R,N,C,M,X,O;const v=me,r=ai;return E(),K(he,null,[l[5]||(l[5]=V("h1",null,"TWW3 Brawl",-1)),V("div",lo,[V("div",ro,[I(qt,{orientation:"left",class:"bg-positive unit-card",modelValue:T(n).leftUnit,"onUpdate:modelValue":l[0]||(l[0]=H=>o("left",H))},null,8,["modelValue"]),I(qt,{orientation:"right",class:"bg-negative unit-card",modelValue:T(n).rightUnit,"onUpdate:modelValue":l[1]||(l[1]=H=>o("right",H))},null,8,["modelValue"])]),V("div",so,[I(v,{label:"Reset",color:"warning",icon:"refresh",onClick:a})]),(h=(c=(s=T(n))==null?void 0:s.leftUnit)==null?void 0:c.selection)!=null&&h.unit||($=(w=(p=T(n))==null?void 0:p.rightUnit)==null?void 0:w.selection)!=null&&$.unit?(E(),K("div",uo,[V("div",co,[(R=(L=(B=T(n))==null?void 0:B.leftUnit)==null?void 0:L.selection)!=null&&R.unit&&T(Pe)(T(n).leftUnit.selection.unit)>1?(E(),ce($t,{key:0,"entity-number":T(n).leftUnit.entityNumber,"max-entities":((C=(N=T(n).leftUnit.selection)==null?void 0:N.unit)==null?void 0:C.num_men)||1,"onUpdate:entityNumber":l[2]||(l[2]=H=>T(n).setLeftUnitEntityCount(H))},null,8,["entity-number","max-entities"])):se("",!0)]),V("div",vo,[(O=(X=(M=T(n))==null?void 0:M.rightUnit)==null?void 0:X.selection)!=null&&O.unit&&T(Pe)(T(n).rightUnit.selection.unit)>1?(E(),ce($t,{key:0,"entity-number":T(n).rightUnit.entityNumber,"max-entities":T(Pe)(T(n).rightUnit.selection.unit),"onUpdate:entityNumber":l[3]||(l[3]=H=>T(n).setRightUnitEntityCount(H))},null,8,["entity-number","max-entities"])):se("",!0)])])):se("",!0),I(r),I(oo,{ref_key:"detailViewRef",ref:i,leftUnit:T(n).leftUnit,rightUnit:T(n).rightUnit,onUpdate:t},null,8,["leftUnit","rightUnit"]),l[4]||(l[4]=V("div",{style:{"min-height":"25vh"}},null,-1))])],64)}}}),bo=_e(mo,[["__scopeId","data-v-dafe5053"]]);export{bo as default};
