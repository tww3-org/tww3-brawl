import{H as de,j as u,h as q,I as pe,r as X,J as oe,o as De,K as Ne,L as Je,M as Ve,N as _e,O as Re,P as Nt,Q as Se,R as Ae,S as Pe,T as Vt,U as Rt,V as un,W as Pt,e as et,X as mt,Y as Ke,Z as cn,$ as Be,a0 as dn,a1 as vn,a2 as mn,d as me,t as K,v as P,z as T,A as W,_ as ge,a3 as se,a4 as R,a5 as fn,a6 as le,B as Ce,y as ue,a7 as At,a8 as gn,x as A,a9 as Me,aa as _n,ab as be,ac as xe,ad as hn}from"./sY5cVIZy.js";import{u as It,a as Et,Q as Tt,h as Lt,b as Ft,c as ye,d as bn,n as Dt,e as pn,g as yn,f as kn,_ as fe,i as tt,j as nt,k as wn,l as Sn,m as zt,o as Xe,p as Cn,q as xn,r as qn,s as $n,t as Ot,v as qe,w as jt,x as Un,y as Mn,z as Ht,A as Qe,B as Bn,C as Nn,D as Vn,E as ft,F as Rn,G as Pn,H as An,I as In,J as En,K as Tn,L as Ln,M as Fn,N as Dn,O as zn,P as On,R as jn,S as Hn,T as Kn,U as Qn,V as Wn,W as Xn}from"./D3Z4y0xN.js";import Yn from"./DQOuzj71.js";/* empty css        */const Zn=de({name:"QAvatar",props:{...It,fontSize:String,color:String,textColor:String,icon:String,square:Boolean,rounded:Boolean},setup(e,{slots:n}){const i=Et(e),o=u(()=>"q-avatar"+(e.color?` bg-${e.color}`:"")+(e.textColor?` text-${e.textColor} q-chip--colored`:"")+(e.square===!0?" q-avatar--square":e.rounded===!0?" rounded-borders":"")),t=u(()=>e.fontSize?{fontSize:e.fontSize}:null);return()=>{const a=e.icon!==void 0?[q(Tt,{name:e.icon})]:void 0;return q("div",{class:o.value,style:i.value},[q("div",{class:"q-avatar__content row flex-center overflow-hidden",style:t.value},Lt(n.default,a))])}}}),Gn=["top","middle","bottom"],Jn=de({name:"QBadge",props:{color:String,textColor:String,floating:Boolean,transparent:Boolean,multiLine:Boolean,outline:Boolean,rounded:Boolean,label:[Number,String],align:{type:String,validator:e=>Gn.includes(e)}},setup(e,{slots:n}){const i=u(()=>e.align!==void 0?{verticalAlign:e.align}:null),o=u(()=>{const t=e.outline===!0&&e.color||e.textColor;return`q-badge flex inline items-center no-wrap q-badge--${e.multiLine===!0?"multi":"single"}-line`+(e.outline===!0?" q-badge--outline":e.color!==void 0?` bg-${e.color}`:"")+(t!==void 0?` text-${t}`:"")+(e.floating===!0?" q-badge--floating":"")+(e.rounded===!0?" q-badge--rounded":"")+(e.transparent===!0?" q-badge--transparent":"")});return()=>q("div",{class:o.value,style:i.value,role:"status","aria-label":e.label},Ft(n.default,e.label!==void 0?[e.label]:[]))}}),ea=de({name:"QBtnGroup",props:{unelevated:Boolean,outline:Boolean,flat:Boolean,rounded:Boolean,square:Boolean,push:Boolean,stretch:Boolean,glossy:Boolean,spread:Boolean},setup(e,{slots:n}){const i=u(()=>{const o=["unelevated","outline","flat","rounded","square","push","stretch","glossy"].filter(t=>e[t]===!0).map(t=>`q-btn-group--${t}`).join(" ");return`q-btn-group row no-wrap${o.length!==0?" "+o:""}`+(e.spread===!0?" q-btn-group--spread":" inline")});return()=>q("div",{class:i.value},ye(n.default))}}),ta=Object.keys(Dt);function na(e){return ta.reduce((n,i)=>{const o=e[i];return o!==void 0&&(n[i]=o),n},{})}const aa=de({name:"QBtnDropdown",props:{...Dt,...bn,modelValue:Boolean,split:Boolean,dropdownIcon:String,contentClass:[Array,String,Object],contentStyle:[Array,String,Object],cover:Boolean,persistent:Boolean,noEscDismiss:Boolean,noRouteDismiss:Boolean,autoClose:Boolean,noRefocus:Boolean,noFocus:Boolean,menuAnchor:{type:String,default:"bottom end"},menuSelf:{type:String,default:"top end"},menuOffset:Array,disableMainBtn:Boolean,disableDropdown:Boolean,noIconAnimation:Boolean,toggleAriaLabel:String},emits:["update:modelValue","click","beforeShow","show","beforeHide","hide"],setup(e,{slots:n,emit:i}){const{proxy:o}=pe(),t=X(e.modelValue),a=X(null),s=pn(),l=u(()=>{const S={"aria-expanded":t.value===!0?"true":"false","aria-haspopup":"true","aria-controls":s.value,"aria-label":e.toggleAriaLabel||o.$q.lang.label[t.value===!0?"collapse":"expand"](e.label)};return(e.disable===!0||e.split===!1&&e.disableMainBtn===!0||e.disableDropdown===!0)&&(S["aria-disabled"]="true"),S}),v=u(()=>"q-btn-dropdown__arrow"+(t.value===!0&&e.noIconAnimation===!1?" rotate-180":"")+(e.split===!1?" q-btn-dropdown__arrow-container":"")),r=u(()=>yn(e)),c=u(()=>na(e));oe(()=>e.modelValue,S=>{var U;(U=a.value)==null||U[S?"show":"hide"]()}),oe(()=>e.split,B);function d(S){t.value=!0,i("beforeShow",S)}function m(S){i("show",S),i("update:modelValue",!0)}function b(S){t.value=!1,i("beforeHide",S)}function p(S){i("hide",S),i("update:modelValue",!1)}function x(S){i("click",S)}function N(S){Ne(S),B(),i("click",S)}function L(S){var U;(U=a.value)==null||U.toggle(S)}function V(S){var U;(U=a.value)==null||U.show(S)}function B(S){var U;(U=a.value)==null||U.hide(S)}return Object.assign(o,{show:V,hide:B,toggle:L}),De(()=>{e.modelValue===!0&&V()}),()=>{const S=[q(Tt,{class:v.value,name:e.dropdownIcon||o.$q.iconSet.arrow.dropdown})];return e.disableDropdown!==!0&&S.push(q(kn,{ref:a,id:s.value,class:e.contentClass,style:e.contentStyle,cover:e.cover,fit:!0,persistent:e.persistent,noEscDismiss:e.noEscDismiss,noRouteDismiss:e.noRouteDismiss,autoClose:e.autoClose,noFocus:e.noFocus,noRefocus:e.noRefocus,anchor:e.menuAnchor,self:e.menuSelf,offset:e.menuOffset,separateClosePopup:!0,transitionShow:e.transitionShow,transitionHide:e.transitionHide,transitionDuration:e.transitionDuration,onBeforeShow:d,onShow:m,onBeforeHide:b,onHide:p},n.default)),e.split===!1?q(fe,{class:"q-btn-dropdown q-btn-dropdown--simple",...c.value,...l.value,disable:e.disable===!0||e.disableMainBtn===!0,noWrap:!0,round:!1,onClick:x},{default:()=>ye(n.label,[]).concat(S),loading:n.loading}):q(ea,{class:"q-btn-dropdown q-btn-dropdown--split no-wrap q-btn-item",rounded:e.rounded,square:e.square,...r.value,glossy:e.glossy,stretch:e.stretch},()=>[q(fe,{class:"q-btn-dropdown--current",...c.value,disable:e.disable===!0||e.disableMainBtn===!0,noWrap:!0,round:!1,onClick:N},{default:n.label,loading:n.loading}),q(fe,{class:"q-btn-dropdown__arrow-container q-anchor--skip",...l.value,...r.value,disable:e.disable===!0||e.disableDropdown===!0,rounded:e.rounded,color:e.color,textColor:e.textColor,dense:e.dense,size:e.size,padding:e.padding,ripple:e.ripple},()=>S)])}}}),at=de({name:"QCard",props:{...tt,tag:{type:String,default:"div"},square:Boolean,flat:Boolean,bordered:Boolean},setup(e,{slots:n}){const{proxy:{$q:i}}=pe(),o=nt(e,i),t=u(()=>"q-card"+(o.value===!0?" q-card--dark q-dark":"")+(e.bordered===!0?" q-card--bordered":"")+(e.square===!0?" q-card--square no-border-radius":"")+(e.flat===!0?" q-card--flat no-shadow":""));return()=>q(e.tag,{class:t.value},ye(n.default))}}),ia=de({name:"QCardActions",props:{...wn,vertical:Boolean},setup(e,{slots:n}){const i=Sn(e),o=u(()=>`q-card__actions ${i.value} q-card__actions--${e.vertical===!0?"vert column":"horiz row"}`);return()=>q("div",{class:o.value},ye(n.default))}}),it=de({name:"QCardSection",props:{tag:{type:String,default:"div"},horizontal:Boolean},setup(e,{slots:n}){const i=u(()=>`q-card__section q-card__section--${e.horizontal===!0?"horiz row no-wrap":"vert"}`);return()=>q(e.tag,{class:i.value},ye(n.default))}}),ot={left:!0,right:!0,up:!0,down:!0,horizontal:!0,vertical:!0},oa=Object.keys(ot);ot.all=!0;function Te(e){const n={};for(const i of oa)e[i]===!0&&(n[i]=!0);return Object.keys(n).length===0?ot:(n.horizontal===!0?n.left=n.right=!0:n.left===!0&&n.right===!0&&(n.horizontal=!0),n.vertical===!0?n.up=n.down=!0:n.up===!0&&n.down===!0&&(n.vertical=!0),n.horizontal===!0&&n.vertical===!0&&(n.all=!0),n)}const la=["INPUT","TEXTAREA"];function Le(e,n){return n.event===void 0&&e.target!==void 0&&e.target.draggable!==!0&&typeof n.handler=="function"&&la.includes(e.target.nodeName.toUpperCase())===!1&&(e.qClonedBy===void 0||e.qClonedBy.indexOf(n.uid)===-1)}function ra(e){const n=[.06,6,50];return typeof e=="string"&&e.length&&e.split(":").forEach((i,o)=>{const t=parseFloat(i);t&&(n[o]=t)}),n}const sa=Je({name:"touch-swipe",beforeMount(e,{value:n,arg:i,modifiers:o}){if(o.mouse!==!0&&_e.has.touch!==!0)return;const t=o.mouseCapture===!0?"Capture":"",a={handler:n,sensitivity:ra(i),direction:Te(o),noop:Nt,mouseStart(s){Le(s,a)&&Vt(s)&&(Se(a,"temp",[[document,"mousemove","move",`notPassive${t}`],[document,"mouseup","end","notPassiveCapture"]]),a.start(s,!0))},touchStart(s){if(Le(s,a)){const l=s.target;Se(a,"temp",[[l,"touchmove","move","notPassiveCapture"],[l,"touchcancel","end","notPassiveCapture"],[l,"touchend","end","notPassiveCapture"]]),a.start(s)}},start(s,l){_e.is.firefox===!0&&Re(e,!0);const v=Pe(s);a.event={x:v.left,y:v.top,time:Date.now(),mouse:l===!0,dir:!1}},move(s){if(a.event===void 0)return;if(a.event.dir!==!1){Ae(s);return}const l=Date.now()-a.event.time;if(l===0)return;const v=Pe(s),r=v.left-a.event.x,c=Math.abs(r),d=v.top-a.event.y,m=Math.abs(d);if(a.event.mouse!==!0){if(c<a.sensitivity[1]&&m<a.sensitivity[1]){a.end(s);return}}else if(window.getSelection().toString()!==""){a.end(s);return}else if(c<a.sensitivity[2]&&m<a.sensitivity[2])return;const b=c/l,p=m/l;a.direction.vertical===!0&&c<m&&c<100&&p>a.sensitivity[0]&&(a.event.dir=d<0?"up":"down"),a.direction.horizontal===!0&&c>m&&m<100&&b>a.sensitivity[0]&&(a.event.dir=r<0?"left":"right"),a.direction.up===!0&&c<m&&d<0&&c<100&&p>a.sensitivity[0]&&(a.event.dir="up"),a.direction.down===!0&&c<m&&d>0&&c<100&&p>a.sensitivity[0]&&(a.event.dir="down"),a.direction.left===!0&&c>m&&r<0&&m<100&&b>a.sensitivity[0]&&(a.event.dir="left"),a.direction.right===!0&&c>m&&r>0&&m<100&&b>a.sensitivity[0]&&(a.event.dir="right"),a.event.dir!==!1?(Ae(s),a.event.mouse===!0&&(document.body.classList.add("no-pointer-events--children"),document.body.classList.add("non-selectable"),zt(),a.styleCleanup=x=>{a.styleCleanup=void 0,document.body.classList.remove("non-selectable");const N=()=>{document.body.classList.remove("no-pointer-events--children")};x===!0?setTimeout(N,50):N()}),a.handler({evt:s,touch:a.event.mouse!==!0,mouse:a.event.mouse,direction:a.event.dir,duration:l,distance:{x:c,y:m}})):a.end(s)},end(s){var l;a.event!==void 0&&(Ve(a,"temp"),_e.is.firefox===!0&&Re(e,!1),(l=a.styleCleanup)==null||l.call(a,!0),s!==void 0&&a.event.dir!==!1&&Ae(s),a.event=void 0)}};if(e.__qtouchswipe=a,o.mouse===!0){const s=o.mouseCapture===!0||o.mousecapture===!0?"Capture":"";Se(a,"main",[[e,"mousedown","mouseStart",`passive${s}`]])}_e.has.touch===!0&&Se(a,"main",[[e,"touchstart","touchStart",`passive${o.capture===!0?"Capture":""}`],[e,"touchmove","noop","notPassiveCapture"]])},updated(e,n){const i=e.__qtouchswipe;i!==void 0&&(n.oldValue!==n.value&&(typeof n.value!="function"&&i.end(),i.handler=n.value),i.direction=Te(n.modifiers))},beforeUnmount(e){var i;const n=e.__qtouchswipe;n!==void 0&&(Ve(n,"main"),Ve(n,"temp"),_e.is.firefox===!0&&Re(e,!1),(i=n.styleCleanup)==null||i.call(n),delete e.__qtouchswipe)}});function ua(){let e=Object.create(null);return{getCache:(n,i)=>e[n]===void 0?e[n]=typeof i=="function"?i():i:e[n],setCache(n,i){e[n]=i},hasCache(n){return Object.hasOwnProperty.call(e,n)},clearCache(n){n!==void 0?delete e[n]:e=Object.create(null)}}}const ca={name:{required:!0},disable:Boolean},gt={setup(e,{slots:n}){return()=>q("div",{class:"q-panel scroll",role:"tabpanel"},ye(n.default))}},da={modelValue:{required:!0},animated:Boolean,infinite:Boolean,swipeable:Boolean,vertical:Boolean,transitionPrev:String,transitionNext:String,transitionDuration:{type:[String,Number],default:300},keepAlive:Boolean,keepAliveInclude:[String,Array,RegExp],keepAliveExclude:[String,Array,RegExp],keepAliveMax:Number},va=["update:modelValue","beforeTransition","transition"];function ma(){const{props:e,emit:n,proxy:i}=pe(),{getCache:o}=ua(),{registerTimeout:t}=Xe();let a,s;const l=X(null),v={value:null};function r(h){const $=e.vertical===!0?"up":"left";Z((i.$q.lang.rtl===!0?-1:1)*(h.direction===$?1:-1))}const c=u(()=>[[sa,r,void 0,{horizontal:e.vertical!==!0,vertical:e.vertical,mouse:!0}]]),d=u(()=>e.transitionPrev||`slide-${e.vertical===!0?"down":"right"}`),m=u(()=>e.transitionNext||`slide-${e.vertical===!0?"up":"left"}`),b=u(()=>`--q-transition-duration: ${e.transitionDuration}ms`),p=u(()=>typeof e.modelValue=="string"||typeof e.modelValue=="number"?e.modelValue:String(e.modelValue)),x=u(()=>({include:e.keepAliveInclude,exclude:e.keepAliveExclude,max:e.keepAliveMax})),N=u(()=>e.keepAliveInclude!==void 0||e.keepAliveExclude!==void 0);oe(()=>e.modelValue,(h,$)=>{const M=S(h)===!0?U(h):-1;s!==!0&&F(M===-1?0:M<U($)?-1:1),v.value!==M&&(v.value=M,n("beforeTransition",h,$),t(()=>{n("transition",h,$)},e.transitionDuration))});function L(){Z(1)}function V(){Z(-1)}function B(h){n("update:modelValue",h)}function S(h){return h!=null&&h!==""}function U(h){return a.findIndex($=>$.props.name===h&&$.props.disable!==""&&$.props.disable!==!0)}function D(){return a.filter(h=>h.props.disable!==""&&h.props.disable!==!0)}function F(h){const $=h!==0&&e.animated===!0&&v.value!==-1?"q-transition--"+(h===-1?d.value:m.value):null;l.value!==$&&(l.value=$)}function Z(h,$=v.value){let M=$+h;for(;M!==-1&&M<a.length;){const E=a[M];if(E!==void 0&&E.props.disable!==""&&E.props.disable!==!0){F(h),s=!0,n("update:modelValue",E.props.name),setTimeout(()=>{s=!1});return}M+=h}e.infinite===!0&&a.length!==0&&$!==-1&&$!==a.length&&Z(h,h===-1?a.length:-1)}function k(){const h=U(e.modelValue);return v.value!==h&&(v.value=h),!0}function f(){const h=S(e.modelValue)===!0&&k()&&a[v.value];return e.keepAlive===!0?[q(un,x.value,[q(N.value===!0?o(p.value,()=>({...gt,name:p.value})):gt,{key:p.value,style:b.value},()=>h)])]:[q("div",{class:"q-panel scroll",style:b.value,key:p.value,role:"tabpanel"},[h])]}function C(){if(a.length!==0)return e.animated===!0?[q(Rt,{name:l.value},f)]:f()}function g(h){return a=Cn(ye(h.default,[])).filter($=>$.props!==null&&$.props.slot===void 0&&S($.props.name)===!0),a.length}function _(){return a}return Object.assign(i,{next:L,previous:V,goTo:B}),{panelIndex:v,panelDirectives:c,updatePanelsList:g,updatePanelIndex:k,getPanelContent:C,getEnabledPanels:D,getPanels:_,isValidPanelName:S,keepAliveProps:x,needsUniqueKeepAliveWrapper:N,goToPanelByOffset:Z,goToPanel:B,nextPanel:L,previousPanel:V}}const fa=["top","right","bottom","left"],ga=["regular","flat","outline","push","unelevated"],_a=de({name:"QCarousel",props:{...tt,...da,...qn,transitionPrev:{type:String,default:"fade"},transitionNext:{type:String,default:"fade"},height:String,padding:Boolean,controlColor:String,controlTextColor:String,controlType:{type:String,validator:e=>ga.includes(e),default:"flat"},autoplay:[Number,Boolean],arrows:Boolean,prevIcon:String,nextIcon:String,navigation:Boolean,navigationPosition:{type:String,validator:e=>fa.includes(e)},navigationIcon:String,navigationActiveIcon:String,thumbnails:Boolean},emits:[...xn,...va],setup(e,{slots:n}){const{proxy:{$q:i}}=pe(),o=nt(e,i);let t=null,a;const{updatePanelsList:s,getPanelContent:l,panelDirectives:v,goToPanel:r,previousPanel:c,nextPanel:d,getEnabledPanels:m,panelIndex:b}=ma(),{inFullscreen:p}=$n(),x=u(()=>p.value!==!0&&e.height!==void 0?{height:e.height}:{}),N=u(()=>e.vertical===!0?"vertical":"horizontal"),L=u(()=>e.navigationPosition||(e.vertical===!0?"right":"bottom")),V=u(()=>`q-carousel q-panel-parent q-carousel--with${e.padding===!0?"":"out"}-padding`+(p.value===!0?" fullscreen":"")+(o.value===!0?" q-carousel--dark q-dark":"")+(e.arrows===!0?` q-carousel--arrows-${N.value}`:"")+(e.navigation===!0?` q-carousel--navigation-${L.value}`:"")),B=u(()=>{const f=[e.prevIcon||i.iconSet.carousel[e.vertical===!0?"up":"left"],e.nextIcon||i.iconSet.carousel[e.vertical===!0?"down":"right"]];return e.vertical===!1&&i.lang.rtl===!0?f.reverse():f}),S=u(()=>e.navigationIcon||i.iconSet.carousel.navigationIcon),U=u(()=>e.navigationActiveIcon||S.value),D=u(()=>({color:e.controlColor,textColor:e.controlTextColor,round:!0,[e.controlType]:!0,dense:!0}));oe(()=>e.modelValue,()=>{e.autoplay&&F()}),oe(()=>e.autoplay,f=>{f?F():t!==null&&(clearTimeout(t),t=null)});function F(){const f=Pt(e.autoplay)===!0?Math.abs(e.autoplay):5e3;t!==null&&clearTimeout(t),t=setTimeout(()=>{t=null,f>=0?d():c()},f)}De(()=>{e.autoplay&&F()}),et(()=>{t!==null&&clearTimeout(t)});function Z(f,C){return q("div",{class:`q-carousel__control q-carousel__navigation no-wrap absolute flex q-carousel__navigation--${f} q-carousel__navigation--${L.value}`+(e.controlColor!==void 0?` text-${e.controlColor}`:"")},[q("div",{class:"q-carousel__navigation-inner flex flex-center no-wrap"},m().map(C))])}function k(){const f=[];if(e.navigation===!0){const C=n["navigation-icon"]!==void 0?n["navigation-icon"]:_=>q(fe,{key:"nav"+_.name,class:`q-carousel__navigation-icon q-carousel__navigation-icon--${_.active===!0?"":"in"}active`,..._.btnProps,onClick:_.onClick}),g=a-1;f.push(Z("buttons",(_,h)=>{const $=_.props.name,M=b.value===h;return C({index:h,maxIndex:g,name:$,active:M,btnProps:{icon:M===!0?U.value:S.value,size:"sm",...D.value},onClick:()=>{r($)}})}))}else if(e.thumbnails===!0){const C=e.controlColor!==void 0?` text-${e.controlColor}`:"";f.push(Z("thumbnails",g=>{const _=g.props;return q("img",{key:"tmb#"+_.name,class:`q-carousel__thumbnail q-carousel__thumbnail--${_.name===e.modelValue?"":"in"}active`+C,src:_.imgSrc||_["img-src"],onClick:()=>{r(_.name)}})}))}return e.arrows===!0&&b.value>=0&&((e.infinite===!0||b.value>0)&&f.push(q("div",{key:"prev",class:`q-carousel__control q-carousel__arrow q-carousel__prev-arrow q-carousel__prev-arrow--${N.value} absolute flex flex-center`},[q(fe,{icon:B.value[0],...D.value,onClick:c})])),(e.infinite===!0||b.value<a-1)&&f.push(q("div",{key:"next",class:`q-carousel__control q-carousel__arrow q-carousel__next-arrow q-carousel__next-arrow--${N.value} absolute flex flex-center`},[q(fe,{icon:B.value[1],...D.value,onClick:d})]))),Ft(n.control,f)}return()=>(a=s(n),q("div",{class:V.value,style:x.value},[Ot("div",{class:"q-carousel__slides-container"},l(),"sl-cont",e.swipeable,()=>v.value)].concat(k())))}}),ha=de({name:"QCarouselSlide",props:{...ca,imgSrc:String},setup(e,{slots:n}){const i=u(()=>e.imgSrc?{backgroundImage:`url("${e.imgSrc}")`}:{});return()=>q("div",{class:"q-carousel__slide",style:i.value},ye(n.default))}}),ba={...It,min:{type:Number,default:0},max:{type:Number,default:100},color:String,centerColor:String,trackColor:String,fontSize:String,rounded:Boolean,thickness:{type:Number,default:.2,validator:e=>e>=0&&e<=1},angle:{type:Number,default:0},showValue:Boolean,reverse:Boolean,instantFeedback:Boolean},Ye=50,Kt=2*Ye,Qt=Kt*Math.PI,pa=Math.round(Qt*1e3)/1e3,ya=de({name:"QCircularProgress",props:{...ba,value:{type:Number,default:0},animationSpeed:{type:[String,Number],default:600},indeterminate:Boolean},setup(e,{slots:n}){const{proxy:{$q:i}}=pe(),o=Et(e),t=u(()=>{const b=(i.lang.rtl===!0?-1:1)*e.angle;return{transform:e.reverse!==(i.lang.rtl===!0)?`scale3d(-1, 1, 1) rotate3d(0, 0, 1, ${-90-b}deg)`:`rotate3d(0, 0, 1, ${b-90}deg)`}}),a=u(()=>e.instantFeedback!==!0&&e.indeterminate!==!0?{transition:`stroke-dashoffset ${e.animationSpeed}ms ease 0s, stroke ${e.animationSpeed}ms ease`}:""),s=u(()=>Kt/(1-e.thickness/2)),l=u(()=>`${s.value/2} ${s.value/2} ${s.value} ${s.value}`),v=u(()=>qe(e.value,e.min,e.max)),r=u(()=>e.max-e.min),c=u(()=>e.thickness/2*s.value),d=u(()=>{const b=(e.max-v.value)/r.value,p=e.rounded===!0&&v.value<e.max&&b<.25?c.value/2*(1-b/.25):0;return Qt*b+p});function m({thickness:b,offset:p,color:x,cls:N,rounded:L}){return q("circle",{class:"q-circular-progress__"+N+(x!==void 0?` text-${x}`:""),style:a.value,fill:"transparent",stroke:"currentColor","stroke-width":b,"stroke-dasharray":pa,"stroke-dashoffset":p,"stroke-linecap":L,cx:s.value,cy:s.value,r:Ye})}return()=>{const b=[];e.centerColor!==void 0&&e.centerColor!=="transparent"&&b.push(q("circle",{class:`q-circular-progress__center text-${e.centerColor}`,fill:"currentColor",r:Ye-c.value/2,cx:s.value,cy:s.value})),e.trackColor!==void 0&&e.trackColor!=="transparent"&&b.push(m({cls:"track",thickness:c.value,offset:0,color:e.trackColor})),b.push(m({cls:"circle",thickness:c.value,offset:d.value,color:e.color,rounded:e.rounded===!0?"round":void 0}));const p=[q("svg",{class:"q-circular-progress__svg",style:t.value,viewBox:l.value,"aria-hidden":"true"},b)];return e.showValue===!0&&p.push(q("div",{class:"q-circular-progress__text absolute-full row flex-center content-center",style:{fontSize:e.fontSize}},n.default!==void 0?n.default():[q("div",v.value)])),q("div",{class:`q-circular-progress q-circular-progress--${e.indeterminate===!0?"in":""}determinate`,style:o.value,role:"progressbar","aria-valuemin":e.min,"aria-valuemax":e.max,"aria-valuenow":e.indeterminate===!0?void 0:v.value},Lt(n.internal,p))}}});function We(e,n,i){const o=Pe(e);let t,a=o.left-n.event.x,s=o.top-n.event.y,l=Math.abs(a),v=Math.abs(s);const r=n.direction;r.horizontal===!0&&r.vertical!==!0?t=a<0?"left":"right":r.horizontal!==!0&&r.vertical===!0?t=s<0?"up":"down":r.up===!0&&s<0?(t="up",l>v&&(r.left===!0&&a<0?t="left":r.right===!0&&a>0&&(t="right"))):r.down===!0&&s>0?(t="down",l>v&&(r.left===!0&&a<0?t="left":r.right===!0&&a>0&&(t="right"))):r.left===!0&&a<0?(t="left",l<v&&(r.up===!0&&s<0?t="up":r.down===!0&&s>0&&(t="down"))):r.right===!0&&a>0&&(t="right",l<v&&(r.up===!0&&s<0?t="up":r.down===!0&&s>0&&(t="down")));let c=!1;if(t===void 0&&i===!1){if(n.event.isFirst===!0||n.event.lastDir===void 0)return{};t=n.event.lastDir,c=!0,t==="left"||t==="right"?(o.left-=a,l=0,a=0):(o.top-=s,v=0,s=0)}return{synthetic:c,payload:{evt:e,touch:n.event.mouse!==!0,mouse:n.event.mouse===!0,position:o,direction:t,isFirst:n.event.isFirst,isFinal:i===!0,duration:Date.now()-n.event.time,distance:{x:l,y:v},offset:{x:a,y:s},delta:{x:o.left-n.event.lastX,y:o.top-n.event.lastY}}}}let ka=0;const wa=Je({name:"touch-pan",beforeMount(e,{value:n,modifiers:i}){if(i.mouse!==!0&&_e.has.touch!==!0)return;function o(a,s){i.mouse===!0&&s===!0?Ae(a):(i.stop===!0&&Ne(a),i.prevent===!0&&mt(a))}const t={uid:"qvtp_"+ka++,handler:n,modifiers:i,direction:Te(i),noop:Nt,mouseStart(a){Le(a,t)&&Vt(a)&&(Se(t,"temp",[[document,"mousemove","move","notPassiveCapture"],[document,"mouseup","end","passiveCapture"]]),t.start(a,!0))},touchStart(a){if(Le(a,t)){const s=a.target;Se(t,"temp",[[s,"touchmove","move","notPassiveCapture"],[s,"touchcancel","end","passiveCapture"],[s,"touchend","end","passiveCapture"]]),t.start(a)}},start(a,s){if(_e.is.firefox===!0&&Re(e,!0),t.lastEvt=a,s===!0||i.stop===!0){if(t.direction.all!==!0&&(s!==!0||t.modifiers.mouseAllDir!==!0&&t.modifiers.mousealldir!==!0)){const r=a.type.indexOf("mouse")!==-1?new MouseEvent(a.type,a):new TouchEvent(a.type,a);a.defaultPrevented===!0&&mt(r),a.cancelBubble===!0&&Ne(r),Object.assign(r,{qKeyEvent:a.qKeyEvent,qClickOutside:a.qClickOutside,qAnchorHandled:a.qAnchorHandled,qClonedBy:a.qClonedBy===void 0?[t.uid]:a.qClonedBy.concat(t.uid)}),t.initialEvent={target:a.target,event:r}}Ne(a)}const{left:l,top:v}=Pe(a);t.event={x:l,y:v,time:Date.now(),mouse:s===!0,detected:!1,isFirst:!0,isFinal:!1,lastX:l,lastY:v}},move(a){if(t.event===void 0)return;const s=Pe(a),l=s.left-t.event.x,v=s.top-t.event.y;if(l===0&&v===0)return;t.lastEvt=a;const r=t.event.mouse===!0,c=()=>{o(a,r);let b;i.preserveCursor!==!0&&i.preservecursor!==!0&&(b=document.documentElement.style.cursor||"",document.documentElement.style.cursor="grabbing"),r===!0&&document.body.classList.add("no-pointer-events--children"),document.body.classList.add("non-selectable"),zt(),t.styleCleanup=p=>{if(t.styleCleanup=void 0,b!==void 0&&(document.documentElement.style.cursor=b),document.body.classList.remove("non-selectable"),r===!0){const x=()=>{document.body.classList.remove("no-pointer-events--children")};p!==void 0?setTimeout(()=>{x(),p()},50):x()}else p!==void 0&&p()}};if(t.event.detected===!0){t.event.isFirst!==!0&&o(a,t.event.mouse);const{payload:b,synthetic:p}=We(a,t,!1);b!==void 0&&(t.handler(b)===!1?t.end(a):(t.styleCleanup===void 0&&t.event.isFirst===!0&&c(),t.event.lastX=b.position.left,t.event.lastY=b.position.top,t.event.lastDir=p===!0?void 0:b.direction,t.event.isFirst=!1));return}if(t.direction.all===!0||r===!0&&(t.modifiers.mouseAllDir===!0||t.modifiers.mousealldir===!0)){c(),t.event.detected=!0,t.move(a);return}const d=Math.abs(l),m=Math.abs(v);d!==m&&(t.direction.horizontal===!0&&d>m||t.direction.vertical===!0&&d<m||t.direction.up===!0&&d<m&&v<0||t.direction.down===!0&&d<m&&v>0||t.direction.left===!0&&d>m&&l<0||t.direction.right===!0&&d>m&&l>0?(t.event.detected=!0,t.move(a)):t.end(a,!0))},end(a,s){var l;if(t.event!==void 0){if(Ve(t,"temp"),_e.is.firefox===!0&&Re(e,!1),s===!0)(l=t.styleCleanup)==null||l.call(t),t.event.detected!==!0&&t.initialEvent!==void 0&&t.initialEvent.target.dispatchEvent(t.initialEvent.event);else if(t.event.detected===!0){t.event.isFirst===!0&&t.handler(We(a===void 0?t.lastEvt:a,t).payload);const{payload:v}=We(a===void 0?t.lastEvt:a,t,!0),r=()=>{t.handler(v)};t.styleCleanup!==void 0?t.styleCleanup(r):r()}t.event=void 0,t.initialEvent=void 0,t.lastEvt=void 0}}};if(e.__qtouchpan=t,i.mouse===!0){const a=i.mouseCapture===!0||i.mousecapture===!0?"Capture":"";Se(t,"main",[[e,"mousedown","mouseStart",`passive${a}`]])}_e.has.touch===!0&&Se(t,"main",[[e,"touchstart","touchStart",`passive${i.capture===!0?"Capture":""}`],[e,"touchmove","noop","notPassiveCapture"]])},updated(e,n){const i=e.__qtouchpan;i!==void 0&&(n.oldValue!==n.value&&(typeof value!="function"&&i.end(),i.handler=n.value),i.direction=Te(n.modifiers))},beforeUnmount(e){var i;const n=e.__qtouchpan;n!==void 0&&(n.event!==void 0&&n.end(),Ve(n,"main"),Ve(n,"temp"),_e.is.firefox===!0&&Re(e,!1),(i=n.styleCleanup)==null||i.call(n),delete e.__qtouchpan)}}),_t="q-slider__marker-labels",Sa=e=>({value:e}),Ca=({marker:e})=>q("div",{key:e.value,style:e.style,class:e.classes},e.label),Wt=[34,37,40,33,39,38],xa={...tt,...jt,min:{type:Number,default:0},max:{type:Number,default:100},innerMin:Number,innerMax:Number,step:{type:Number,default:1,validator:e=>e>=0},snap:Boolean,vertical:Boolean,reverse:Boolean,color:String,markerLabelsClass:String,label:Boolean,labelColor:String,labelTextColor:String,labelAlways:Boolean,switchLabelSide:Boolean,markers:[Boolean,Number],markerLabels:[Boolean,Array,Object,Function],switchMarkerLabelsSide:Boolean,trackImg:String,trackColor:String,innerTrackImg:String,innerTrackColor:String,selectionColor:String,selectionImg:String,thumbSize:{type:String,default:"20px"},trackSize:{type:String,default:"4px"},disable:Boolean,readonly:Boolean,dense:Boolean,tabindex:[String,Number],thumbColor:String,thumbPath:{type:String,default:"M 4, 10 a 6,6 0 1,0 12,0 a 6,6 0 1,0 -12,0"}},qa=["pan","update:modelValue","change"];function $a({updateValue:e,updatePosition:n,getDragging:i,formAttrs:o}){const{props:t,emit:a,slots:s,proxy:{$q:l}}=pe(),v=nt(t,l),r=Un(o),c=X(!1),d=X(!1),m=X(!1),b=X(!1),p=u(()=>t.vertical===!0?"--v":"--h"),x=u(()=>"-"+(t.switchLabelSide===!0?"switched":"standard")),N=u(()=>t.vertical===!0?t.reverse===!0:t.reverse!==(l.lang.rtl===!0)),L=u(()=>isNaN(t.innerMin)===!0||t.innerMin<t.min?t.min:t.innerMin),V=u(()=>isNaN(t.innerMax)===!0||t.innerMax>t.max?t.max:t.innerMax),B=u(()=>t.disable!==!0&&t.readonly!==!0&&L.value<V.value),S=u(()=>{if(t.step===0)return O=>O;const w=(String(t.step).trim().split(".")[1]||"").length;return O=>parseFloat(O.toFixed(w))}),U=u(()=>t.step===0?1:t.step),D=u(()=>B.value===!0?t.tabindex||0:-1),F=u(()=>t.max-t.min),Z=u(()=>V.value-L.value),k=u(()=>Ie(L.value)),f=u(()=>Ie(V.value)),C=u(()=>t.vertical===!0?N.value===!0?"bottom":"top":N.value===!0?"right":"left"),g=u(()=>t.vertical===!0?"height":"width"),_=u(()=>t.vertical===!0?"width":"height"),h=u(()=>t.vertical===!0?"vertical":"horizontal"),$=u(()=>{const w={role:"slider","aria-valuemin":L.value,"aria-valuemax":V.value,"aria-orientation":h.value,"data-step":t.step};return t.disable===!0?w["aria-disabled"]="true":t.readonly===!0&&(w["aria-readonly"]="true"),w}),M=u(()=>`q-slider q-slider${p.value} q-slider--${c.value===!0?"":"in"}active inline no-wrap `+(t.vertical===!0?"row":"column")+(t.disable===!0?" disabled":" q-slider--enabled"+(B.value===!0?" q-slider--editable":""))+(m.value==="both"?" q-slider--focus":"")+(t.label||t.labelAlways===!0?" q-slider--label":"")+(t.labelAlways===!0?" q-slider--label-always":"")+(v.value===!0?" q-slider--dark":"")+(t.dense===!0?" q-slider--dense q-slider--dense"+p.value:""));function E(w){const O="q-slider__"+w;return`${O} ${O}${p.value} ${O}${p.value}${x.value}`}function J(w){const O="q-slider__"+w;return`${O} ${O}${p.value}`}const te=u(()=>{const w=t.selectionColor||t.color;return"q-slider__selection absolute"+(w!==void 0?` text-${w}`:"")}),H=u(()=>J("markers")+" absolute overflow-hidden"),Y=u(()=>J("track-container")),y=u(()=>E("pin")),j=u(()=>E("label")),I=u(()=>E("text-container")),G=u(()=>E("marker-labels-container")+(t.markerLabelsClass!==void 0?` ${t.markerLabelsClass}`:"")),Q=u(()=>"q-slider__track relative-position no-outline"+(t.trackColor!==void 0?` bg-${t.trackColor}`:"")),ie=u(()=>{const w={[_.value]:t.trackSize};return t.trackImg!==void 0&&(w.backgroundImage=`url(${t.trackImg}) !important`),w}),ke=u(()=>"q-slider__inner absolute"+(t.innerTrackColor!==void 0?` bg-${t.innerTrackColor}`:"")),ce=u(()=>{const w=f.value-k.value,O={[C.value]:`${100*k.value}%`,[g.value]:w===0?"2px":`${100*w}%`};return t.innerTrackImg!==void 0&&(O.backgroundImage=`url(${t.innerTrackImg}) !important`),O});function z(w){const{min:O,max:ee,step:ne}=t;let re=O+w*(ee-O);if(ne>0){const we=(re-L.value)%ne;re+=(Math.abs(we)>=ne/2?(we<0?-1:1)*ne:0)-we}return re=S.value(re),qe(re,L.value,V.value)}function Ie(w){return F.value===0?0:(w-t.min)/F.value}function ve(w,O){const ee=Pe(w),ne=t.vertical===!0?qe((ee.top-O.top)/O.height,0,1):qe((ee.left-O.left)/O.width,0,1);return qe(N.value===!0?1-ne:ne,k.value,f.value)}const rt=u(()=>Pt(t.markers)===!0?t.markers:U.value),st=u(()=>{const w=[],O=rt.value,ee=t.max;let ne=t.min;do w.push(ne),ne+=O;while(ne<ee);return w.push(ee),w}),ut=u(()=>{const w=` ${_t}${p.value}-`;return _t+`${w}${t.switchMarkerLabelsSide===!0?"switched":"standard"}${w}${N.value===!0?"rtl":"ltr"}`}),ze=u(()=>t.markerLabels===!1?null:Zt(t.markerLabels).map((w,O)=>({index:O,value:w.value,label:w.label||w.value,classes:ut.value+(w.classes!==void 0?" "+w.classes:""),style:{...dt(w.value),...w.style||{}}}))),ct=u(()=>({markerList:ze.value,markerMap:Gt.value,classes:ut.value,getStyle:dt})),Yt=u(()=>{const w=Z.value===0?"2px":100*rt.value/Z.value;return{...ce.value,backgroundSize:t.vertical===!0?`2px ${w}%`:`${w}% 2px`}});function Zt(w){if(w===!1)return null;if(w===!0)return st.value.map(Sa);if(typeof w=="function")return st.value.map(ee=>{const ne=w(ee);return Ke(ne)===!0?{...ne,value:ee}:{value:ee,label:ne}});const O=({value:ee})=>ee>=t.min&&ee<=t.max;return Array.isArray(w)===!0?w.map(ee=>Ke(ee)===!0?ee:{value:ee}).filter(O):Object.keys(w).map(ee=>{const ne=w[ee],re=Number(ee);return Ke(ne)===!0?{...ne,value:re}:{value:re,label:ne}}).filter(O)}function dt(w){return{[C.value]:`${100*(w-t.min)/F.value}%`}}const Gt=u(()=>{if(t.markerLabels===!1)return null;const w={};return ze.value.forEach(O=>{w[O.value]=O}),w});function Jt(){if(s["marker-label-group"]!==void 0)return s["marker-label-group"](ct.value);const w=s["marker-label"]||Ca;return ze.value.map(O=>w({marker:O,...ct.value}))}const en=u(()=>[[wa,tn,void 0,{[h.value]:!0,prevent:!0,stop:!0,mouse:!0,mouseAllDir:!0}]]);function tn(w){w.isFinal===!0?(b.value!==void 0&&(n(w.evt),w.touch===!0&&e(!0),b.value=void 0,a("pan","end")),c.value=!1,m.value=!1):w.isFirst===!0?(b.value=i(w.evt),n(w.evt),e(),c.value=!0,a("pan","start")):(n(w.evt),e())}function vt(){m.value=!1}function nn(w){n(w,i(w)),e(),d.value=!0,c.value=!0,document.addEventListener("mouseup",Oe,!0)}function Oe(){d.value=!1,c.value=!1,e(!0),vt(),document.removeEventListener("mouseup",Oe,!0)}function an(w){n(w,i(w)),e(!0)}function on(w){Wt.includes(w.keyCode)&&e(!0)}function ln(w){if(t.vertical===!0)return null;const O=l.lang.rtl!==t.reverse?1-w:w;return{transform:`translateX(calc(${2*O-1} * ${t.thumbSize} / 2 + ${50-100*O}%))`}}function rn(w){const O=u(()=>d.value===!1&&(m.value===w.focusValue||m.value==="both")?" q-slider--focus":""),ee=u(()=>`q-slider__thumb q-slider__thumb${p.value} q-slider__thumb${p.value}-${N.value===!0?"rtl":"ltr"} absolute non-selectable`+O.value+(w.thumbColor.value!==void 0?` text-${w.thumbColor.value}`:"")),ne=u(()=>({width:t.thumbSize,height:t.thumbSize,[C.value]:`${100*w.ratio.value}%`,zIndex:m.value===w.focusValue?2:void 0})),re=u(()=>w.labelColor.value!==void 0?` text-${w.labelColor.value}`:""),we=u(()=>ln(w.ratio.value)),je=u(()=>"q-slider__text"+(w.labelTextColor.value!==void 0?` text-${w.labelTextColor.value}`:""));return()=>{const He=[q("svg",{class:"q-slider__thumb-shape absolute-full",viewBox:"0 0 20 20","aria-hidden":"true"},[q("path",{d:t.thumbPath})]),q("div",{class:"q-slider__focus-ring fit"})];return(t.label===!0||t.labelAlways===!0)&&(He.push(q("div",{class:y.value+" absolute fit no-pointer-events"+re.value},[q("div",{class:j.value,style:{minWidth:t.thumbSize}},[q("div",{class:I.value,style:we.value},[q("span",{class:je.value},w.label.value)])])])),t.name!==void 0&&t.disable!==!0&&r(He,"push")),q("div",{class:ee.value,style:ne.value,...w.getNodeData()},He)}}function sn(w,O,ee,ne){const re=[];t.innerTrackColor!=="transparent"&&re.push(q("div",{key:"inner",class:ke.value,style:ce.value})),t.selectionColor!=="transparent"&&re.push(q("div",{key:"selection",class:te.value,style:w.value})),t.markers!==!1&&re.push(q("div",{key:"marker",class:H.value,style:Yt.value})),ne(re);const we=[Ot("div",{key:"trackC",class:Y.value,tabindex:O.value,...ee.value},[q("div",{class:Q.value,style:ie.value},re)],"slide",B.value,()=>en.value)];if(t.markerLabels!==!1){const je=t.switchMarkerLabelsSide===!0?"unshift":"push";we[je](q("div",{key:"markerL",class:G.value},Jt()))}return we}return et(()=>{document.removeEventListener("mouseup",Oe,!0)}),{state:{active:c,focus:m,preventFocus:d,dragging:b,editable:B,classes:M,tabindex:D,attributes:$,roundValueFn:S,keyStep:U,trackLen:F,innerMin:L,innerMinRatio:k,innerMax:V,innerMaxRatio:f,positionProp:C,sizeProp:g,isReversed:N},methods:{onActivate:nn,onMobileClick:an,onBlur:vt,onKeyup:on,getContent:sn,getThumbRenderFn:rn,convertRatioToModel:z,convertModelToRatio:Ie,getDraggingRatio:ve}}}const Ua=()=>({}),Ma=de({name:"QSlider",props:{...xa,modelValue:{required:!0,default:null,validator:e=>typeof e=="number"||e===null},labelValue:[String,Number]},emits:qa,setup(e,{emit:n}){const{proxy:{$q:i}}=pe(),{state:o,methods:t}=$a({updateValue:p,updatePosition:N,getDragging:x,formAttrs:Mn(e)}),a=X(null),s=X(0),l=X(0);function v(){l.value=e.modelValue===null?o.innerMin.value:qe(e.modelValue,o.innerMin.value,o.innerMax.value)}oe(()=>`${e.modelValue}|${o.innerMin.value}|${o.innerMax.value}`,v),v();const r=u(()=>t.convertModelToRatio(l.value)),c=u(()=>o.active.value===!0?s.value:r.value),d=u(()=>{const B={[o.positionProp.value]:`${100*o.innerMinRatio.value}%`,[o.sizeProp.value]:`${100*(c.value-o.innerMinRatio.value)}%`};return e.selectionImg!==void 0&&(B.backgroundImage=`url(${e.selectionImg}) !important`),B}),m=t.getThumbRenderFn({focusValue:!0,getNodeData:Ua,ratio:c,label:u(()=>e.labelValue!==void 0?e.labelValue:l.value),thumbColor:u(()=>e.thumbColor||e.color),labelColor:u(()=>e.labelColor),labelTextColor:u(()=>e.labelTextColor)}),b=u(()=>o.editable.value!==!0?{}:i.platform.is.mobile===!0?{onClick:t.onMobileClick}:{onMousedown:t.onActivate,onFocus:L,onBlur:t.onBlur,onKeydown:V,onKeyup:t.onKeyup});function p(B){l.value!==e.modelValue&&n("update:modelValue",l.value),B===!0&&n("change",l.value)}function x(){return a.value.getBoundingClientRect()}function N(B,S=o.dragging.value){const U=t.getDraggingRatio(B,S);l.value=t.convertRatioToModel(U),s.value=e.snap!==!0||e.step===0?U:t.convertModelToRatio(l.value)}function L(){o.focus.value=!0}function V(B){if(Wt.includes(B.keyCode)===!1)return;Ae(B);const S=([34,33].includes(B.keyCode)?10:1)*o.keyStep.value,U=([34,37,40].includes(B.keyCode)?-1:1)*(o.isReversed.value===!0?-1:1)*(e.vertical===!0?-1:1)*S;l.value=qe(o.roundValueFn.value(l.value+U),o.innerMin.value,o.innerMax.value),p()}return()=>{const B=t.getContent(d,o.tabindex,b,S=>{S.push(m())});return q("div",{ref:a,class:o.classes.value+(e.modelValue===null?" q-slider--no-value":""),...o.attributes.value,"aria-valuenow":e.modelValue},B)}}});function Ba(e,n){function i(){const o=e.modelValue;try{const t="DataTransfer"in window?new DataTransfer:"ClipboardEvent"in window?new ClipboardEvent("").clipboardData:void 0;return Object(o)===o&&("length"in o?Array.from(o):[o]).forEach(a=>{t.items.add(a)}),{files:t.files}}catch{return{files:void 0}}}return u(()=>{if(e.type==="file")return i()})}const Na={ratio:[String,Number]};function Va(e,n){return u(()=>{const i=Number(e.ratio||(n!==void 0?n.value:void 0));return isNaN(i)!==!0&&i>0?{paddingBottom:`${100/i}%`}:null})}const Ra=1.7778,Pa=de({name:"QImg",props:{...Na,src:String,srcset:String,sizes:String,alt:String,crossorigin:String,decoding:String,referrerpolicy:String,draggable:Boolean,loading:{type:String,default:"lazy"},loadingShowDelay:{type:[Number,String],default:0},fetchpriority:{type:String,default:"auto"},width:String,height:String,initialRatio:{type:[Number,String],default:Ra},placeholderSrc:String,errorSrc:String,fit:{type:String,default:"cover"},position:{type:String,default:"50% 50%"},imgClass:String,imgStyle:Object,noSpinner:Boolean,noNativeMenu:Boolean,noTransition:Boolean,spinnerColor:String,spinnerSize:String},emits:["load","error"],setup(e,{slots:n,emit:i}){const o=X(e.initialRatio),t=Va(e,o),a=pe(),{registerTimeout:s,removeTimeout:l}=Xe(),{registerTimeout:v,removeTimeout:r}=Xe(),c=u(()=>e.placeholderSrc!==void 0?{src:e.placeholderSrc}:null),d=u(()=>e.errorSrc!==void 0?{src:e.errorSrc,__qerror:!0}:null),m=[X(null),X(c.value)],b=X(0),p=X(!1),x=X(!1),N=u(()=>`q-img q-img--${e.noNativeMenu===!0?"no-":""}menu`),L=u(()=>({width:e.width,height:e.height})),V=u(()=>`q-img__image ${e.imgClass!==void 0?e.imgClass+" ":""}q-img__image--with${e.noTransition===!0?"out":""}-transition q-img__image--`),B=u(()=>({...e.imgStyle,objectFit:e.fit,objectPosition:e.position}));function S(){if(r(),e.loadingShowDelay===0){p.value=!0;return}v(()=>{p.value=!0},e.loadingShowDelay)}function U(){r(),p.value=!1}function D({target:g}){Qe(a)===!1&&(l(),o.value=g.naturalHeight===0?.5:g.naturalWidth/g.naturalHeight,F(g,1))}function F(g,_){_===1e3||Qe(a)===!0||(g.complete===!0?Z(g):s(()=>{F(g,_+1)},50))}function Z(g){Qe(a)!==!0&&(b.value=b.value^1,m[b.value].value=null,U(),g.getAttribute("__qerror")!=="true"&&(x.value=!1),i("load",g.currentSrc||g.src))}function k(g){l(),U(),x.value=!0,m[b.value].value=d.value,m[b.value^1].value=c.value,i("error",g)}function f(g){const _=m[g].value,h={key:"img_"+g,class:V.value,style:B.value,alt:e.alt,crossorigin:e.crossorigin,decoding:e.decoding,referrerpolicy:e.referrerpolicy,height:e.height,width:e.width,loading:e.loading,fetchpriority:e.fetchpriority,"aria-hidden":"true",draggable:e.draggable,..._};return b.value===g?Object.assign(h,{class:h.class+"current",onLoad:D,onError:k}):h.class+="loaded",q("div",{class:"q-img__container absolute-full",key:"img"+g},q("img",h))}function C(){return p.value===!1?q("div",{key:"content",class:"q-img__content absolute-full q-anchor--skip"},ye(n[x.value===!0?"error":"default"])):q("div",{key:"loading",class:"q-img__loading absolute-full flex flex-center"},n.loading!==void 0?n.loading():e.noSpinner===!0?void 0:[q(Ht,{color:e.spinnerColor,size:e.spinnerSize})])}{let g=function(){oe(()=>e.src||e.srcset||e.sizes?{src:e.src,srcset:e.srcset,sizes:e.sizes}:null,_=>{l(),x.value=!1,_===null?(U(),m[b.value^1].value=c.value):S(),m[b.value].value=_},{immediate:!0})};cn.value===!0?De(g):g()}return()=>{const g=[];return t.value!==null&&g.push(q("div",{key:"filler",style:t.value})),m[0].value!==null&&g.push(f(0)),m[1].value!==null&&g.push(f(1)),g.push(q(Rt,{name:"q-transition--fade"},C)),q("div",{key:"main",class:N.value,style:L.value,role:"img","aria-label":e.alt},g)}}}),ht={date:"####/##/##",datetime:"####/##/## ##:##",time:"##:##",fulltime:"##:##:##",phone:"(###) ### - ####",card:"#### #### #### ####"},Fe={"#":{pattern:"[\\d]",negate:"[^\\d]"},S:{pattern:"[a-zA-Z]",negate:"[^a-zA-Z]"},N:{pattern:"[0-9a-zA-Z]",negate:"[^0-9a-zA-Z]"},A:{pattern:"[a-zA-Z]",negate:"[^a-zA-Z]",transform:e=>e.toLocaleUpperCase()},a:{pattern:"[a-zA-Z]",negate:"[^a-zA-Z]",transform:e=>e.toLocaleLowerCase()},X:{pattern:"[0-9a-zA-Z]",negate:"[^0-9a-zA-Z]",transform:e=>e.toLocaleUpperCase()},x:{pattern:"[0-9a-zA-Z]",negate:"[^0-9a-zA-Z]",transform:e=>e.toLocaleLowerCase()}},Xt=Object.keys(Fe);Xt.forEach(e=>{Fe[e].regex=new RegExp(Fe[e].pattern)});const Aa=new RegExp("\\\\([^.*+?^${}()|([\\]])|([.*+?^${}()|[\\]])|(["+Xt.join("")+"])|(.)","g"),bt=/[.*+?^${}()|[\]\\]/g,ae="",Ia={mask:String,reverseFillMask:Boolean,fillMask:[Boolean,String],unmaskedValue:Boolean};function Ea(e,n,i,o){let t,a,s,l,v,r;const c=X(null),d=X(b());function m(){return e.autogrow===!0||["textarea","text","search","url","tel","password"].includes(e.type)}oe(()=>e.type+e.autogrow,x),oe(()=>e.mask,k=>{if(k!==void 0)N(d.value,!0);else{const f=F(d.value);x(),e.modelValue!==f&&n("update:modelValue",f)}}),oe(()=>e.fillMask+e.reverseFillMask,()=>{c.value===!0&&N(d.value,!0)}),oe(()=>e.unmaskedValue,()=>{c.value===!0&&N(d.value)});function b(){if(x(),c.value===!0){const k=U(F(e.modelValue));return e.fillMask!==!1?Z(k):k}return e.modelValue}function p(k){if(k<t.length)return t.slice(-k);let f="",C=t;const g=C.indexOf(ae);if(g!==-1){for(let _=k-C.length;_>0;_--)f+=ae;C=C.slice(0,g)+f+C.slice(g)}return C}function x(){if(c.value=e.mask!==void 0&&e.mask.length!==0&&m(),c.value===!1){l=void 0,t="",a="";return}const k=ht[e.mask]===void 0?e.mask:ht[e.mask],f=typeof e.fillMask=="string"&&e.fillMask.length!==0?e.fillMask.slice(0,1):"_",C=f.replace(bt,"\\$&"),g=[],_=[],h=[];let $=e.reverseFillMask===!0,M="",E="";k.replace(Aa,(Y,y,j,I,G)=>{if(I!==void 0){const Q=Fe[I];h.push(Q),E=Q.negate,$===!0&&(_.push("(?:"+E+"+)?("+Q.pattern+"+)?(?:"+E+"+)?("+Q.pattern+"+)?"),$=!1),_.push("(?:"+E+"+)?("+Q.pattern+")?")}else if(j!==void 0)M="\\"+(j==="\\"?"":j),h.push(j),g.push("([^"+M+"]+)?"+M+"?");else{const Q=y!==void 0?y:G;M=Q==="\\"?"\\\\\\\\":Q.replace(bt,"\\\\$&"),h.push(Q),g.push("([^"+M+"]+)?"+M+"?")}});const J=new RegExp("^"+g.join("")+"("+(M===""?".":"[^"+M+"]")+"+)?"+(M===""?"":"["+M+"]*")+"$"),te=_.length-1,H=_.map((Y,y)=>y===0&&e.reverseFillMask===!0?new RegExp("^"+C+"*"+Y):y===te?new RegExp("^"+Y+"("+(E===""?".":E)+"+)?"+(e.reverseFillMask===!0?"$":C+"*")):new RegExp("^"+Y));s=h,l=Y=>{const y=J.exec(e.reverseFillMask===!0?Y:Y.slice(0,h.length+1));y!==null&&(Y=y.slice(1).join(""));const j=[],I=H.length;for(let G=0,Q=Y;G<I;G++){const ie=H[G].exec(Q);if(ie===null)break;Q=Q.slice(ie.shift().length),j.push(...ie)}return j.length!==0?j.join(""):Y},t=h.map(Y=>typeof Y=="string"?Y:ae).join(""),a=t.split(ae).join(f)}function N(k,f,C){const g=o.value,_=g.selectionEnd,h=g.value.length-_,$=F(k);f===!0&&x();const M=U($),E=e.fillMask!==!1?Z(M):M,J=d.value!==E;g.value!==E&&(g.value=E),J===!0&&(d.value=E),document.activeElement===g&&Be(()=>{if(E===a){const H=e.reverseFillMask===!0?a.length:0;g.setSelectionRange(H,H,"forward");return}if(C==="insertFromPaste"&&e.reverseFillMask!==!0){const H=g.selectionEnd;let Y=_-1;for(let y=v;y<=Y&&y<H;y++)t[y]!==ae&&Y++;V.right(g,Y);return}if(["deleteContentBackward","deleteContentForward"].indexOf(C)!==-1){const H=e.reverseFillMask===!0?_===0?E.length>M.length?1:0:Math.max(0,E.length-(E===a?0:Math.min(M.length,h)+1))+1:_;g.setSelectionRange(H,H,"forward");return}if(e.reverseFillMask===!0)if(J===!0){const H=Math.max(0,E.length-(E===a?0:Math.min(M.length,h+1)));H===1&&_===1?g.setSelectionRange(H,H,"forward"):V.rightReverse(g,H)}else{const H=E.length-h;g.setSelectionRange(H,H,"backward")}else if(J===!0){const H=Math.max(0,t.indexOf(ae),Math.min(M.length,_)-1);V.right(g,H)}else{const H=_-1;V.right(g,H)}});const te=e.unmaskedValue===!0?F(E):E;String(e.modelValue)!==te&&(e.modelValue!==null||te!=="")&&i(te,!0)}function L(k,f,C){const g=U(F(k.value));f=Math.max(0,t.indexOf(ae),Math.min(g.length,f)),v=f,k.setSelectionRange(f,C,"forward")}const V={left(k,f){const C=t.slice(f-1).indexOf(ae)===-1;let g=Math.max(0,f-1);for(;g>=0;g--)if(t[g]===ae){f=g,C===!0&&f++;break}if(g<0&&t[f]!==void 0&&t[f]!==ae)return V.right(k,0);f>=0&&k.setSelectionRange(f,f,"backward")},right(k,f){const C=k.value.length;let g=Math.min(C,f+1);for(;g<=C;g++)if(t[g]===ae){f=g;break}else t[g-1]===ae&&(f=g);if(g>C&&t[f-1]!==void 0&&t[f-1]!==ae)return V.left(k,C);k.setSelectionRange(f,f,"forward")},leftReverse(k,f){const C=p(k.value.length);let g=Math.max(0,f-1);for(;g>=0;g--)if(C[g-1]===ae){f=g;break}else if(C[g]===ae&&(f=g,g===0))break;if(g<0&&C[f]!==void 0&&C[f]!==ae)return V.rightReverse(k,0);f>=0&&k.setSelectionRange(f,f,"backward")},rightReverse(k,f){const C=k.value.length,g=p(C),_=g.slice(0,f+1).indexOf(ae)===-1;let h=Math.min(C,f+1);for(;h<=C;h++)if(g[h-1]===ae){f=h,f>0&&_===!0&&f--;break}if(h>C&&g[f-1]!==void 0&&g[f-1]!==ae)return V.leftReverse(k,C);k.setSelectionRange(f,f,"forward")}};function B(k){n("click",k),r=void 0}function S(k){if(n("keydown",k),dn(k)===!0||k.altKey===!0)return;const f=o.value,C=f.selectionStart,g=f.selectionEnd;if(k.shiftKey||(r=void 0),k.keyCode===37||k.keyCode===39){k.shiftKey&&r===void 0&&(r=f.selectionDirection==="forward"?C:g);const _=V[(k.keyCode===39?"right":"left")+(e.reverseFillMask===!0?"Reverse":"")];if(k.preventDefault(),_(f,r===C?g:C),k.shiftKey){const h=f.selectionStart;f.setSelectionRange(Math.min(r,h),Math.max(r,h),"forward")}}else k.keyCode===8&&e.reverseFillMask!==!0&&C===g?(V.left(f,C),f.setSelectionRange(f.selectionStart,g,"backward")):k.keyCode===46&&e.reverseFillMask===!0&&C===g&&(V.rightReverse(f,g),f.setSelectionRange(C,f.selectionEnd,"forward"))}function U(k){if(k==null||k==="")return"";if(e.reverseFillMask===!0)return D(k);const f=s;let C=0,g="";for(let _=0;_<f.length;_++){const h=k[C],$=f[_];if(typeof $=="string")g+=$;else if(h!==void 0&&$.regex.test(h))g+=$.transform!==void 0?$.transform(h):h,C++;else return g}return g}function D(k){const f=s,C=t.indexOf(ae);let g=k.length-1,_="";for(let h=f.length-1;h>=0&&g!==-1;h--){const $=f[h];let M=k[g];if(typeof $=="string")_=$+_;else if(M!==void 0&&$.regex.test(M))do _=($.transform!==void 0?$.transform(M):M)+_,g--,M=k[g];while(C===h&&M!==void 0&&$.regex.test(M));else return _}return _}function F(k){return typeof k!="string"||l===void 0?typeof k=="number"?l(""+k):k:l(k)}function Z(k){return a.length-k.length<=0?k:e.reverseFillMask===!0&&k.length!==0?a.slice(0,-k.length)+k:k+a.slice(k.length)}return{innerValue:d,hasMask:c,moveCursorForPaste:L,updateMaskValue:N,onMaskedKeydown:S,onMaskedClick:B}}const Ta=de({name:"QInput",inheritAttrs:!1,props:{...Nn,...Ia,...jt,modelValue:[String,Number,FileList],shadowText:String,type:{type:String,default:"text"},debounce:[String,Number],autogrow:Boolean,inputClass:[Array,String,Object],inputStyle:[Array,String,Object]},emits:[...Bn,"paste","change","keydown","click","animationend"],setup(e,{emit:n,attrs:i}){const{proxy:o}=pe(),{$q:t}=o,a={};let s=NaN,l,v,r=null,c;const d=X(null),m=Vn(e),{innerValue:b,hasMask:p,moveCursorForPaste:x,updateMaskValue:N,onMaskedKeydown:L,onMaskedClick:V}=Ea(e,n,M,d),B=Ba(e),S=u(()=>ft(b.value)),U=Pn(h),D=Rn({changeEvent:!0}),F=u(()=>e.type==="textarea"||e.autogrow===!0),Z=u(()=>F.value===!0||["text","search","url","tel","password"].includes(e.type)),k=u(()=>{const y={...D.splitAttrs.listeners.value,onInput:h,onPaste:_,onChange:J,onBlur:te,onFocus:Ne};return y.onCompositionstart=y.onCompositionupdate=y.onCompositionend=U,p.value===!0&&(y.onKeydown=L,y.onClick=V),e.autogrow===!0&&(y.onAnimationend=$),y}),f=u(()=>{const y={tabindex:0,"data-autofocus":e.autofocus===!0||void 0,rows:e.type==="textarea"?6:void 0,"aria-label":e.label,name:m.value,...D.splitAttrs.attributes.value,id:D.targetUid.value,maxlength:e.maxlength,disabled:e.disable===!0,readonly:e.readonly===!0};return F.value===!1&&(y.type=e.type),e.autogrow===!0&&(y.rows=1),y});oe(()=>e.type,()=>{d.value&&(d.value.value=e.modelValue)}),oe(()=>e.modelValue,y=>{if(p.value===!0){if(v===!0&&(v=!1,String(y)===s))return;N(y)}else b.value!==y&&(b.value=y,e.type==="number"&&a.hasOwnProperty("value")===!0&&(l===!0?l=!1:delete a.value));e.autogrow===!0&&Be(E)}),oe(()=>e.autogrow,y=>{y===!0?Be(E):d.value!==null&&i.rows>0&&(d.value.style.height="auto")}),oe(()=>e.dense,()=>{e.autogrow===!0&&Be(E)});function C(){In(()=>{const y=document.activeElement;d.value!==null&&d.value!==y&&(y===null||y.id!==D.targetUid.value)&&d.value.focus({preventScroll:!0})})}function g(){var y;(y=d.value)==null||y.select()}function _(y){if(p.value===!0&&e.reverseFillMask!==!0){const j=y.target;x(j,j.selectionStart,j.selectionEnd)}n("paste",y)}function h(y){if(!y||!y.target)return;if(e.type==="file"){n("update:modelValue",y.target.files);return}const j=y.target.value;if(y.target.qComposing===!0){a.value=j;return}if(p.value===!0)N(j,!1,y.inputType);else if(M(j),Z.value===!0&&y.target===document.activeElement){const{selectionStart:I,selectionEnd:G}=y.target;I!==void 0&&G!==void 0&&Be(()=>{y.target===document.activeElement&&j.indexOf(y.target.value)===0&&y.target.setSelectionRange(I,G)})}e.autogrow===!0&&E()}function $(y){n("animationend",y),E()}function M(y,j){c=()=>{r=null,e.type!=="number"&&a.hasOwnProperty("value")===!0&&delete a.value,e.modelValue!==y&&s!==y&&(s=y,j===!0&&(v=!0),n("update:modelValue",y),Be(()=>{s===y&&(s=NaN)})),c=void 0},e.type==="number"&&(l=!0,a.value=y),e.debounce!==void 0?(r!==null&&clearTimeout(r),a.value=y,r=setTimeout(c,e.debounce)):c()}function E(){requestAnimationFrame(()=>{const y=d.value;if(y!==null){const j=y.parentNode.style,{scrollTop:I}=y,{overflowY:G,maxHeight:Q}=t.platform.is.firefox===!0?{}:window.getComputedStyle(y),ie=G!==void 0&&G!=="scroll";ie===!0&&(y.style.overflowY="hidden"),j.marginBottom=y.scrollHeight-1+"px",y.style.height="1px",y.style.height=y.scrollHeight+"px",ie===!0&&(y.style.overflowY=parseInt(Q,10)<y.scrollHeight?"auto":"hidden"),j.marginBottom="",y.scrollTop=I}})}function J(y){U(y),r!==null&&(clearTimeout(r),r=null),c==null||c(),n("change",y.target.value)}function te(y){y!==void 0&&Ne(y),r!==null&&(clearTimeout(r),r=null),c==null||c(),l=!1,v=!1,delete a.value,e.type!=="file"&&setTimeout(()=>{d.value!==null&&(d.value.value=b.value!==void 0?b.value:"")})}function H(){return a.hasOwnProperty("value")===!0?a.value:b.value!==void 0?b.value:""}et(()=>{te()}),De(()=>{e.autogrow===!0&&E()}),Object.assign(D,{innerValue:b,fieldClass:u(()=>`q-${F.value===!0?"textarea":"input"}`+(e.autogrow===!0?" q-textarea--autogrow":"")),hasShadow:u(()=>e.type!=="file"&&typeof e.shadowText=="string"&&e.shadowText.length!==0),inputRef:d,emitValue:M,hasValue:S,floatingLabel:u(()=>S.value===!0&&(e.type!=="number"||isNaN(b.value)===!1)||ft(e.displayValue)),getControl:()=>q(F.value===!0?"textarea":"input",{ref:d,class:["q-field__native q-placeholder",e.inputClass],style:e.inputStyle,...f.value,...k.value,...e.type!=="file"?{value:H()}:B.value}),getShadowControl:()=>q("div",{class:"q-field__native q-field__shadow absolute-bottom no-pointer-events"+(F.value===!0?"":" text-no-wrap")},[q("span",{class:"invisible"},H()),q("span",e.shadowText)])});const Y=An(D);return Object.assign(o,{focus:C,select:g,getNativeElement:()=>d.value}),vn(o,"nativeEl",()=>d.value),Y}});function pt(e){if(e===!1)return 0;if(e===!0||e===void 0)return 1;const n=parseInt(e,10);return isNaN(n)?0:n}const La=Je({name:"close-popup",beforeMount(e,{value:n}){const i={depth:pt(n),handler(o){i.depth!==0&&setTimeout(()=>{const t=En(e);t!==void 0&&Tn(t,o,i.depth)})},handlerKey(o){mn(o,13)===!0&&i.handler(o)}};e.__qclosepopup=i,e.addEventListener("click",i.handler),e.addEventListener("keyup",i.handlerKey)},updated(e,{value:n,oldValue:i}){n!==i&&(e.__qclosepopup.depth=pt(n))},beforeUnmount(e){const n=e.__qclosepopup;e.removeEventListener("click",n.handler),e.removeEventListener("keyup",n.handlerKey),delete e.__qclosepopup}}),Fa=me({__name:"ModifierDisplay",emits:["modify","reset"],setup(e,{emit:n}){const i=n;return(o,t)=>{const a=Yn,s=fe;return P(),K("div",null,[T(s,{round:"",flat:"",dense:"",color:"red","aria-label":"Decrease value",title:"Decrease value",onClick:t[0]||(t[0]=l=>i("modify",-5))},{default:W(()=>[T(a,{name:"line-md:chevron-small-double-left"})]),_:1}),T(s,{round:"",flat:"",dense:"",color:"red","aria-label":"Decrease value",title:"Decrease value",onClick:t[1]||(t[1]=l=>i("modify",-1))},{default:W(()=>[T(a,{name:"line-md:chevron-small-left"})]),_:1}),T(s,{round:"",flat:"",dense:"","aria-label":"Reset value",title:"Reset value",onClick:t[2]||(t[2]=l=>i("reset"))},{default:W(()=>[T(a,{name:"ion:ios-minus-empty"})]),_:1}),T(s,{round:"",flat:"",dense:"",color:"green","aria-label":"Increase value",title:"Increase value",onClick:t[3]||(t[3]=l=>i("modify",1))},{default:W(()=>[T(a,{name:"line-md:chevron-small-right"})]),_:1}),T(s,{round:"",flat:"",dense:"",color:"green","aria-label":"Increase value",title:"Increase value",onClick:t[4]||(t[4]=l=>i("modify",5))},{default:W(()=>[T(a,{name:"line-md:chevron-small-double-right"})]),_:1})])}}}),yt=ge(Fa,[["__scopeId","data-v-75fd0cf9"]]),Da=me({__name:"NumericInput",props:{baseValue:{default:0},modifier:{default:0},direction:{default:"left"}},emits:["update:modelValue"],setup(e,{expose:n,emit:i}){const o=e,t=u(()=>o.baseValue+o.modifier),a=X(o.modifier),s=i;function l(m){const b=typeof m=="string"?Number(m):m??0;a.value=b-o.baseValue,s("update:modelValue",a.value),requestAnimationFrame(()=>{var p;return(p=document.activeElement)==null?void 0:p.blur()})}function v(m){m>0?a.value+=Math.round(Math.max(m,m*o.baseValue/100)):a.value+=Math.round(Math.min(m,m*o.baseValue/100)),s("update:modelValue",a.value)}function r(){d(),s("update:modelValue",a.value)}function c(m){const b=m.target;requestAnimationFrame(()=>b==null?void 0:b.select())}function d(){a.value=0}return n({reset:d}),(m,b)=>{const p=Jn,x=Ta;return P(),se(x,{"model-value":R(t),dense:"",standout:"custom-behavior",placeholder:m.baseValue,type:"number",debounce:"500","onUpdate:modelValue":l,onFocus:c},fn({append:W(()=>[m.modifier!==0?(P(),se(p,{key:0,floating:"",color:m.modifier>0?"green":"red"},{default:W(()=>[Ce(ue(m.modifier),1)]),_:1},8,["color"])):le("",!0)]),_:2},[m.direction==="right"?{name:"after",fn:W(()=>[T(yt,{onModify:v,onReset:r})]),key:"0"}:void 0,m.direction==="left"?{name:"before",fn:W(()=>[T(yt,{onModify:v,onReset:r})]),key:"1"}:void 0]),1032,["model-value","placeholder"])}}}),za=ge(Da,[["__scopeId","data-v-d1dd2184"]]);function Ze(e,n){return n.split(".").reduce((i,o)=>i==null?void 0:i[o],e)}function Oa(e,n,i){const o=n.split(".");let t=e;for(let a=0;a<o.length-1;a++){const s=o[a];t[s]??(t[s]={}),t=t[s]}t[o[o.length-1]]=i}function $e(){return Ee.reduce((e,n)=>(e[n]=0,e),{})}const Ee=["health.unit","armor","attack","defense","damage.normal","damage.piercing","damage.bonus_v_large","damage.bonus_v_infantry","resistance.physical","resistance.fire","resistance.ward_save"],ja=[{path:"health.unit",color:"green",label:"Health"},{path:"attack",color:"blue",label:"Attack"},{path:"damage.normal",color:"green",label:"Damage Normal"},{path:"damage.piercing",color:"green",label:"Damage Piercing"},{path:"damage.bonus_v_large",color:"green",label:"Bonus V Large"},{path:"damage.bonus_v_infantry",color:"green",label:"Bonus V Infantry"},{path:"defense",color:"red",label:"Defense"},{path:"armor",color:"orange",label:"Armor"},{path:"resistance.physical",color:"pink",label:"Resistance Physical"},{path:"resistance.fire",color:"pink",label:"Resistance Fire"},{path:"resistance.ward_save",color:"pink",label:"Resistance Ward Save"}];function kt(e){if(!e.selection.unit)return e;const n=JSON.parse(JSON.stringify(e.selection.unit));for(const i of Object.keys(e.bonus))if(typeof e.bonus[i]=="number"){const o=Ze(n,i);Oa(n,i,o+e.bonus[i])}return{selection:{unit:n,version:e.selection.version,faction:e.selection.faction},entityNumber:e.entityNumber}}const Ha=40,Ka=8,Qa=90,Wa=95,Xa=-100,Ya=100;function Za(e,n){var s,l,v,r;const i=e.attack||0,o=n.defense||0,a=((l=(s=n.land_unit)==null?void 0:s.battle_entity)==null?void 0:l.size)!=="small"?((v=e.damage)==null?void 0:v.bonus_v_large)||0:((r=e.damage)==null?void 0:r.bonus_v_infantry)||0;return Math.max(Ka,Math.min(i-o+Ha+a,Qa))/100}function Ga(e,n){var v,r,c,d,m,b;const o=((r=(v=n.land_unit)==null?void 0:v.battle_entity)==null?void 0:r.size)!=="small"?((c=e.damage)==null?void 0:c.bonus_v_large)||0:((d=e.damage)==null?void 0:d.bonus_v_infantry)||0,t=((m=e.damage)==null?void 0:m.normal)||0,a=((b=e.damage)==null?void 0:b.piercing)||0,s=t/(t+a),l=n.armor||0;return(t+o*s)*(1-Math.min(l*.75*.01,1))+a+o*(1-s)}function Ja(e,n){var l,v,r,c,d;const i=((l=n.resistance)==null?void 0:l.ward_save)||0,o=((v=n.resistance)==null?void 0:v.physical)||0,t=((r=n.resistance)==null?void 0:r.fire)||0,a=((c=e.damage)==null?void 0:c.is_magical)||!1,s=((d=e.damage)==null?void 0:d.is_fire)||!1;return Math.min(Wa,i+(a?0:Math.max(o,0))+(s?Math.min(Math.max(t,Xa),Ya):0))/100}function wt(e,n){var a;const i=Za(e,n),o=Ja(e,n);return i*(1-o)*Ga(e,n)/(((a=n.health)==null?void 0:a.unit)||0)}function Ue(e){return["Hero","Lord"].includes(e.caste)?1:e.land_unit.num_engines>0?e.land_unit.num_engines:e.num_men}function ei(e,n){const i=wt(e.selection.unit,n.selection.unit)*Math.min(Ue(e.selection.unit),e.entityNumber),o=wt(n.selection.unit,e.selection.unit)*Math.min(Ue(n.selection.unit),n.entityNumber);function t(a,s,l){const v=1/s,c=1-v*l;return{winner:a,hitsNeeded:v,remainingHealth:c}}return i>o?t("left",i,o):o>i?t("right",o,i):t("left",i,o)}const lt=At("unit",{state:()=>({leftUnit:null,rightUnit:null}),actions:{setLeftUnit(e){e?(this.leftUnit=e,this.leftUnit.bonus=$e()):this.leftUnit=null},setRightUnit(e){e?(this.rightUnit=e,this.rightUnit.bonus=$e()):this.rightUnit=null},setLeftUnitBonus(e){this.leftUnit&&(e?this.leftUnit.bonus=e:this.leftUnit.bonus=$e())},setRightUnitBonus(e){this.rightUnit&&(e?this.rightUnit.bonus=e:this.rightUnit.bonus=$e())},setLeftUnitEntityCount(e){this.leftUnit&&(this.leftUnit.entityNumber=e)},setRightUnitEntityCount(e){this.rightUnit&&(this.rightUnit.entityNumber=e)},clearUnits(){this.leftUnit=null,this.rightUnit=null}},getters:{combatResult(){var e,n;return!((e=this.leftUnit)!=null&&e.selection.unit)||!((n=this.rightUnit)!=null&&n.selection.unit)?null:ei(kt(this.leftUnit),kt(this.rightUnit))}},persist:{storage:gn.localStorage()}}),ti={class:"short-summary"},ni={key:0,class:"combat-result"},ai={class:"winner-section"},ii={class:"hits-info"},oi={class:"health-display"},li={key:1,class:"no-combat"},ri=me({__name:"ShortSummary",setup(e){const n=lt(),i=u(()=>n.combatResult),o=u(()=>{var r,c,d;if(!i.value)return"";const v=i.value.winner==="left"?(r=n.leftUnit)==null?void 0:r.selection.unit:(c=n.rightUnit)==null?void 0:c.selection.unit;return((d=v==null?void 0:v.land_unit)==null?void 0:d.onscreen_name)||"Unknown Unit"}),t=u(()=>{var r,c,d;if(!i.value)return"";const v=i.value.winner==="left"?(r=n.rightUnit)==null?void 0:r.selection.unit:(c=n.leftUnit)==null?void 0:c.selection.unit;return((d=v==null?void 0:v.land_unit)==null?void 0:d.onscreen_name)||"Unknown Unit"}),a=u(()=>{var v;return((v=i.value)==null?void 0:v.winner)==="left"?"text-positive":"text-negative"}),s=u(()=>{var v;return((v=i.value)==null?void 0:v.winner)==="left"?"bg-negative":"bg-positive"}),l=u(()=>{var r;const v=(((r=i.value)==null?void 0:r.remainingHealth)||0)*100;return v>=80?"green":v>=60?"light-green":v>=40?"orange":v>=20?"deep-orange":"red"});return(v,r)=>{const c=ya;return P(),K("div",ti,[i.value?(P(),K("div",ni,[A("div",ai,[A("p",null,[A("span",{class:Me(["winner-title text-emphasized",a.value])},ue(o.value),3),r[0]||(r[0]=Ce(" wins! "))]),A("p",ii,[Ce(" Takes "+ue(i.value.hitsNeeded.toFixed(1))+" hits to defeat ",1),A("span",{class:Me(["loser-name text-emphasized",s.value])},ue(t.value),3),r[1]||(r[1]=Ce(", with "))])]),A("div",oi,[T(c,{"show-value":"",value:i.value.remainingHealth*100,size:"70px",thickness:.22,color:l.value,"track-color":"grey-3",class:"q-ma-md"},{default:W(()=>[Ce(ue((i.value.remainingHealth*100).toFixed(1))+"% ",1)]),_:1},8,["value","color"]),r[2]||(r[2]=A("span",{class:"health-label"},"Remaining Health",-1))])])):(P(),K("div",li,r[3]||(r[3]=[A("p",null,"Select two units to see combat results",-1)])))])}}}),si=ge(ri,[["__scopeId","data-v-1f193f4a"]]),he="https://res.cloudinary.com/fishofstone/image/upload/twwstats/api",ui="ui/skins/default/icon_cross.webp",ci="mon_64.webp";function Ge(e,n){let i=`${he}/${e}`;if(n.general_portrait&&n.general_portrait.length>0){const o=n.general_portrait.replace("portholes","units").replace(".png",".webp");i+=`/${o}`}else n.unit_card_url?i+=`/ui/units/icons/${n.unit_card_url}.webp`:n.unit&&(i+=`/ui/units/icons/${n.unit}.webp`);return i}function St(e,n){let i=`${he}/${e}`;return i+=`/ui/common ui/unit_category_icons/${n.icon}.webp`,i}function Ct(e,n){let i=`${he}/${e}/ui/skins/default/unit_card_semicircle`;return n.special_categories&&(["Lord","Hero"].includes(n.caste)?i+="_hero":n.special_categories.includes("blessed_spawnings")?i+="_spawning":n.special_categories.includes("elector_counts")?i+="_elector":n.special_categories.includes("renown")&&(i+="_renown")),i+=".webp",i}function di(e){return`${he}/${e}/ui/skins/default/unit_card_frame_plain.webp`}function vi(e){return`${he}/${e}/ui/skins/default/unit_card_hover.webp`}const mi=["src","alt"],fi=["src","alt"],gi=["src","alt"],_i=["src"],hi=["src"],bi=me({__name:"UnitPortrait",props:{selected:{type:[Boolean,null],default:!1},versionId:{},unit:{}},setup(e){return(n,i)=>{var o,t,a;return P(),K("div",{class:Me(["unit-portrait",{selected:n.selected}])},[R(Ge)(n.versionId,n.unit)?(P(),K("img",{key:0,src:R(Ge)(n.versionId,n.unit),alt:((o=n.unit.land_unit)==null?void 0:o.onscreen_name)||n.unit.unit},null,8,mi)):le("",!0),R(Ct)(n.versionId,n.unit)?(P(),K("img",{key:1,src:R(Ct)(n.versionId,n.unit),alt:((t=n.unit.land_unit)==null?void 0:t.onscreen_name)||n.unit.unit},null,8,fi)):le("",!0),R(St)(n.versionId,n.unit)?(P(),K("img",{key:2,src:R(St)(n.versionId,n.unit),alt:((a=n.unit.land_unit)==null?void 0:a.onscreen_name)||n.unit.unit},null,8,gi)):le("",!0),A("img",{src:R(di)(n.versionId)},null,8,_i),A("img",{src:R(vi)(n.versionId),class:"unit-hover"},null,8,hi)],2)}}}),pi=ge(bi,[["__scopeId","data-v-c4f09404"]]);async function yi(e,n,i){var o,t,a,s,l,v,r,c,d,m,b,p,x,N,L,V,B,S,U,D,F,Z,k,f,C,g,_,h,$,M,E,J,te,H,Y,y,j,I,G,Q,ie,ke;if(!n||!i)throw new Error("ID de version et clé d'unité requis");try{const ce=await e.query({tww:{__args:{tww_version:n},unit:{__args:{id:i},unit:!0,caste:!0,num_men:!0,recruitment_cost:!0,upkeep_cost:!0,land_unit:{onscreen_name:!0,bonus_hit_points:!0,num_engines:!0,num_mounts:!0,battle_entity:{hit_points:!0,size:!0,type:!0},articulated_vehicle_entity:{hit_points:!0},engine:{battle_entity:{hit_points:!0,type:!0}},mount:{battle_entity:{hit_points:!0}},armour:{armour_value:!0},primary_melee_weapon:{damage:!0,ap_damage:!0,bonus_v_large:!0,bonus_v_infantry:!0,melee_attack_interval:!0,is_magical:!0,ignition_amount:!0},melee_attack:!0,melee_defence:!0,damage_mod_physical:!0,damage_mod_flame:!0,damage_mod_all:!0,variant:{unit_card_url:!0}},battle_mounts:{base_unit:!0,mounted_unit:!0,icon_name:!0,mount_name:!0},custom_battle_permissions:{general_portrait:!0},ui_unit_group:{icon:!0,parent_group:{onscreen_name:!0}},unit_sets:{special_category:!0}}}});if(!((o=ce==null?void 0:ce.tww)!=null&&o.unit))return null;const z=ce.tww.unit;return!z||typeof z.unit!="string"||typeof z.caste!="string"||typeof z.num_men!="number"||!z.land_unit?null:{version:n,unit:z.unit,caste:z.caste,num_men:z.num_men,recruitment_cost:Number(z.recruitment_cost||0),upkeep_cost:Number(z.upkeep_cost||0),land_unit:{num_engines:z.land_unit.num_engines||0,num_mounts:z.land_unit.num_mounts||0,onscreen_name:((t=z.land_unit)==null?void 0:t.onscreen_name)||"",bonus_hit_points:Number(((a=z.land_unit)==null?void 0:a.bonus_hit_points)||0),battle_entity:{hit_points:Number(((l=(s=z.land_unit)==null?void 0:s.battle_entity)==null?void 0:l.hit_points)||0),size:((r=(v=z.land_unit)==null?void 0:v.battle_entity)==null?void 0:r.size)||"small",type:((d=(c=z.land_unit)==null?void 0:c.battle_entity)==null?void 0:d.type)||""}},battle_mounts:(z.battle_mounts||[]).filter(ve=>ve!==null).map(ve=>({base_unit:ve.base_unit||"",mounted_unit:ve.mounted_unit||"",icon_name:ve.icon_name||"",mount_name:ve.mount_name||""})),health:{unit:Ln(z),entity:Math.round(((b=(m=z.land_unit)==null?void 0:m.battle_entity)==null?void 0:b.hit_points)||0)},armor:Number(((x=(p=z.land_unit)==null?void 0:p.armour)==null?void 0:x.armour_value)||0),attack:Number(((N=z.land_unit)==null?void 0:N.melee_attack)||0),defense:Number(((L=z.land_unit)==null?void 0:L.melee_defence)||0),attack_interval:Number(((B=(V=z.land_unit)==null?void 0:V.primary_melee_weapon)==null?void 0:B.melee_attack_interval)||0),damage:{normal:Number(((U=(S=z.land_unit)==null?void 0:S.primary_melee_weapon)==null?void 0:U.damage)||0),piercing:Number(((F=(D=z.land_unit)==null?void 0:D.primary_melee_weapon)==null?void 0:F.ap_damage)||0),is_magical:!!((k=(Z=z.land_unit)==null?void 0:Z.primary_melee_weapon)!=null&&k.is_magical),is_fire:Number(((C=(f=z.land_unit)==null?void 0:f.primary_melee_weapon)==null?void 0:C.ignition_amount)||0)>0,bonus_v_large:Number(((_=(g=z.land_unit)==null?void 0:g.primary_melee_weapon)==null?void 0:_.bonus_v_large)||0),bonus_v_infantry:Number((($=(h=z.land_unit)==null?void 0:h.primary_melee_weapon)==null?void 0:$.bonus_v_infantry)||0)},resistance:{physical:Number(((M=z.land_unit)==null?void 0:M.damage_mod_physical)||0),fire:Number(((E=z.land_unit)==null?void 0:E.damage_mod_flame)||0),ward_save:Number(((J=z.land_unit)==null?void 0:J.damage_mod_all)||0)},is_large:((H=(te=z.land_unit)==null?void 0:te.battle_entity)==null?void 0:H.size)!=="small",icon:((Y=z.ui_unit_group)==null?void 0:Y.icon)||"",general_portrait:((j=(y=z.custom_battle_permissions)==null?void 0:y[0])==null?void 0:j.general_portrait)||"",group:((G=(I=z.ui_unit_group)==null?void 0:I.parent_group)==null?void 0:G.onscreen_name)||"",unit_card_url:((ie=(Q=z.land_unit)==null?void 0:Q.variant)==null?void 0:ie.unit_card_url)||"",special_categories:Array.from(new Set((ke=z.unit_sets)==null?void 0:ke.map(ve=>ve==null?void 0:ve.special_category)))||[]}}catch(ce){throw console.error("Erreur lors de la récupération de l'unité:",ce),ce}}function xt(e,n){if(!(!e||!(n!=null&&n.flags_url)))return`${he}/${e}/${n.flags_url}/${ci}`}function qt(e,n){return`${he}/${e}/${n.replace(/\.png/,".webp")}`}function ki(e){return`${he}/${e}/ui/skins/default/fe_frame_glow.webp`}function wi(e){return`${he}/${e}/ui/skins/default/build_city_chain_frame.webp`}const Si=["src"],Ci=["src"],xi=["src","alt"],qi={class:"label"},$i=me({__name:"SquarePortrait",props:{versionId:{default:"7020588859072995689"},imageUrl:{default:""},label:{},selected:{type:Boolean,default:!1}},setup(e){return(n,i)=>(P(),K("div",{class:Me(["container",{selected:n.selected}])},[A("img",{src:R(ki)(n.versionId)},null,8,Si),A("img",{src:R(wi)(n.versionId),class:"square-hover"},null,8,Ci),_n(n.$slots,"default",{},()=>[n.imageUrl?(P(),K("img",{key:0,src:n.imageUrl,alt:n.label,class:"item-card__image",fit:"contain"},null,8,xi)):le("",!0)]),A("div",qi,ue(n.label),1)],2))}}),$t=ge($i,[["__scopeId","data-v-f11b5fcc"]]);function Ui(e){return`${he}/${e.id}/ui/skins/default/fe_logo.webp`}const Mi=At("memory",{state:()=>({last_version:null}),actions:{setLastVersion(e){this.last_version=e},clearSession(){this.last_version=null}},persist:{storage:sessionStorage,key:"tww3-brawl-memory"}}),Bi={class:"row items-center q-gutter-x-sm"},Ni={class:"q-mb-md"},Vi={key:0,class:"version-icons-row"},Ri=["src","alt"],Pi={class:"q-mb-md"},Ai={key:0,class:"faction-icons-row"},Ii=["src","alt"],Ei={class:"q-mb-md"},Ti={key:0},Li={class:"group-label"},Fi={class:"unit-icons-row"},Di=["onClick"],zi={class:"unit-label"},Oi={key:1},ji=me({__name:"SelectUnit",props:{unitSelection:{},version:{}},emits:["update:unitSelection","update:version"],setup(e,{emit:n}){const i=X(null),o=X("version"),t=X(!1),a=Mi(),s=n,l=X(null),v=u({get:()=>{var _;return(_=l.value)!=null&&_.version?l.value.version:a.last_version},set:_=>{a.setLastVersion(_),l.value?l.value.version=_:_&&(l.value={unit:void 0,version:_,faction:void 0})}}),r=u({get:()=>{var _;return((_=l.value)==null?void 0:_.faction)||null},set:_=>{l.value?l.value.faction=_:_&&(l.value={unit:void 0,version:void 0,faction:_})}}),c=u({get:()=>{var _;return((_=l.value)==null?void 0:_.unit)||null},set:_=>{l.value?l.value.unit=_:_&&(l.value={unit:_,version:void 0,faction:void 0})}}),{data:d,isLoading:m}=Fn(),b=u(()=>d.value?(console.log(d.value),d.value):[]),p=u(()=>{var _,h;return((h=(_=l.value)==null?void 0:_.version)==null?void 0:h.id)??""}),{data:x,isLoading:N,refetch:L}=Dn(p),V=u(()=>x.value?x.value:[]),B=u(()=>{var _,h;return((h=(_=l.value)==null?void 0:_.faction)==null?void 0:h.key)??""}),{data:S,isLoading:U,refetch:D}=zn(p,B);u(()=>S.value?S.value.map(_=>{var h;return{label:((h=_.land_unit)==null?void 0:h.onscreen_name)||_.unit,value:_.unit}}):[]);const F=u(()=>{var E;if(!S.value)return{};const _={};for(const J of S.value){const te=J.group||"Autres";_[te]||(_[te]=[]),_[te].push(J)}const h={};for(const[J,te]of Object.entries(_)){const H={};for(const y of te){const j=((E=y.land_unit)==null?void 0:E.onscreen_name)||y.unit;H[j]||(H[j]=[]),H[j].push(y)}const Y=[];for(const y in H){const j=H[y].sort((I,G)=>{const Q=I.recruitment_cost||0,ie=G.recruitment_cost||0;return Q-ie})[0];Y.push(j)}Y.sort((y,j)=>{var ke,ce;const I=y.recruitment_cost||0,G=j.recruitment_cost||0;if(I!==G)return I-G;const Q=((ke=y.land_unit)==null?void 0:ke.onscreen_name)||y.unit,ie=((ce=j.land_unit)==null?void 0:ce.onscreen_name)||j.unit;return Q.localeCompare(ie)}),h[J]=Y}const $=["Lords","Heroes","Infantry","Missile Infantry","Cavalry & Chariots","Missile Cavalry & Chariots","Artillery & War Machines"],M={};for(const J of $)h[J]&&(M[J]=h[J]);for(const[J,te]of Object.entries(h))$.includes(J)||(M[J]=te);return M});oe(t,async _=>{_&&(!l.value||!l.value.unit)&&a.last_version&&(v.value=a.last_version,o.value="faction",await L())}),oe(o,async _=>{_==="version"?l.value&&(l.value.faction=void 0,l.value.unit=void 0):_==="faction"?(await L(),l.value&&(l.value.unit=void 0)):_==="unit"&&await D()});const Z=()=>{o.value==="version"&&v.value?(r.value=void 0,c.value=void 0,o.value="faction"):o.value==="faction"&&r.value&&(c.value=void 0,o.value="unit")},k=()=>{o.value==="unit"?(c.value=void 0,o.value="faction"):o.value==="faction"&&(r.value=void 0,o.value="version")},f=_=>{v.value=_,o.value="faction"},C=_=>{r.value=_,o.value="unit"},g=_=>{c.value=_,l.value&&(t.value=!1,s("update:unitSelection",l.value))};return(_,h)=>{const $=fe,M=On,E=ha,J=Ht,te=_a,H=it,Y=ia,y=at,j=jn;return P(),K("div",Bi,[T($,{label:"Pick a Unit",color:"primary",onClick:h[0]||(h[0]=I=>t.value=!0)}),T(j,{modelValue:t.value,"onUpdate:modelValue":h[6]||(h[6]=I=>t.value=I)},{default:W(()=>[T(y,{class:"custom"},{default:W(()=>[T(H,{class:"q-card-section-custom"},{default:W(()=>[T(te,{ref_key:"carouselRef",ref:i,padding:!1,modelValue:o.value,"onUpdate:modelValue":h[3]||(h[3]=I=>o.value=I),autoplay:!1,"transition-prev":"slide-left","transition-next":"slide-right","aria-hidden":"true",class:"q-carousel-custom"},{default:W(()=>[T(E,{name:"version",key:"version"},{default:W(()=>[A("div",Ni,[T(M,{modelValue:v.value,"onUpdate:modelValue":h[1]||(h[1]=I=>v.value=I),options:b.value,loading:R(m),label:"Versions",dense:"",outlined:"","option-label":"name","option-value":"id"},null,8,["modelValue","options","loading"]),R(d)&&o.value==="version"?(P(),K("div",Vi,[R(d)&&o.value==="version"?(P(!0),K(be,{key:0},xe(R(d),I=>(P(),se($t,{key:I.id,label:I.name,selected:v.value&&v.value.id===I.id||!1,onClick:G=>f(I)},{default:W(()=>[A("img",{src:R(Ui)(I),class:"square-icon-image",alt:I.name},null,8,Ri)]),_:2},1032,["label","selected","onClick"]))),128)):le("",!0)])):le("",!0)])]),_:1}),T(E,{name:"faction",key:"faction"},{default:W(()=>[A("div",Pi,[T(M,{modelValue:r.value,"onUpdate:modelValue":h[2]||(h[2]=I=>r.value=I),options:V.value,loading:R(N),disable:!v.value||R(N),label:"Faction",dense:"",outlined:"","option-label":"screen_name","option-value":"key"},null,8,["modelValue","options","loading","disable"]),R(x)&&o.value==="faction"?(P(),K("div",Ai,[(P(!0),K(be,null,xe(R(x),I=>{var G;return P(),se($t,{key:I.key,label:((G=I.subculture)==null?void 0:G.name)||I.key,selected:r.value&&r.value.key===I.key||!1,onClick:Q=>C(I)},{default:W(()=>[R(xt)(p.value,I)?(P(),K("img",{key:0,src:R(xt)(p.value,I),alt:I.screen_name||I.key},null,8,Ii)):le("",!0)]),_:2},1032,["label","selected","onClick"])}),128))])):le("",!0)])]),_:1}),T(E,{name:"unit",key:"unit"},{default:W(()=>[A("div",Ei,[R(S)&&Object.keys(F.value).length>0?(P(),K("div",Ti,[(P(!0),K(be,null,xe(F.value,(I,G)=>(P(),K("div",{key:G,class:"unit-group-block"},[A("div",Li,ue(G),1),A("div",Fi,[(P(!0),K(be,null,xe(I,Q=>{var ie;return P(),K("div",{key:Q.unit,class:"unit-icon-container",onClick:ke=>g(Q)},[T(pi,{versionId:p.value,unit:Q,selected:c.value&&c.value.unit===Q.unit},null,8,["versionId","unit","selected"]),A("div",zi,ue(((ie=Q.land_unit)==null?void 0:ie.onscreen_name)||Q.unit),1)],8,Di)}),128))])]))),128))])):(P(),K("div",Oi,[T(J,{color:"primary"})]))])]),_:1})]),_:1},8,["modelValue"])]),_:1}),T(Y,{class:"text-primary q-card-actions-custom",align:"between"},{default:W(()=>[o.value==="version"?(P(),se($,{key:0,label:"Fermer",flat:"",dense:"",onClick:h[4]||(h[4]=I=>t.value=!1)})):(P(),se($,{key:1,label:"Back",flat:"",dense:"",onClick:k})),o.value!=="unit"?(P(),se($,{key:2,disable:o.value==="version"&&!v.value||o.value==="faction"&&!r.value,label:"Next",color:"primary",flat:"",dense:"",onClick:Z},null,8,["disable"])):(P(),se($,{key:3,disable:!c.value||!v.value||!r.value,label:"Finish",color:"primary",flat:"",dense:"",onClick:h[5]||(h[5]=()=>{t.value=!1,l.value&&s("update:unitSelection",l.value)})},null,8,["disable"]))]),_:1})]),_:1})]),_:1},8,["modelValue"])])}}}),Hi=ge(ji,[["__scopeId","data-v-fc56ebd3"]]);function Ki(e,n,i){const o=Hn();return Kn({queryKey:["tww","versions",e,"units",n],queryFn:()=>yi(o,e.value,n.value),staleTime:30*60*1e3,enabled:!!e.value&&!!n.value})}const Qi={class:"row items-center"},Wi=["src"],Xi=["src"],Yi=me({__name:"MountPicker",props:{unit:{}},emits:["update:unit"],setup(e,{emit:n}){const i=e,o=n,t=u(()=>{var p;return(p=s.value.find(x=>x.mounted_unit===i.unit.unit))==null?void 0:p.icon_name}),a=X(null),s=u(()=>{const p=i.unit.battle_mounts;if(p.length>0){const x={base_unit:p[0].base_unit,mounted_unit:p[0].base_unit,icon_name:ui,mount_name:"On Foot"};return[...p,x]}return[]}),l=u(()=>i.unit.version),v=u(()=>a.value||""),{data:r,isLoading:c,error:d,refetch:m}=Ki(l,v);oe(a,async p=>{p!==null&&(await m(),r.value&&o("update:unit",r.value))},{immediate:!0});function b(p){const x=p.mounted_unit;x!==i.unit.unit&&(a.value=x)}return(p,x)=>{const N=Zn,L=Wn,V=Qn,B=aa,S=La;return P(),K("div",Qi,[T(B,null,{default:W(()=>[T(V,null,{default:W(()=>[(P(!0),K(be,null,xe(s.value,U=>hn((P(),se(L,{key:U.mounted_unit,onClick:D=>b(U),clickable:""},{default:W(()=>[T(N,null,{default:W(()=>[A("img",{src:R(qt)(p.unit.version,U.icon_name)},null,8,Wi)]),_:2},1024),Ce(" "+ue(U.mount_name),1)]),_:2},1032,["onClick"])),[[S]])),128))]),_:1})]),_:1}),T(N,null,{default:W(()=>[A("img",{src:R(qt)(p.unit.version,t.value||"")},null,8,Xi)]),_:1})])}}});function Zi(e){let n="https://twwstats.com/unitscards?";const i=e.map(o=>"units=f"+encodeURIComponent(`=0&k=${o.unit.unit}&v=${o.version.id}&m&r=0`)).join("&");return n+i}const Gi={class:"unit-label text-xl"},Ji=["href"],eo={class:"q-mt-md row justify-between"},to=me({__name:"index",props:{orientation:{default:"left"},modelValue:{}},emits:["update:modelValue"],setup(e,{emit:n}){const i=lt(),o=u(()=>{var m;return((m=a.modelValue)==null?void 0:m.selection)||null}),t=X(null),a=e,s=n;function l(m){const b=m.num_men||1,p=Math.min(15,b);a.modelValue&&(a.modelValue.selection.unit=m,s("update:modelValue",{unitWithEntityNumberAndBonus:{selection:a.modelValue.selection,entityNumber:p,bonus:a.modelValue.bonus},mount_changed:!0}))}function v(m){const b=Ue(m.unit),p=Math.min(15,b);s("update:modelValue",{unitWithEntityNumberAndBonus:{selection:m,entityNumber:p,bonus:$e()},mount_changed:!1})}const r=u(()=>{var m,b,p;return(p=(b=(m=o.value)==null?void 0:m.unit)==null?void 0:b.land_unit)!=null&&p.onscreen_name?o.value.unit.land_unit.onscreen_name:"Unit Title"}),c=u(()=>{var m,b,p;if((m=o.value)!=null&&m.unit&&((p=(b=o.value)==null?void 0:b.version)!=null&&p.id)){const x=Ge(o.value.version.id,o.value.unit);if(x)return x}return"/default-unit-image.jpg"}),d=u(()=>{var b,p,x,N,L,V,B,S,U,D,F,Z,k;let m=[];return(b=o.value)!=null&&b.unit&&((x=(p=o.value)==null?void 0:p.version)!=null&&x.id)&&m.push({unit:o.value.unit,version:o.value.version}),a.orientation==="left"&&((L=(N=i.rightUnit)==null?void 0:N.selection)!=null&&L.unit)&&((S=(B=(V=i.rightUnit)==null?void 0:V.selection)==null?void 0:B.version)!=null&&S.id)&&m.push({unit:i.rightUnit.selection.unit,version:i.rightUnit.selection.version}),a.orientation==="right"&&((D=(U=i.leftUnit)==null?void 0:U.selection)!=null&&D.unit)&&((k=(Z=(F=i.leftUnit)==null?void 0:F.selection)==null?void 0:Z.version)!=null&&k.id)&&m.push({unit:i.leftUnit.selection.unit,version:i.leftUnit.selection.version}),Zi(m)});return(m,b)=>{const p=Pa,x=it,N=at;return P(),se(N,{class:"unit-card"},{default:W(()=>[T(x,null,{default:W(()=>[T(p,{src:c.value,ratio:16/9,fit:"contain",class:"unit-image",alt:"Unit Portrait"},null,8,["src"]),A("div",Gi,[d.value?(P(),K("a",{key:0,href:d.value,target:"_blank"},ue(r.value),9,Ji)):le("",!0)])]),_:1}),T(x,{class:Me([m.orientation,"card-section"])},{default:W(()=>{var L,V,B,S,U,D;return[A("div",eo,[T(Hi,{unitSelection:o.value,version:R(t),"onUpdate:unitSelection":b[0]||(b[0]=F=>v(F)),"onUpdate:version":b[1]||(b[1]=F=>t.value=F)},null,8,["unitSelection","version"]),(B=(V=(L=o.value)==null?void 0:L.unit)==null?void 0:V.battle_mounts)!=null&&B.length&&((D=(U=(S=o.value)==null?void 0:S.unit)==null?void 0:U.battle_mounts)==null?void 0:D.length)>0?(P(),se(Yi,{key:0,unit:o.value.unit,"onUpdate:unit":b[2]||(b[2]=F=>l(F))},null,8,["unit"])):le("",!0)])]}),_:1},8,["class"])]),_:1})}}}),Ut=ge(to,[["__scopeId","data-v-aac7396f"]]),no={key:0,class:"col-6"},ao={class:"text-caption q-mb-xs"},io={class:"q-mt-md"},oo={class:"row q-gutter-xs"},lo=me({__name:"EntitySliders",props:{entityNumber:{},maxEntities:{}},emits:["update:entityNumber"],setup(e,{emit:n}){const i=n,o=[6,10,14,20],t=a=>{a!==null&&i("update:entityNumber",a)};return(a,s)=>{const l=Ma,v=fe,r=it,c=at;return a.maxEntities>1?(P(),K("div",no,[T(c,null,{default:W(()=>[T(r,null,{default:W(()=>[A("div",ao," Active entities: "+ue(a.entityNumber),1),T(l,{"model-value":a.entityNumber,"onUpdate:modelValue":t,min:1,max:a.maxEntities,step:1,label:"","label-always":""},null,8,["model-value","max"]),A("div",io,[s[0]||(s[0]=A("div",{class:"text-caption q-mb-xs"},"Quick select:",-1)),A("div",oo,[(P(),K(be,null,xe(o,d=>T(v,{key:d,label:d.toString(),color:a.entityNumber===d?"primary":"grey-6",outline:a.entityNumber!==d,size:"sm",onClick:m=>t(d),disable:d>a.maxEntities},null,8,["label","color","outline","onClick","disable"])),64))])])]),_:1})]),_:1})])):le("",!0)}}}),Mt=ge(lo,[["__scopeId","data-v-95171e5f"]]),ro=me({__name:"ValueDisplay",props:{value:{type:[Number,Boolean]},isUpdatable:{type:Boolean},bonus:{default:0},orientation:{}},emits:["update"],setup(e,{expose:n,emit:i}){const o=i;function t(r){s.value=r,o("update",s.value)}const s=X(e.bonus),l=X(null);function v(){var r;s.value=0,(r=l.value)==null||r.reset()}return n({reset:v}),(r,c)=>(P(),K("div",{class:Me(["container",{reverse:r.orientation==="right"}])},[A("div",{class:Me(["left base",{right:r.orientation==="right"}])},[typeof r.value=="number"&&r.isUpdatable?(P(),se(za,{key:0,ref_key:"numericInputRef",ref:l,modifier:s.value,baseValue:r.value,"onUpdate:modelValue":t,direction:r.orientation},null,8,["modifier","baseValue","direction"])):(P(),K(be,{key:1},[Ce(ue(r.value),1)],64))],2)],2))}}),Bt=ge(ro,[["__scopeId","data-v-14341811"]]),so={scope:"col",class:"text-right unit-column"},uo={scope:"col",class:"text-left unit-column"},co={scope:"col",class:"unit-column"},vo={scope:"col",class:"unit-column"},mo={key:0,class:"unit-column"},fo={class:"text-center stat-column"},go={key:1,class:"unit-column"},_o=me({__name:"index",props:{leftUnit:{},rightUnit:{}},emits:["update"],setup(e,{expose:n,emit:i}){const o=e,t=i;function a(c,d,m){t("update",c,d,m)}const s=X([]),l=X([]);function v(c){r(c);for(const d of Ee)t("update",c,d,0);c==="left"?o.leftUnit&&(o.leftUnit.bonus=$e()):o.rightUnit&&(o.rightUnit.bonus=$e())}function r(c){c==="left"?l.value.forEach(d=>d==null?void 0:d.reset()):s.value.forEach(d=>d==null?void 0:d.reset())}return n({reset:r}),(c,d)=>{var p,x,N,L;const m=fe,b=Xn;return(x=(p=c.leftUnit)==null?void 0:p.selection)!=null&&x.unit&&((L=(N=c.rightUnit)==null?void 0:N.selection)!=null&&L.unit)?(P(),se(b,{key:0,separator:"none",flat:"",bordered:""},{default:W(()=>{var V,B,S,U,D,F,Z,k;return[A("thead",null,[A("tr",null,[A("th",so,[A("b",null,ue((U=(S=(B=(V=c.leftUnit)==null?void 0:V.selection)==null?void 0:B.unit)==null?void 0:S.land_unit)==null?void 0:U.onscreen_name),1)]),d[2]||(d[2]=A("th",{scope:"col",class:"text-center stat-column"},[A("b",null,"Statistic")],-1)),A("th",uo,[A("b",null,ue((k=(Z=(F=(D=c.rightUnit)==null?void 0:D.selection)==null?void 0:F.unit)==null?void 0:Z.land_unit)==null?void 0:k.onscreen_name),1)])]),A("tr",null,[A("th",co,[T(m,{label:"Reset",color:"warning",icon:"refresh",onClick:d[0]||(d[0]=f=>v("left"))})]),d[3]||(d[3]=A("th",{scope:"col",class:"stat-column"},null,-1)),A("th",vo,[T(m,{label:"Reset",color:"warning",icon:"refresh",onClick:d[1]||(d[1]=f=>v("right"))})])])]),A("tbody",null,[(P(!0),K(be,null,xe(R(ja),f=>{var C,g,_,h;return P(),K("tr",{key:f.path},[(g=(C=c.leftUnit)==null?void 0:C.selection)!=null&&g.unit?(P(),K("td",mo,[T(Bt,{ref_for:!0,ref_key:"leftUnitRef",ref:l,value:R(Ze)(c.leftUnit.selection.unit,f.path),bonus:c.leftUnit.bonus[f.path],isUpdatable:R(Ee).includes(f.path),onUpdate:$=>a("left",f.path,$),orientation:"left"},null,8,["value","bonus","isUpdatable","onUpdate"])])):le("",!0),A("td",fo,ue(f.label),1),(h=(_=c.rightUnit)==null?void 0:_.selection)!=null&&h.unit?(P(),K("td",go,[T(Bt,{ref_for:!0,ref_key:"rightUnitRef",ref:s,value:R(Ze)(c.rightUnit.selection.unit,f.path),bonus:c.rightUnit.bonus[f.path],isUpdatable:R(Ee).includes(f.path),onUpdate:$=>a("right",f.path,$),orientation:"right"},null,8,["value","bonus","isUpdatable","onUpdate"])])):le("",!0)])}),128))])]}),_:1})):le("",!0)}}}),ho=ge(_o,[["__scopeId","data-v-4724c2a2"]]),bo={class:"q-pa-md container"},po={class:"justify-center items-center unit-cards-container"},yo={class:"text-center"},ko={key:0,class:"entity-sliders-container"},wo={class:"entity-slider"},So={class:"entity-slider"},Co=me({__name:"index",setup(e){const n=lt(),i=X(null),o=(s,l)=>{var v,r,c,d;if(s==="left"){const m=((v=n.leftUnit)==null?void 0:v.bonus)??null;n.setLeftUnit(l.unitWithEntityNumberAndBonus),l.mount_changed?n.setLeftUnitBonus(m):(r=i.value)==null||r.reset("left")}else{const m=((c=n.rightUnit)==null?void 0:c.bonus)??null;n.setRightUnit(l.unitWithEntityNumberAndBonus),l.mount_changed?n.setRightUnitBonus(m):(d=i.value)==null||d.reset("right")}},t=(s,l,v)=>{var r,c;if(s==="left"){const d=((r=n.leftUnit)==null?void 0:r.bonus)??null;d&&(d[l]=v),n.setLeftUnitBonus(d)}else{const d=((c=n.rightUnit)==null?void 0:c.bonus)??null;d&&(d[l]=v),n.setRightUnitBonus(d)}},a=()=>{n.clearUnits()};return(s,l)=>{var c,d,m,b,p,x,N,L,V,B,S,U;const v=fe,r=si;return P(),K(be,null,[l[5]||(l[5]=A("h1",null,"TWW3 Brawl",-1)),A("div",bo,[A("div",po,[T(Ut,{orientation:"left",class:"bg-positive unit-card",modelValue:R(n).leftUnit,"onUpdate:modelValue":l[0]||(l[0]=D=>o("left",D))},null,8,["modelValue"]),T(Ut,{orientation:"right",class:"bg-negative unit-card",modelValue:R(n).rightUnit,"onUpdate:modelValue":l[1]||(l[1]=D=>o("right",D))},null,8,["modelValue"])]),A("div",yo,[T(v,{label:"Reset",color:"warning",icon:"refresh",onClick:a})]),(m=(d=(c=R(n))==null?void 0:c.leftUnit)==null?void 0:d.selection)!=null&&m.unit||(x=(p=(b=R(n))==null?void 0:b.rightUnit)==null?void 0:p.selection)!=null&&x.unit?(P(),K("div",ko,[A("div",wo,[(V=(L=(N=R(n))==null?void 0:N.leftUnit)==null?void 0:L.selection)!=null&&V.unit&&R(Ue)(R(n).leftUnit.selection.unit)>1?(P(),se(Mt,{key:0,"entity-number":R(n).leftUnit.entityNumber,"max-entities":R(Ue)(R(n).leftUnit.selection.unit),"onUpdate:entityNumber":l[2]||(l[2]=D=>R(n).setLeftUnitEntityCount(D))},null,8,["entity-number","max-entities"])):le("",!0)]),A("div",So,[(U=(S=(B=R(n))==null?void 0:B.rightUnit)==null?void 0:S.selection)!=null&&U.unit&&R(Ue)(R(n).rightUnit.selection.unit)>1?(P(),se(Mt,{key:0,"entity-number":R(n).rightUnit.entityNumber,"max-entities":R(Ue)(R(n).rightUnit.selection.unit),"onUpdate:entityNumber":l[3]||(l[3]=D=>R(n).setRightUnitEntityCount(D))},null,8,["entity-number","max-entities"])):le("",!0)])])):le("",!0),T(r),T(ho,{ref_key:"detailViewRef",ref:i,leftUnit:R(n).leftUnit,rightUnit:R(n).rightUnit,onUpdate:t},null,8,["leftUnit","rightUnit"]),l[4]||(l[4]=A("div",{style:{"min-height":"25vh"}},null,-1))])],64)}}}),Mo=ge(Co,[["__scopeId","data-v-4ba10028"]]);export{Mo as default};
