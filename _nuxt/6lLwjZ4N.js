import{H as de,j as c,h as N,I as ye,r as Y,J as oe,o as Ee,K as Be,L as et,M as Ne,N as he,O as Ue,P as Bt,Q as Ce,R as Ie,S as Ve,T as Nt,U as Ut,V as cn,W as Pt,e as tt,X as ft,Y as Qe,Z as dn,$ as Me,a0 as vn,a1 as fn,a2 as mn,d as fe,t as K,v as A,z as F,A as X,_ as _e,a3 as ue,a4 as L,a5 as gn,a6 as le,B as qe,y as se,a7 as Vt,a8 as _n,x as R,a9 as xe,aa as hn,ab as me,ac as pe,ad as bn,ae as pn,u as yn}from"./BWQwn8Q3.js";import{u as At,a as Rt,Q as It,h as Et,b as Tt,c as ke,d as kn,n as Ft,e as wn,g as Sn,f as Cn,_ as ge,i as nt,j as at,k as xn,l as qn,m as Lt,o as Ye,p as $n,q as Mn,r as Bn,s as Nn,t as Dt,v as $e,w as zt,x as Un,y as Pn,z as Ot,A as We,B as Vn,C as An,D as Rn,E as mt,F as In,G as En,H as Tn,I as Fn,J as Ln,K as Dn,L as zn,M as jt,N as On,O as jn,P as Hn,R as Kn,S as Ht,T as Qn,U as Wn,V as Xn,W as Yn,X as Zn}from"./BwPzqeLE.js";import Gn from"./QhbhCNgS.js";/* empty css        */const Jn=de({name:"QAvatar",props:{...At,fontSize:String,color:String,textColor:String,icon:String,square:Boolean,rounded:Boolean},setup(e,{slots:n}){const o=Rt(e),i=c(()=>"q-avatar"+(e.color?` bg-${e.color}`:"")+(e.textColor?` text-${e.textColor} q-chip--colored`:"")+(e.square===!0?" q-avatar--square":e.rounded===!0?" rounded-borders":"")),t=c(()=>e.fontSize?{fontSize:e.fontSize}:null);return()=>{const a=e.icon!==void 0?[N(It,{name:e.icon})]:void 0;return N("div",{class:i.value,style:o.value},[N("div",{class:"q-avatar__content row flex-center overflow-hidden",style:t.value},Et(n.default,a))])}}}),ea=["top","middle","bottom"],ta=de({name:"QBadge",props:{color:String,textColor:String,floating:Boolean,transparent:Boolean,multiLine:Boolean,outline:Boolean,rounded:Boolean,label:[Number,String],align:{type:String,validator:e=>ea.includes(e)}},setup(e,{slots:n}){const o=c(()=>e.align!==void 0?{verticalAlign:e.align}:null),i=c(()=>{const t=e.outline===!0&&e.color||e.textColor;return`q-badge flex inline items-center no-wrap q-badge--${e.multiLine===!0?"multi":"single"}-line`+(e.outline===!0?" q-badge--outline":e.color!==void 0?` bg-${e.color}`:"")+(t!==void 0?` text-${t}`:"")+(e.floating===!0?" q-badge--floating":"")+(e.rounded===!0?" q-badge--rounded":"")+(e.transparent===!0?" q-badge--transparent":"")});return()=>N("div",{class:i.value,style:o.value,role:"status","aria-label":e.label},Tt(n.default,e.label!==void 0?[e.label]:[]))}}),na=de({name:"QBtnGroup",props:{unelevated:Boolean,outline:Boolean,flat:Boolean,rounded:Boolean,square:Boolean,push:Boolean,stretch:Boolean,glossy:Boolean,spread:Boolean},setup(e,{slots:n}){const o=c(()=>{const i=["unelevated","outline","flat","rounded","square","push","stretch","glossy"].filter(t=>e[t]===!0).map(t=>`q-btn-group--${t}`).join(" ");return`q-btn-group row no-wrap${i.length!==0?" "+i:""}`+(e.spread===!0?" q-btn-group--spread":" inline")});return()=>N("div",{class:o.value},ke(n.default))}}),aa=Object.keys(Ft);function oa(e){return aa.reduce((n,o)=>{const i=e[o];return i!==void 0&&(n[o]=i),n},{})}const ia=de({name:"QBtnDropdown",props:{...Ft,...kn,modelValue:Boolean,split:Boolean,dropdownIcon:String,contentClass:[Array,String,Object],contentStyle:[Array,String,Object],cover:Boolean,persistent:Boolean,noEscDismiss:Boolean,noRouteDismiss:Boolean,autoClose:Boolean,noRefocus:Boolean,noFocus:Boolean,menuAnchor:{type:String,default:"bottom end"},menuSelf:{type:String,default:"top end"},menuOffset:Array,disableMainBtn:Boolean,disableDropdown:Boolean,noIconAnimation:Boolean,toggleAriaLabel:String},emits:["update:modelValue","click","beforeShow","show","beforeHide","hide"],setup(e,{slots:n,emit:o}){const{proxy:i}=ye(),t=Y(e.modelValue),a=Y(null),r=wn(),s=c(()=>{const C={"aria-expanded":t.value===!0?"true":"false","aria-haspopup":"true","aria-controls":r.value,"aria-label":e.toggleAriaLabel||i.$q.lang.label[t.value===!0?"collapse":"expand"](e.label)};return(e.disable===!0||e.split===!1&&e.disableMainBtn===!0||e.disableDropdown===!0)&&(C["aria-disabled"]="true"),C}),v=c(()=>"q-btn-dropdown__arrow"+(t.value===!0&&e.noIconAnimation===!1?" rotate-180":"")+(e.split===!1?" q-btn-dropdown__arrow-container":"")),l=c(()=>Sn(e)),d=c(()=>oa(e));oe(()=>e.modelValue,C=>{var M;(M=a.value)==null||M[C?"show":"hide"]()}),oe(()=>e.split,B);function f(C){t.value=!0,o("beforeShow",C)}function m(C){o("show",C),o("update:modelValue",!0)}function u(C){t.value=!1,o("beforeHide",C)}function _(C){o("hide",C),o("update:modelValue",!1)}function w(C){o("click",C)}function $(C){Be(C),B(),o("click",C)}function P(C){var M;(M=a.value)==null||M.toggle(C)}function x(C){var M;(M=a.value)==null||M.show(C)}function B(C){var M;(M=a.value)==null||M.hide(C)}return Object.assign(i,{show:x,hide:B,toggle:P}),Ee(()=>{e.modelValue===!0&&x()}),()=>{const C=[N(It,{class:v.value,name:e.dropdownIcon||i.$q.iconSet.arrow.dropdown})];return e.disableDropdown!==!0&&C.push(N(Cn,{ref:a,id:r.value,class:e.contentClass,style:e.contentStyle,cover:e.cover,fit:!0,persistent:e.persistent,noEscDismiss:e.noEscDismiss,noRouteDismiss:e.noRouteDismiss,autoClose:e.autoClose,noFocus:e.noFocus,noRefocus:e.noRefocus,anchor:e.menuAnchor,self:e.menuSelf,offset:e.menuOffset,separateClosePopup:!0,transitionShow:e.transitionShow,transitionHide:e.transitionHide,transitionDuration:e.transitionDuration,onBeforeShow:f,onShow:m,onBeforeHide:u,onHide:_},n.default)),e.split===!1?N(ge,{class:"q-btn-dropdown q-btn-dropdown--simple",...d.value,...s.value,disable:e.disable===!0||e.disableMainBtn===!0,noWrap:!0,round:!1,onClick:w},{default:()=>ke(n.label,[]).concat(C),loading:n.loading}):N(na,{class:"q-btn-dropdown q-btn-dropdown--split no-wrap q-btn-item",rounded:e.rounded,square:e.square,...l.value,glossy:e.glossy,stretch:e.stretch},()=>[N(ge,{class:"q-btn-dropdown--current",...d.value,disable:e.disable===!0||e.disableMainBtn===!0,noWrap:!0,round:!1,onClick:$},{default:n.label,loading:n.loading}),N(ge,{class:"q-btn-dropdown__arrow-container q-anchor--skip",...s.value,...l.value,disable:e.disable===!0||e.disableDropdown===!0,rounded:e.rounded,color:e.color,textColor:e.textColor,dense:e.dense,size:e.size,padding:e.padding,ripple:e.ripple},()=>C)])}}}),ot=de({name:"QCard",props:{...nt,tag:{type:String,default:"div"},square:Boolean,flat:Boolean,bordered:Boolean},setup(e,{slots:n}){const{proxy:{$q:o}}=ye(),i=at(e,o),t=c(()=>"q-card"+(i.value===!0?" q-card--dark q-dark":"")+(e.bordered===!0?" q-card--bordered":"")+(e.square===!0?" q-card--square no-border-radius":"")+(e.flat===!0?" q-card--flat no-shadow":""));return()=>N(e.tag,{class:t.value},ke(n.default))}}),la=de({name:"QCardActions",props:{...xn,vertical:Boolean},setup(e,{slots:n}){const o=qn(e),i=c(()=>`q-card__actions ${o.value} q-card__actions--${e.vertical===!0?"vert column":"horiz row"}`);return()=>N("div",{class:i.value},ke(n.default))}}),it=de({name:"QCardSection",props:{tag:{type:String,default:"div"},horizontal:Boolean},setup(e,{slots:n}){const o=c(()=>`q-card__section q-card__section--${e.horizontal===!0?"horiz row no-wrap":"vert"}`);return()=>N(e.tag,{class:o.value},ke(n.default))}}),lt={left:!0,right:!0,up:!0,down:!0,horizontal:!0,vertical:!0},ra=Object.keys(lt);lt.all=!0;function Fe(e){const n={};for(const o of ra)e[o]===!0&&(n[o]=!0);return Object.keys(n).length===0?lt:(n.horizontal===!0?n.left=n.right=!0:n.left===!0&&n.right===!0&&(n.horizontal=!0),n.vertical===!0?n.up=n.down=!0:n.up===!0&&n.down===!0&&(n.vertical=!0),n.horizontal===!0&&n.vertical===!0&&(n.all=!0),n)}const sa=["INPUT","TEXTAREA"];function Le(e,n){return n.event===void 0&&e.target!==void 0&&e.target.draggable!==!0&&typeof n.handler=="function"&&sa.includes(e.target.nodeName.toUpperCase())===!1&&(e.qClonedBy===void 0||e.qClonedBy.indexOf(n.uid)===-1)}function ua(e){const n=[.06,6,50];return typeof e=="string"&&e.length&&e.split(":").forEach((o,i)=>{const t=parseFloat(o);t&&(n[i]=t)}),n}const ca=et({name:"touch-swipe",beforeMount(e,{value:n,arg:o,modifiers:i}){if(i.mouse!==!0&&he.has.touch!==!0)return;const t=i.mouseCapture===!0?"Capture":"",a={handler:n,sensitivity:ua(o),direction:Fe(i),noop:Bt,mouseStart(r){Le(r,a)&&Nt(r)&&(Ce(a,"temp",[[document,"mousemove","move",`notPassive${t}`],[document,"mouseup","end","notPassiveCapture"]]),a.start(r,!0))},touchStart(r){if(Le(r,a)){const s=r.target;Ce(a,"temp",[[s,"touchmove","move","notPassiveCapture"],[s,"touchcancel","end","notPassiveCapture"],[s,"touchend","end","notPassiveCapture"]]),a.start(r)}},start(r,s){he.is.firefox===!0&&Ue(e,!0);const v=Ve(r);a.event={x:v.left,y:v.top,time:Date.now(),mouse:s===!0,dir:!1}},move(r){if(a.event===void 0)return;if(a.event.dir!==!1){Ie(r);return}const s=Date.now()-a.event.time;if(s===0)return;const v=Ve(r),l=v.left-a.event.x,d=Math.abs(l),f=v.top-a.event.y,m=Math.abs(f);if(a.event.mouse!==!0){if(d<a.sensitivity[1]&&m<a.sensitivity[1]){a.end(r);return}}else if(window.getSelection().toString()!==""){a.end(r);return}else if(d<a.sensitivity[2]&&m<a.sensitivity[2])return;const u=d/s,_=m/s;a.direction.vertical===!0&&d<m&&d<100&&_>a.sensitivity[0]&&(a.event.dir=f<0?"up":"down"),a.direction.horizontal===!0&&d>m&&m<100&&u>a.sensitivity[0]&&(a.event.dir=l<0?"left":"right"),a.direction.up===!0&&d<m&&f<0&&d<100&&_>a.sensitivity[0]&&(a.event.dir="up"),a.direction.down===!0&&d<m&&f>0&&d<100&&_>a.sensitivity[0]&&(a.event.dir="down"),a.direction.left===!0&&d>m&&l<0&&m<100&&u>a.sensitivity[0]&&(a.event.dir="left"),a.direction.right===!0&&d>m&&l>0&&m<100&&u>a.sensitivity[0]&&(a.event.dir="right"),a.event.dir!==!1?(Ie(r),a.event.mouse===!0&&(document.body.classList.add("no-pointer-events--children"),document.body.classList.add("non-selectable"),Lt(),a.styleCleanup=w=>{a.styleCleanup=void 0,document.body.classList.remove("non-selectable");const $=()=>{document.body.classList.remove("no-pointer-events--children")};w===!0?setTimeout($,50):$()}),a.handler({evt:r,touch:a.event.mouse!==!0,mouse:a.event.mouse,direction:a.event.dir,duration:s,distance:{x:d,y:m}})):a.end(r)},end(r){var s;a.event!==void 0&&(Ne(a,"temp"),he.is.firefox===!0&&Ue(e,!1),(s=a.styleCleanup)==null||s.call(a,!0),r!==void 0&&a.event.dir!==!1&&Ie(r),a.event=void 0)}};if(e.__qtouchswipe=a,i.mouse===!0){const r=i.mouseCapture===!0||i.mousecapture===!0?"Capture":"";Ce(a,"main",[[e,"mousedown","mouseStart",`passive${r}`]])}he.has.touch===!0&&Ce(a,"main",[[e,"touchstart","touchStart",`passive${i.capture===!0?"Capture":""}`],[e,"touchmove","noop","notPassiveCapture"]])},updated(e,n){const o=e.__qtouchswipe;o!==void 0&&(n.oldValue!==n.value&&(typeof n.value!="function"&&o.end(),o.handler=n.value),o.direction=Fe(n.modifiers))},beforeUnmount(e){var o;const n=e.__qtouchswipe;n!==void 0&&(Ne(n,"main"),Ne(n,"temp"),he.is.firefox===!0&&Ue(e,!1),(o=n.styleCleanup)==null||o.call(n),delete e.__qtouchswipe)}});function da(){let e=Object.create(null);return{getCache:(n,o)=>e[n]===void 0?e[n]=typeof o=="function"?o():o:e[n],setCache(n,o){e[n]=o},hasCache(n){return Object.hasOwnProperty.call(e,n)},clearCache(n){n!==void 0?delete e[n]:e=Object.create(null)}}}const va={name:{required:!0},disable:Boolean},gt={setup(e,{slots:n}){return()=>N("div",{class:"q-panel scroll",role:"tabpanel"},ke(n.default))}},fa={modelValue:{required:!0},animated:Boolean,infinite:Boolean,swipeable:Boolean,vertical:Boolean,transitionPrev:String,transitionNext:String,transitionDuration:{type:[String,Number],default:300},keepAlive:Boolean,keepAliveInclude:[String,Array,RegExp],keepAliveExclude:[String,Array,RegExp],keepAliveMax:Number},ma=["update:modelValue","beforeTransition","transition"];function ga(){const{props:e,emit:n,proxy:o}=ye(),{getCache:i}=da(),{registerTimeout:t}=Ye();let a,r;const s=Y(null),v={value:null};function l(p){const U=e.vertical===!0?"up":"left";Q((o.$q.lang.rtl===!0?-1:1)*(p.direction===U?1:-1))}const d=c(()=>[[ca,l,void 0,{horizontal:e.vertical!==!0,vertical:e.vertical,mouse:!0}]]),f=c(()=>e.transitionPrev||`slide-${e.vertical===!0?"down":"right"}`),m=c(()=>e.transitionNext||`slide-${e.vertical===!0?"up":"left"}`),u=c(()=>`--q-transition-duration: ${e.transitionDuration}ms`),_=c(()=>typeof e.modelValue=="string"||typeof e.modelValue=="number"?e.modelValue:String(e.modelValue)),w=c(()=>({include:e.keepAliveInclude,exclude:e.keepAliveExclude,max:e.keepAliveMax})),$=c(()=>e.keepAliveInclude!==void 0||e.keepAliveExclude!==void 0);oe(()=>e.modelValue,(p,U)=>{const V=C(p)===!0?M(p):-1;r!==!0&&E(V===-1?0:V<M(U)?-1:1),v.value!==V&&(v.value=V,n("beforeTransition",p,U),t(()=>{n("transition",p,U)},e.transitionDuration))});function P(){Q(1)}function x(){Q(-1)}function B(p){n("update:modelValue",p)}function C(p){return p!=null&&p!==""}function M(p){return a.findIndex(U=>U.props.name===p&&U.props.disable!==""&&U.props.disable!==!0)}function D(){return a.filter(p=>p.props.disable!==""&&p.props.disable!==!0)}function E(p){const U=p!==0&&e.animated===!0&&v.value!==-1?"q-transition--"+(p===-1?f.value:m.value):null;s.value!==U&&(s.value=U)}function Q(p,U=v.value){let V=U+p;for(;V!==-1&&V<a.length;){const T=a[V];if(T!==void 0&&T.props.disable!==""&&T.props.disable!==!0){E(p),r=!0,n("update:modelValue",T.props.name),setTimeout(()=>{r=!1});return}V+=p}e.infinite===!0&&a.length!==0&&U!==-1&&U!==a.length&&Q(p,p===-1?a.length:-1)}function k(){const p=M(e.modelValue);return v.value!==p&&(v.value=p),!0}function g(){const p=C(e.modelValue)===!0&&k()&&a[v.value];return e.keepAlive===!0?[N(cn,w.value,[N($.value===!0?i(_.value,()=>({...gt,name:_.value})):gt,{key:_.value,style:u.value},()=>p)])]:[N("div",{class:"q-panel scroll",style:u.value,key:_.value,role:"tabpanel"},[p])]}function q(){if(a.length!==0)return e.animated===!0?[N(Ut,{name:s.value},g)]:g()}function h(p){return a=$n(ke(p.default,[])).filter(U=>U.props!==null&&U.props.slot===void 0&&C(U.props.name)===!0),a.length}function b(){return a}return Object.assign(o,{next:P,previous:x,goTo:B}),{panelIndex:v,panelDirectives:d,updatePanelsList:h,updatePanelIndex:k,getPanelContent:q,getEnabledPanels:D,getPanels:b,isValidPanelName:C,keepAliveProps:w,needsUniqueKeepAliveWrapper:$,goToPanelByOffset:Q,goToPanel:B,nextPanel:P,previousPanel:x}}const _a=["top","right","bottom","left"],ha=["regular","flat","outline","push","unelevated"],ba=de({name:"QCarousel",props:{...nt,...fa,...Bn,transitionPrev:{type:String,default:"fade"},transitionNext:{type:String,default:"fade"},height:String,padding:Boolean,controlColor:String,controlTextColor:String,controlType:{type:String,validator:e=>ha.includes(e),default:"flat"},autoplay:[Number,Boolean],arrows:Boolean,prevIcon:String,nextIcon:String,navigation:Boolean,navigationPosition:{type:String,validator:e=>_a.includes(e)},navigationIcon:String,navigationActiveIcon:String,thumbnails:Boolean},emits:[...Mn,...ma],setup(e,{slots:n}){const{proxy:{$q:o}}=ye(),i=at(e,o);let t=null,a;const{updatePanelsList:r,getPanelContent:s,panelDirectives:v,goToPanel:l,previousPanel:d,nextPanel:f,getEnabledPanels:m,panelIndex:u}=ga(),{inFullscreen:_}=Nn(),w=c(()=>_.value!==!0&&e.height!==void 0?{height:e.height}:{}),$=c(()=>e.vertical===!0?"vertical":"horizontal"),P=c(()=>e.navigationPosition||(e.vertical===!0?"right":"bottom")),x=c(()=>`q-carousel q-panel-parent q-carousel--with${e.padding===!0?"":"out"}-padding`+(_.value===!0?" fullscreen":"")+(i.value===!0?" q-carousel--dark q-dark":"")+(e.arrows===!0?` q-carousel--arrows-${$.value}`:"")+(e.navigation===!0?` q-carousel--navigation-${P.value}`:"")),B=c(()=>{const g=[e.prevIcon||o.iconSet.carousel[e.vertical===!0?"up":"left"],e.nextIcon||o.iconSet.carousel[e.vertical===!0?"down":"right"]];return e.vertical===!1&&o.lang.rtl===!0?g.reverse():g}),C=c(()=>e.navigationIcon||o.iconSet.carousel.navigationIcon),M=c(()=>e.navigationActiveIcon||C.value),D=c(()=>({color:e.controlColor,textColor:e.controlTextColor,round:!0,[e.controlType]:!0,dense:!0}));oe(()=>e.modelValue,()=>{e.autoplay&&E()}),oe(()=>e.autoplay,g=>{g?E():t!==null&&(clearTimeout(t),t=null)});function E(){const g=Pt(e.autoplay)===!0?Math.abs(e.autoplay):5e3;t!==null&&clearTimeout(t),t=setTimeout(()=>{t=null,g>=0?f():d()},g)}Ee(()=>{e.autoplay&&E()}),tt(()=>{t!==null&&clearTimeout(t)});function Q(g,q){return N("div",{class:`q-carousel__control q-carousel__navigation no-wrap absolute flex q-carousel__navigation--${g} q-carousel__navigation--${P.value}`+(e.controlColor!==void 0?` text-${e.controlColor}`:"")},[N("div",{class:"q-carousel__navigation-inner flex flex-center no-wrap"},m().map(q))])}function k(){const g=[];if(e.navigation===!0){const q=n["navigation-icon"]!==void 0?n["navigation-icon"]:b=>N(ge,{key:"nav"+b.name,class:`q-carousel__navigation-icon q-carousel__navigation-icon--${b.active===!0?"":"in"}active`,...b.btnProps,onClick:b.onClick}),h=a-1;g.push(Q("buttons",(b,p)=>{const U=b.props.name,V=u.value===p;return q({index:p,maxIndex:h,name:U,active:V,btnProps:{icon:V===!0?M.value:C.value,size:"sm",...D.value},onClick:()=>{l(U)}})}))}else if(e.thumbnails===!0){const q=e.controlColor!==void 0?` text-${e.controlColor}`:"";g.push(Q("thumbnails",h=>{const b=h.props;return N("img",{key:"tmb#"+b.name,class:`q-carousel__thumbnail q-carousel__thumbnail--${b.name===e.modelValue?"":"in"}active`+q,src:b.imgSrc||b["img-src"],onClick:()=>{l(b.name)}})}))}return e.arrows===!0&&u.value>=0&&((e.infinite===!0||u.value>0)&&g.push(N("div",{key:"prev",class:`q-carousel__control q-carousel__arrow q-carousel__prev-arrow q-carousel__prev-arrow--${$.value} absolute flex flex-center`},[N(ge,{icon:B.value[0],...D.value,onClick:d})])),(e.infinite===!0||u.value<a-1)&&g.push(N("div",{key:"next",class:`q-carousel__control q-carousel__arrow q-carousel__next-arrow q-carousel__next-arrow--${$.value} absolute flex flex-center`},[N(ge,{icon:B.value[1],...D.value,onClick:f})]))),Tt(n.control,g)}return()=>(a=r(n),N("div",{class:x.value,style:w.value},[Dt("div",{class:"q-carousel__slides-container"},s(),"sl-cont",e.swipeable,()=>v.value)].concat(k())))}}),pa=de({name:"QCarouselSlide",props:{...va,imgSrc:String},setup(e,{slots:n}){const o=c(()=>e.imgSrc?{backgroundImage:`url("${e.imgSrc}")`}:{});return()=>N("div",{class:"q-carousel__slide",style:o.value},ke(n.default))}}),ya={...At,min:{type:Number,default:0},max:{type:Number,default:100},color:String,centerColor:String,trackColor:String,fontSize:String,rounded:Boolean,thickness:{type:Number,default:.2,validator:e=>e>=0&&e<=1},angle:{type:Number,default:0},showValue:Boolean,reverse:Boolean,instantFeedback:Boolean},Ze=50,Kt=2*Ze,Qt=Kt*Math.PI,ka=Math.round(Qt*1e3)/1e3,wa=de({name:"QCircularProgress",props:{...ya,value:{type:Number,default:0},animationSpeed:{type:[String,Number],default:600},indeterminate:Boolean},setup(e,{slots:n}){const{proxy:{$q:o}}=ye(),i=Rt(e),t=c(()=>{const u=(o.lang.rtl===!0?-1:1)*e.angle;return{transform:e.reverse!==(o.lang.rtl===!0)?`scale3d(-1, 1, 1) rotate3d(0, 0, 1, ${-90-u}deg)`:`rotate3d(0, 0, 1, ${u-90}deg)`}}),a=c(()=>e.instantFeedback!==!0&&e.indeterminate!==!0?{transition:`stroke-dashoffset ${e.animationSpeed}ms ease 0s, stroke ${e.animationSpeed}ms ease`}:""),r=c(()=>Kt/(1-e.thickness/2)),s=c(()=>`${r.value/2} ${r.value/2} ${r.value} ${r.value}`),v=c(()=>$e(e.value,e.min,e.max)),l=c(()=>e.max-e.min),d=c(()=>e.thickness/2*r.value),f=c(()=>{const u=(e.max-v.value)/l.value,_=e.rounded===!0&&v.value<e.max&&u<.25?d.value/2*(1-u/.25):0;return Qt*u+_});function m({thickness:u,offset:_,color:w,cls:$,rounded:P}){return N("circle",{class:"q-circular-progress__"+$+(w!==void 0?` text-${w}`:""),style:a.value,fill:"transparent",stroke:"currentColor","stroke-width":u,"stroke-dasharray":ka,"stroke-dashoffset":_,"stroke-linecap":P,cx:r.value,cy:r.value,r:Ze})}return()=>{const u=[];e.centerColor!==void 0&&e.centerColor!=="transparent"&&u.push(N("circle",{class:`q-circular-progress__center text-${e.centerColor}`,fill:"currentColor",r:Ze-d.value/2,cx:r.value,cy:r.value})),e.trackColor!==void 0&&e.trackColor!=="transparent"&&u.push(m({cls:"track",thickness:d.value,offset:0,color:e.trackColor})),u.push(m({cls:"circle",thickness:d.value,offset:f.value,color:e.color,rounded:e.rounded===!0?"round":void 0}));const _=[N("svg",{class:"q-circular-progress__svg",style:t.value,viewBox:s.value,"aria-hidden":"true"},u)];return e.showValue===!0&&_.push(N("div",{class:"q-circular-progress__text absolute-full row flex-center content-center",style:{fontSize:e.fontSize}},n.default!==void 0?n.default():[N("div",v.value)])),N("div",{class:`q-circular-progress q-circular-progress--${e.indeterminate===!0?"in":""}determinate`,style:i.value,role:"progressbar","aria-valuemin":e.min,"aria-valuemax":e.max,"aria-valuenow":e.indeterminate===!0?void 0:v.value},Et(n.internal,_))}}});function Xe(e,n,o){const i=Ve(e);let t,a=i.left-n.event.x,r=i.top-n.event.y,s=Math.abs(a),v=Math.abs(r);const l=n.direction;l.horizontal===!0&&l.vertical!==!0?t=a<0?"left":"right":l.horizontal!==!0&&l.vertical===!0?t=r<0?"up":"down":l.up===!0&&r<0?(t="up",s>v&&(l.left===!0&&a<0?t="left":l.right===!0&&a>0&&(t="right"))):l.down===!0&&r>0?(t="down",s>v&&(l.left===!0&&a<0?t="left":l.right===!0&&a>0&&(t="right"))):l.left===!0&&a<0?(t="left",s<v&&(l.up===!0&&r<0?t="up":l.down===!0&&r>0&&(t="down"))):l.right===!0&&a>0&&(t="right",s<v&&(l.up===!0&&r<0?t="up":l.down===!0&&r>0&&(t="down")));let d=!1;if(t===void 0&&o===!1){if(n.event.isFirst===!0||n.event.lastDir===void 0)return{};t=n.event.lastDir,d=!0,t==="left"||t==="right"?(i.left-=a,s=0,a=0):(i.top-=r,v=0,r=0)}return{synthetic:d,payload:{evt:e,touch:n.event.mouse!==!0,mouse:n.event.mouse===!0,position:i,direction:t,isFirst:n.event.isFirst,isFinal:o===!0,duration:Date.now()-n.event.time,distance:{x:s,y:v},offset:{x:a,y:r},delta:{x:i.left-n.event.lastX,y:i.top-n.event.lastY}}}}let Sa=0;const Ca=et({name:"touch-pan",beforeMount(e,{value:n,modifiers:o}){if(o.mouse!==!0&&he.has.touch!==!0)return;function i(a,r){o.mouse===!0&&r===!0?Ie(a):(o.stop===!0&&Be(a),o.prevent===!0&&ft(a))}const t={uid:"qvtp_"+Sa++,handler:n,modifiers:o,direction:Fe(o),noop:Bt,mouseStart(a){Le(a,t)&&Nt(a)&&(Ce(t,"temp",[[document,"mousemove","move","notPassiveCapture"],[document,"mouseup","end","passiveCapture"]]),t.start(a,!0))},touchStart(a){if(Le(a,t)){const r=a.target;Ce(t,"temp",[[r,"touchmove","move","notPassiveCapture"],[r,"touchcancel","end","passiveCapture"],[r,"touchend","end","passiveCapture"]]),t.start(a)}},start(a,r){if(he.is.firefox===!0&&Ue(e,!0),t.lastEvt=a,r===!0||o.stop===!0){if(t.direction.all!==!0&&(r!==!0||t.modifiers.mouseAllDir!==!0&&t.modifiers.mousealldir!==!0)){const l=a.type.indexOf("mouse")!==-1?new MouseEvent(a.type,a):new TouchEvent(a.type,a);a.defaultPrevented===!0&&ft(l),a.cancelBubble===!0&&Be(l),Object.assign(l,{qKeyEvent:a.qKeyEvent,qClickOutside:a.qClickOutside,qAnchorHandled:a.qAnchorHandled,qClonedBy:a.qClonedBy===void 0?[t.uid]:a.qClonedBy.concat(t.uid)}),t.initialEvent={target:a.target,event:l}}Be(a)}const{left:s,top:v}=Ve(a);t.event={x:s,y:v,time:Date.now(),mouse:r===!0,detected:!1,isFirst:!0,isFinal:!1,lastX:s,lastY:v}},move(a){if(t.event===void 0)return;const r=Ve(a),s=r.left-t.event.x,v=r.top-t.event.y;if(s===0&&v===0)return;t.lastEvt=a;const l=t.event.mouse===!0,d=()=>{i(a,l);let u;o.preserveCursor!==!0&&o.preservecursor!==!0&&(u=document.documentElement.style.cursor||"",document.documentElement.style.cursor="grabbing"),l===!0&&document.body.classList.add("no-pointer-events--children"),document.body.classList.add("non-selectable"),Lt(),t.styleCleanup=_=>{if(t.styleCleanup=void 0,u!==void 0&&(document.documentElement.style.cursor=u),document.body.classList.remove("non-selectable"),l===!0){const w=()=>{document.body.classList.remove("no-pointer-events--children")};_!==void 0?setTimeout(()=>{w(),_()},50):w()}else _!==void 0&&_()}};if(t.event.detected===!0){t.event.isFirst!==!0&&i(a,t.event.mouse);const{payload:u,synthetic:_}=Xe(a,t,!1);u!==void 0&&(t.handler(u)===!1?t.end(a):(t.styleCleanup===void 0&&t.event.isFirst===!0&&d(),t.event.lastX=u.position.left,t.event.lastY=u.position.top,t.event.lastDir=_===!0?void 0:u.direction,t.event.isFirst=!1));return}if(t.direction.all===!0||l===!0&&(t.modifiers.mouseAllDir===!0||t.modifiers.mousealldir===!0)){d(),t.event.detected=!0,t.move(a);return}const f=Math.abs(s),m=Math.abs(v);f!==m&&(t.direction.horizontal===!0&&f>m||t.direction.vertical===!0&&f<m||t.direction.up===!0&&f<m&&v<0||t.direction.down===!0&&f<m&&v>0||t.direction.left===!0&&f>m&&s<0||t.direction.right===!0&&f>m&&s>0?(t.event.detected=!0,t.move(a)):t.end(a,!0))},end(a,r){var s;if(t.event!==void 0){if(Ne(t,"temp"),he.is.firefox===!0&&Ue(e,!1),r===!0)(s=t.styleCleanup)==null||s.call(t),t.event.detected!==!0&&t.initialEvent!==void 0&&t.initialEvent.target.dispatchEvent(t.initialEvent.event);else if(t.event.detected===!0){t.event.isFirst===!0&&t.handler(Xe(a===void 0?t.lastEvt:a,t).payload);const{payload:v}=Xe(a===void 0?t.lastEvt:a,t,!0),l=()=>{t.handler(v)};t.styleCleanup!==void 0?t.styleCleanup(l):l()}t.event=void 0,t.initialEvent=void 0,t.lastEvt=void 0}}};if(e.__qtouchpan=t,o.mouse===!0){const a=o.mouseCapture===!0||o.mousecapture===!0?"Capture":"";Ce(t,"main",[[e,"mousedown","mouseStart",`passive${a}`]])}he.has.touch===!0&&Ce(t,"main",[[e,"touchstart","touchStart",`passive${o.capture===!0?"Capture":""}`],[e,"touchmove","noop","notPassiveCapture"]])},updated(e,n){const o=e.__qtouchpan;o!==void 0&&(n.oldValue!==n.value&&(typeof value!="function"&&o.end(),o.handler=n.value),o.direction=Fe(n.modifiers))},beforeUnmount(e){var o;const n=e.__qtouchpan;n!==void 0&&(n.event!==void 0&&n.end(),Ne(n,"main"),Ne(n,"temp"),he.is.firefox===!0&&Ue(e,!1),(o=n.styleCleanup)==null||o.call(n),delete e.__qtouchpan)}}),_t="q-slider__marker-labels",xa=e=>({value:e}),qa=({marker:e})=>N("div",{key:e.value,style:e.style,class:e.classes},e.label),Wt=[34,37,40,33,39,38],$a={...nt,...zt,min:{type:Number,default:0},max:{type:Number,default:100},innerMin:Number,innerMax:Number,step:{type:Number,default:1,validator:e=>e>=0},snap:Boolean,vertical:Boolean,reverse:Boolean,color:String,markerLabelsClass:String,label:Boolean,labelColor:String,labelTextColor:String,labelAlways:Boolean,switchLabelSide:Boolean,markers:[Boolean,Number],markerLabels:[Boolean,Array,Object,Function],switchMarkerLabelsSide:Boolean,trackImg:String,trackColor:String,innerTrackImg:String,innerTrackColor:String,selectionColor:String,selectionImg:String,thumbSize:{type:String,default:"20px"},trackSize:{type:String,default:"4px"},disable:Boolean,readonly:Boolean,dense:Boolean,tabindex:[String,Number],thumbColor:String,thumbPath:{type:String,default:"M 4, 10 a 6,6 0 1,0 12,0 a 6,6 0 1,0 -12,0"}},Ma=["pan","update:modelValue","change"];function Ba({updateValue:e,updatePosition:n,getDragging:o,formAttrs:i}){const{props:t,emit:a,slots:r,proxy:{$q:s}}=ye(),v=at(t,s),l=Un(i),d=Y(!1),f=Y(!1),m=Y(!1),u=Y(!1),_=c(()=>t.vertical===!0?"--v":"--h"),w=c(()=>"-"+(t.switchLabelSide===!0?"switched":"standard")),$=c(()=>t.vertical===!0?t.reverse===!0:t.reverse!==(s.lang.rtl===!0)),P=c(()=>isNaN(t.innerMin)===!0||t.innerMin<t.min?t.min:t.innerMin),x=c(()=>isNaN(t.innerMax)===!0||t.innerMax>t.max?t.max:t.innerMax),B=c(()=>t.disable!==!0&&t.readonly!==!0&&P.value<x.value),C=c(()=>{if(t.step===0)return O=>O;const S=(String(t.step).trim().split(".")[1]||"").length;return O=>parseFloat(O.toFixed(S))}),M=c(()=>t.step===0?1:t.step),D=c(()=>B.value===!0?t.tabindex||0:-1),E=c(()=>t.max-t.min),Q=c(()=>x.value-P.value),k=c(()=>Te(P.value)),g=c(()=>Te(x.value)),q=c(()=>t.vertical===!0?$.value===!0?"bottom":"top":$.value===!0?"right":"left"),h=c(()=>t.vertical===!0?"height":"width"),b=c(()=>t.vertical===!0?"width":"height"),p=c(()=>t.vertical===!0?"vertical":"horizontal"),U=c(()=>{const S={role:"slider","aria-valuemin":P.value,"aria-valuemax":x.value,"aria-orientation":p.value,"data-step":t.step};return t.disable===!0?S["aria-disabled"]="true":t.readonly===!0&&(S["aria-readonly"]="true"),S}),V=c(()=>`q-slider q-slider${_.value} q-slider--${d.value===!0?"":"in"}active inline no-wrap `+(t.vertical===!0?"row":"column")+(t.disable===!0?" disabled":" q-slider--enabled"+(B.value===!0?" q-slider--editable":""))+(m.value==="both"?" q-slider--focus":"")+(t.label||t.labelAlways===!0?" q-slider--label":"")+(t.labelAlways===!0?" q-slider--label-always":"")+(v.value===!0?" q-slider--dark":"")+(t.dense===!0?" q-slider--dense q-slider--dense"+_.value:""));function T(S){const O="q-slider__"+S;return`${O} ${O}${_.value} ${O}${_.value}${w.value}`}function J(S){const O="q-slider__"+S;return`${O} ${O}${_.value}`}const te=c(()=>{const S=t.selectionColor||t.color;return"q-slider__selection absolute"+(S!==void 0?` text-${S}`:"")}),H=c(()=>J("markers")+" absolute overflow-hidden"),Z=c(()=>J("track-container")),y=c(()=>T("pin")),j=c(()=>T("label")),I=c(()=>T("text-container")),G=c(()=>T("marker-labels-container")+(t.markerLabelsClass!==void 0?` ${t.markerLabelsClass}`:"")),W=c(()=>"q-slider__track relative-position no-outline"+(t.trackColor!==void 0?` bg-${t.trackColor}`:"")),ie=c(()=>{const S={[b.value]:t.trackSize};return t.trackImg!==void 0&&(S.backgroundImage=`url(${t.trackImg}) !important`),S}),we=c(()=>"q-slider__inner absolute"+(t.innerTrackColor!==void 0?` bg-${t.innerTrackColor}`:"")),ce=c(()=>{const S=g.value-k.value,O={[q.value]:`${100*k.value}%`,[h.value]:S===0?"2px":`${100*S}%`};return t.innerTrackImg!==void 0&&(O.backgroundImage=`url(${t.innerTrackImg}) !important`),O});function z(S){const{min:O,max:ee,step:ne}=t;let re=O+S*(ee-O);if(ne>0){const Se=(re-P.value)%ne;re+=(Math.abs(Se)>=ne/2?(Se<0?-1:1)*ne:0)-Se}return re=C.value(re),$e(re,P.value,x.value)}function Te(S){return E.value===0?0:(S-t.min)/E.value}function ve(S,O){const ee=Ve(S),ne=t.vertical===!0?$e((ee.top-O.top)/O.height,0,1):$e((ee.left-O.left)/O.width,0,1);return $e($.value===!0?1-ne:ne,k.value,g.value)}const rt=c(()=>Pt(t.markers)===!0?t.markers:M.value),st=c(()=>{const S=[],O=rt.value,ee=t.max;let ne=t.min;do S.push(ne),ne+=O;while(ne<ee);return S.push(ee),S}),ut=c(()=>{const S=` ${_t}${_.value}-`;return _t+`${S}${t.switchMarkerLabelsSide===!0?"switched":"standard"}${S}${$.value===!0?"rtl":"ltr"}`}),Oe=c(()=>t.markerLabels===!1?null:Gt(t.markerLabels).map((S,O)=>({index:O,value:S.value,label:S.label||S.value,classes:ut.value+(S.classes!==void 0?" "+S.classes:""),style:{...dt(S.value),...S.style||{}}}))),ct=c(()=>({markerList:Oe.value,markerMap:Jt.value,classes:ut.value,getStyle:dt})),Zt=c(()=>{const S=Q.value===0?"2px":100*rt.value/Q.value;return{...ce.value,backgroundSize:t.vertical===!0?`2px ${S}%`:`${S}% 2px`}});function Gt(S){if(S===!1)return null;if(S===!0)return st.value.map(xa);if(typeof S=="function")return st.value.map(ee=>{const ne=S(ee);return Qe(ne)===!0?{...ne,value:ee}:{value:ee,label:ne}});const O=({value:ee})=>ee>=t.min&&ee<=t.max;return Array.isArray(S)===!0?S.map(ee=>Qe(ee)===!0?ee:{value:ee}).filter(O):Object.keys(S).map(ee=>{const ne=S[ee],re=Number(ee);return Qe(ne)===!0?{...ne,value:re}:{value:re,label:ne}}).filter(O)}function dt(S){return{[q.value]:`${100*(S-t.min)/E.value}%`}}const Jt=c(()=>{if(t.markerLabels===!1)return null;const S={};return Oe.value.forEach(O=>{S[O.value]=O}),S});function en(){if(r["marker-label-group"]!==void 0)return r["marker-label-group"](ct.value);const S=r["marker-label"]||qa;return Oe.value.map(O=>S({marker:O,...ct.value}))}const tn=c(()=>[[Ca,nn,void 0,{[p.value]:!0,prevent:!0,stop:!0,mouse:!0,mouseAllDir:!0}]]);function nn(S){S.isFinal===!0?(u.value!==void 0&&(n(S.evt),S.touch===!0&&e(!0),u.value=void 0,a("pan","end")),d.value=!1,m.value=!1):S.isFirst===!0?(u.value=o(S.evt),n(S.evt),e(),d.value=!0,a("pan","start")):(n(S.evt),e())}function vt(){m.value=!1}function an(S){n(S,o(S)),e(),f.value=!0,d.value=!0,document.addEventListener("mouseup",je,!0)}function je(){f.value=!1,d.value=!1,e(!0),vt(),document.removeEventListener("mouseup",je,!0)}function on(S){n(S,o(S)),e(!0)}function ln(S){Wt.includes(S.keyCode)&&e(!0)}function rn(S){if(t.vertical===!0)return null;const O=s.lang.rtl!==t.reverse?1-S:S;return{transform:`translateX(calc(${2*O-1} * ${t.thumbSize} / 2 + ${50-100*O}%))`}}function sn(S){const O=c(()=>f.value===!1&&(m.value===S.focusValue||m.value==="both")?" q-slider--focus":""),ee=c(()=>`q-slider__thumb q-slider__thumb${_.value} q-slider__thumb${_.value}-${$.value===!0?"rtl":"ltr"} absolute non-selectable`+O.value+(S.thumbColor.value!==void 0?` text-${S.thumbColor.value}`:"")),ne=c(()=>({width:t.thumbSize,height:t.thumbSize,[q.value]:`${100*S.ratio.value}%`,zIndex:m.value===S.focusValue?2:void 0})),re=c(()=>S.labelColor.value!==void 0?` text-${S.labelColor.value}`:""),Se=c(()=>rn(S.ratio.value)),He=c(()=>"q-slider__text"+(S.labelTextColor.value!==void 0?` text-${S.labelTextColor.value}`:""));return()=>{const Ke=[N("svg",{class:"q-slider__thumb-shape absolute-full",viewBox:"0 0 20 20","aria-hidden":"true"},[N("path",{d:t.thumbPath})]),N("div",{class:"q-slider__focus-ring fit"})];return(t.label===!0||t.labelAlways===!0)&&(Ke.push(N("div",{class:y.value+" absolute fit no-pointer-events"+re.value},[N("div",{class:j.value,style:{minWidth:t.thumbSize}},[N("div",{class:I.value,style:Se.value},[N("span",{class:He.value},S.label.value)])])])),t.name!==void 0&&t.disable!==!0&&l(Ke,"push")),N("div",{class:ee.value,style:ne.value,...S.getNodeData()},Ke)}}function un(S,O,ee,ne){const re=[];t.innerTrackColor!=="transparent"&&re.push(N("div",{key:"inner",class:we.value,style:ce.value})),t.selectionColor!=="transparent"&&re.push(N("div",{key:"selection",class:te.value,style:S.value})),t.markers!==!1&&re.push(N("div",{key:"marker",class:H.value,style:Zt.value})),ne(re);const Se=[Dt("div",{key:"trackC",class:Z.value,tabindex:O.value,...ee.value},[N("div",{class:W.value,style:ie.value},re)],"slide",B.value,()=>tn.value)];if(t.markerLabels!==!1){const He=t.switchMarkerLabelsSide===!0?"unshift":"push";Se[He](N("div",{key:"markerL",class:G.value},en()))}return Se}return tt(()=>{document.removeEventListener("mouseup",je,!0)}),{state:{active:d,focus:m,preventFocus:f,dragging:u,editable:B,classes:V,tabindex:D,attributes:U,roundValueFn:C,keyStep:M,trackLen:E,innerMin:P,innerMinRatio:k,innerMax:x,innerMaxRatio:g,positionProp:q,sizeProp:h,isReversed:$},methods:{onActivate:an,onMobileClick:on,onBlur:vt,onKeyup:ln,getContent:un,getThumbRenderFn:sn,convertRatioToModel:z,convertModelToRatio:Te,getDraggingRatio:ve}}}const Na=()=>({}),Ua=de({name:"QSlider",props:{...$a,modelValue:{required:!0,default:null,validator:e=>typeof e=="number"||e===null},labelValue:[String,Number]},emits:Ma,setup(e,{emit:n}){const{proxy:{$q:o}}=ye(),{state:i,methods:t}=Ba({updateValue:_,updatePosition:$,getDragging:w,formAttrs:Pn(e)}),a=Y(null),r=Y(0),s=Y(0);function v(){s.value=e.modelValue===null?i.innerMin.value:$e(e.modelValue,i.innerMin.value,i.innerMax.value)}oe(()=>`${e.modelValue}|${i.innerMin.value}|${i.innerMax.value}`,v),v();const l=c(()=>t.convertModelToRatio(s.value)),d=c(()=>i.active.value===!0?r.value:l.value),f=c(()=>{const B={[i.positionProp.value]:`${100*i.innerMinRatio.value}%`,[i.sizeProp.value]:`${100*(d.value-i.innerMinRatio.value)}%`};return e.selectionImg!==void 0&&(B.backgroundImage=`url(${e.selectionImg}) !important`),B}),m=t.getThumbRenderFn({focusValue:!0,getNodeData:Na,ratio:d,label:c(()=>e.labelValue!==void 0?e.labelValue:s.value),thumbColor:c(()=>e.thumbColor||e.color),labelColor:c(()=>e.labelColor),labelTextColor:c(()=>e.labelTextColor)}),u=c(()=>i.editable.value!==!0?{}:o.platform.is.mobile===!0?{onClick:t.onMobileClick}:{onMousedown:t.onActivate,onFocus:P,onBlur:t.onBlur,onKeydown:x,onKeyup:t.onKeyup});function _(B){s.value!==e.modelValue&&n("update:modelValue",s.value),B===!0&&n("change",s.value)}function w(){return a.value.getBoundingClientRect()}function $(B,C=i.dragging.value){const M=t.getDraggingRatio(B,C);s.value=t.convertRatioToModel(M),r.value=e.snap!==!0||e.step===0?M:t.convertModelToRatio(s.value)}function P(){i.focus.value=!0}function x(B){if(Wt.includes(B.keyCode)===!1)return;Ie(B);const C=([34,33].includes(B.keyCode)?10:1)*i.keyStep.value,M=([34,37,40].includes(B.keyCode)?-1:1)*(i.isReversed.value===!0?-1:1)*(e.vertical===!0?-1:1)*C;s.value=$e(i.roundValueFn.value(s.value+M),i.innerMin.value,i.innerMax.value),_()}return()=>{const B=t.getContent(f,i.tabindex,u,C=>{C.push(m())});return N("div",{ref:a,class:i.classes.value+(e.modelValue===null?" q-slider--no-value":""),...i.attributes.value,"aria-valuenow":e.modelValue},B)}}});function Pa(e,n){function o(){const i=e.modelValue;try{const t="DataTransfer"in window?new DataTransfer:"ClipboardEvent"in window?new ClipboardEvent("").clipboardData:void 0;return Object(i)===i&&("length"in i?Array.from(i):[i]).forEach(a=>{t.items.add(a)}),{files:t.files}}catch{return{files:void 0}}}return c(()=>{if(e.type==="file")return o()})}const Va={ratio:[String,Number]};function Aa(e,n){return c(()=>{const o=Number(e.ratio||(n!==void 0?n.value:void 0));return isNaN(o)!==!0&&o>0?{paddingBottom:`${100/o}%`}:null})}const Ra=1.7778,Ia=de({name:"QImg",props:{...Va,src:String,srcset:String,sizes:String,alt:String,crossorigin:String,decoding:String,referrerpolicy:String,draggable:Boolean,loading:{type:String,default:"lazy"},loadingShowDelay:{type:[Number,String],default:0},fetchpriority:{type:String,default:"auto"},width:String,height:String,initialRatio:{type:[Number,String],default:Ra},placeholderSrc:String,errorSrc:String,fit:{type:String,default:"cover"},position:{type:String,default:"50% 50%"},imgClass:String,imgStyle:Object,noSpinner:Boolean,noNativeMenu:Boolean,noTransition:Boolean,spinnerColor:String,spinnerSize:String},emits:["load","error"],setup(e,{slots:n,emit:o}){const i=Y(e.initialRatio),t=Aa(e,i),a=ye(),{registerTimeout:r,removeTimeout:s}=Ye(),{registerTimeout:v,removeTimeout:l}=Ye(),d=c(()=>e.placeholderSrc!==void 0?{src:e.placeholderSrc}:null),f=c(()=>e.errorSrc!==void 0?{src:e.errorSrc,__qerror:!0}:null),m=[Y(null),Y(d.value)],u=Y(0),_=Y(!1),w=Y(!1),$=c(()=>`q-img q-img--${e.noNativeMenu===!0?"no-":""}menu`),P=c(()=>({width:e.width,height:e.height})),x=c(()=>`q-img__image ${e.imgClass!==void 0?e.imgClass+" ":""}q-img__image--with${e.noTransition===!0?"out":""}-transition q-img__image--`),B=c(()=>({...e.imgStyle,objectFit:e.fit,objectPosition:e.position}));function C(){if(l(),e.loadingShowDelay===0){_.value=!0;return}v(()=>{_.value=!0},e.loadingShowDelay)}function M(){l(),_.value=!1}function D({target:h}){We(a)===!1&&(s(),i.value=h.naturalHeight===0?.5:h.naturalWidth/h.naturalHeight,E(h,1))}function E(h,b){b===1e3||We(a)===!0||(h.complete===!0?Q(h):r(()=>{E(h,b+1)},50))}function Q(h){We(a)!==!0&&(u.value=u.value^1,m[u.value].value=null,M(),h.getAttribute("__qerror")!=="true"&&(w.value=!1),o("load",h.currentSrc||h.src))}function k(h){s(),M(),w.value=!0,m[u.value].value=f.value,m[u.value^1].value=d.value,o("error",h)}function g(h){const b=m[h].value,p={key:"img_"+h,class:x.value,style:B.value,alt:e.alt,crossorigin:e.crossorigin,decoding:e.decoding,referrerpolicy:e.referrerpolicy,height:e.height,width:e.width,loading:e.loading,fetchpriority:e.fetchpriority,"aria-hidden":"true",draggable:e.draggable,...b};return u.value===h?Object.assign(p,{class:p.class+"current",onLoad:D,onError:k}):p.class+="loaded",N("div",{class:"q-img__container absolute-full",key:"img"+h},N("img",p))}function q(){return _.value===!1?N("div",{key:"content",class:"q-img__content absolute-full q-anchor--skip"},ke(n[w.value===!0?"error":"default"])):N("div",{key:"loading",class:"q-img__loading absolute-full flex flex-center"},n.loading!==void 0?n.loading():e.noSpinner===!0?void 0:[N(Ot,{color:e.spinnerColor,size:e.spinnerSize})])}{let h=function(){oe(()=>e.src||e.srcset||e.sizes?{src:e.src,srcset:e.srcset,sizes:e.sizes}:null,b=>{s(),w.value=!1,b===null?(M(),m[u.value^1].value=d.value):C(),m[u.value].value=b},{immediate:!0})};dn.value===!0?Ee(h):h()}return()=>{const h=[];return t.value!==null&&h.push(N("div",{key:"filler",style:t.value})),m[0].value!==null&&h.push(g(0)),m[1].value!==null&&h.push(g(1)),h.push(N(Ut,{name:"q-transition--fade"},q)),N("div",{key:"main",class:$.value,style:P.value,role:"img","aria-label":e.alt},h)}}}),ht={date:"####/##/##",datetime:"####/##/## ##:##",time:"##:##",fulltime:"##:##:##",phone:"(###) ### - ####",card:"#### #### #### ####"},De={"#":{pattern:"[\\d]",negate:"[^\\d]"},S:{pattern:"[a-zA-Z]",negate:"[^a-zA-Z]"},N:{pattern:"[0-9a-zA-Z]",negate:"[^0-9a-zA-Z]"},A:{pattern:"[a-zA-Z]",negate:"[^a-zA-Z]",transform:e=>e.toLocaleUpperCase()},a:{pattern:"[a-zA-Z]",negate:"[^a-zA-Z]",transform:e=>e.toLocaleLowerCase()},X:{pattern:"[0-9a-zA-Z]",negate:"[^0-9a-zA-Z]",transform:e=>e.toLocaleUpperCase()},x:{pattern:"[0-9a-zA-Z]",negate:"[^0-9a-zA-Z]",transform:e=>e.toLocaleLowerCase()}},Xt=Object.keys(De);Xt.forEach(e=>{De[e].regex=new RegExp(De[e].pattern)});const Ea=new RegExp("\\\\([^.*+?^${}()|([\\]])|([.*+?^${}()|[\\]])|(["+Xt.join("")+"])|(.)","g"),bt=/[.*+?^${}()|[\]\\]/g,ae="",Ta={mask:String,reverseFillMask:Boolean,fillMask:[Boolean,String],unmaskedValue:Boolean};function Fa(e,n,o,i){let t,a,r,s,v,l;const d=Y(null),f=Y(u());function m(){return e.autogrow===!0||["textarea","text","search","url","tel","password"].includes(e.type)}oe(()=>e.type+e.autogrow,w),oe(()=>e.mask,k=>{if(k!==void 0)$(f.value,!0);else{const g=E(f.value);w(),e.modelValue!==g&&n("update:modelValue",g)}}),oe(()=>e.fillMask+e.reverseFillMask,()=>{d.value===!0&&$(f.value,!0)}),oe(()=>e.unmaskedValue,()=>{d.value===!0&&$(f.value)});function u(){if(w(),d.value===!0){const k=M(E(e.modelValue));return e.fillMask!==!1?Q(k):k}return e.modelValue}function _(k){if(k<t.length)return t.slice(-k);let g="",q=t;const h=q.indexOf(ae);if(h!==-1){for(let b=k-q.length;b>0;b--)g+=ae;q=q.slice(0,h)+g+q.slice(h)}return q}function w(){if(d.value=e.mask!==void 0&&e.mask.length!==0&&m(),d.value===!1){s=void 0,t="",a="";return}const k=ht[e.mask]===void 0?e.mask:ht[e.mask],g=typeof e.fillMask=="string"&&e.fillMask.length!==0?e.fillMask.slice(0,1):"_",q=g.replace(bt,"\\$&"),h=[],b=[],p=[];let U=e.reverseFillMask===!0,V="",T="";k.replace(Ea,(Z,y,j,I,G)=>{if(I!==void 0){const W=De[I];p.push(W),T=W.negate,U===!0&&(b.push("(?:"+T+"+)?("+W.pattern+"+)?(?:"+T+"+)?("+W.pattern+"+)?"),U=!1),b.push("(?:"+T+"+)?("+W.pattern+")?")}else if(j!==void 0)V="\\"+(j==="\\"?"":j),p.push(j),h.push("([^"+V+"]+)?"+V+"?");else{const W=y!==void 0?y:G;V=W==="\\"?"\\\\\\\\":W.replace(bt,"\\\\$&"),p.push(W),h.push("([^"+V+"]+)?"+V+"?")}});const J=new RegExp("^"+h.join("")+"("+(V===""?".":"[^"+V+"]")+"+)?"+(V===""?"":"["+V+"]*")+"$"),te=b.length-1,H=b.map((Z,y)=>y===0&&e.reverseFillMask===!0?new RegExp("^"+q+"*"+Z):y===te?new RegExp("^"+Z+"("+(T===""?".":T)+"+)?"+(e.reverseFillMask===!0?"$":q+"*")):new RegExp("^"+Z));r=p,s=Z=>{const y=J.exec(e.reverseFillMask===!0?Z:Z.slice(0,p.length+1));y!==null&&(Z=y.slice(1).join(""));const j=[],I=H.length;for(let G=0,W=Z;G<I;G++){const ie=H[G].exec(W);if(ie===null)break;W=W.slice(ie.shift().length),j.push(...ie)}return j.length!==0?j.join(""):Z},t=p.map(Z=>typeof Z=="string"?Z:ae).join(""),a=t.split(ae).join(g)}function $(k,g,q){const h=i.value,b=h.selectionEnd,p=h.value.length-b,U=E(k);g===!0&&w();const V=M(U),T=e.fillMask!==!1?Q(V):V,J=f.value!==T;h.value!==T&&(h.value=T),J===!0&&(f.value=T),document.activeElement===h&&Me(()=>{if(T===a){const H=e.reverseFillMask===!0?a.length:0;h.setSelectionRange(H,H,"forward");return}if(q==="insertFromPaste"&&e.reverseFillMask!==!0){const H=h.selectionEnd;let Z=b-1;for(let y=v;y<=Z&&y<H;y++)t[y]!==ae&&Z++;x.right(h,Z);return}if(["deleteContentBackward","deleteContentForward"].indexOf(q)!==-1){const H=e.reverseFillMask===!0?b===0?T.length>V.length?1:0:Math.max(0,T.length-(T===a?0:Math.min(V.length,p)+1))+1:b;h.setSelectionRange(H,H,"forward");return}if(e.reverseFillMask===!0)if(J===!0){const H=Math.max(0,T.length-(T===a?0:Math.min(V.length,p+1)));H===1&&b===1?h.setSelectionRange(H,H,"forward"):x.rightReverse(h,H)}else{const H=T.length-p;h.setSelectionRange(H,H,"backward")}else if(J===!0){const H=Math.max(0,t.indexOf(ae),Math.min(V.length,b)-1);x.right(h,H)}else{const H=b-1;x.right(h,H)}});const te=e.unmaskedValue===!0?E(T):T;String(e.modelValue)!==te&&(e.modelValue!==null||te!=="")&&o(te,!0)}function P(k,g,q){const h=M(E(k.value));g=Math.max(0,t.indexOf(ae),Math.min(h.length,g)),v=g,k.setSelectionRange(g,q,"forward")}const x={left(k,g){const q=t.slice(g-1).indexOf(ae)===-1;let h=Math.max(0,g-1);for(;h>=0;h--)if(t[h]===ae){g=h,q===!0&&g++;break}if(h<0&&t[g]!==void 0&&t[g]!==ae)return x.right(k,0);g>=0&&k.setSelectionRange(g,g,"backward")},right(k,g){const q=k.value.length;let h=Math.min(q,g+1);for(;h<=q;h++)if(t[h]===ae){g=h;break}else t[h-1]===ae&&(g=h);if(h>q&&t[g-1]!==void 0&&t[g-1]!==ae)return x.left(k,q);k.setSelectionRange(g,g,"forward")},leftReverse(k,g){const q=_(k.value.length);let h=Math.max(0,g-1);for(;h>=0;h--)if(q[h-1]===ae){g=h;break}else if(q[h]===ae&&(g=h,h===0))break;if(h<0&&q[g]!==void 0&&q[g]!==ae)return x.rightReverse(k,0);g>=0&&k.setSelectionRange(g,g,"backward")},rightReverse(k,g){const q=k.value.length,h=_(q),b=h.slice(0,g+1).indexOf(ae)===-1;let p=Math.min(q,g+1);for(;p<=q;p++)if(h[p-1]===ae){g=p,g>0&&b===!0&&g--;break}if(p>q&&h[g-1]!==void 0&&h[g-1]!==ae)return x.leftReverse(k,q);k.setSelectionRange(g,g,"forward")}};function B(k){n("click",k),l=void 0}function C(k){if(n("keydown",k),vn(k)===!0||k.altKey===!0)return;const g=i.value,q=g.selectionStart,h=g.selectionEnd;if(k.shiftKey||(l=void 0),k.keyCode===37||k.keyCode===39){k.shiftKey&&l===void 0&&(l=g.selectionDirection==="forward"?q:h);const b=x[(k.keyCode===39?"right":"left")+(e.reverseFillMask===!0?"Reverse":"")];if(k.preventDefault(),b(g,l===q?h:q),k.shiftKey){const p=g.selectionStart;g.setSelectionRange(Math.min(l,p),Math.max(l,p),"forward")}}else k.keyCode===8&&e.reverseFillMask!==!0&&q===h?(x.left(g,q),g.setSelectionRange(g.selectionStart,h,"backward")):k.keyCode===46&&e.reverseFillMask===!0&&q===h&&(x.rightReverse(g,h),g.setSelectionRange(q,g.selectionEnd,"forward"))}function M(k){if(k==null||k==="")return"";if(e.reverseFillMask===!0)return D(k);const g=r;let q=0,h="";for(let b=0;b<g.length;b++){const p=k[q],U=g[b];if(typeof U=="string")h+=U;else if(p!==void 0&&U.regex.test(p))h+=U.transform!==void 0?U.transform(p):p,q++;else return h}return h}function D(k){const g=r,q=t.indexOf(ae);let h=k.length-1,b="";for(let p=g.length-1;p>=0&&h!==-1;p--){const U=g[p];let V=k[h];if(typeof U=="string")b=U+b;else if(V!==void 0&&U.regex.test(V))do b=(U.transform!==void 0?U.transform(V):V)+b,h--,V=k[h];while(q===p&&V!==void 0&&U.regex.test(V));else return b}return b}function E(k){return typeof k!="string"||s===void 0?typeof k=="number"?s(""+k):k:s(k)}function Q(k){return a.length-k.length<=0?k:e.reverseFillMask===!0&&k.length!==0?a.slice(0,-k.length)+k:k+a.slice(k.length)}return{innerValue:f,hasMask:d,moveCursorForPaste:P,updateMaskValue:$,onMaskedKeydown:C,onMaskedClick:B}}const La=de({name:"QInput",inheritAttrs:!1,props:{...An,...Ta,...zt,modelValue:[String,Number,FileList],shadowText:String,type:{type:String,default:"text"},debounce:[String,Number],autogrow:Boolean,inputClass:[Array,String,Object],inputStyle:[Array,String,Object]},emits:[...Vn,"paste","change","keydown","click","animationend"],setup(e,{emit:n,attrs:o}){const{proxy:i}=ye(),{$q:t}=i,a={};let r=NaN,s,v,l=null,d;const f=Y(null),m=Rn(e),{innerValue:u,hasMask:_,moveCursorForPaste:w,updateMaskValue:$,onMaskedKeydown:P,onMaskedClick:x}=Fa(e,n,V,f),B=Pa(e),C=c(()=>mt(u.value)),M=En(p),D=In({changeEvent:!0}),E=c(()=>e.type==="textarea"||e.autogrow===!0),Q=c(()=>E.value===!0||["text","search","url","tel","password"].includes(e.type)),k=c(()=>{const y={...D.splitAttrs.listeners.value,onInput:p,onPaste:b,onChange:J,onBlur:te,onFocus:Be};return y.onCompositionstart=y.onCompositionupdate=y.onCompositionend=M,_.value===!0&&(y.onKeydown=P,y.onClick=x),e.autogrow===!0&&(y.onAnimationend=U),y}),g=c(()=>{const y={tabindex:0,"data-autofocus":e.autofocus===!0||void 0,rows:e.type==="textarea"?6:void 0,"aria-label":e.label,name:m.value,...D.splitAttrs.attributes.value,id:D.targetUid.value,maxlength:e.maxlength,disabled:e.disable===!0,readonly:e.readonly===!0};return E.value===!1&&(y.type=e.type),e.autogrow===!0&&(y.rows=1),y});oe(()=>e.type,()=>{f.value&&(f.value.value=e.modelValue)}),oe(()=>e.modelValue,y=>{if(_.value===!0){if(v===!0&&(v=!1,String(y)===r))return;$(y)}else u.value!==y&&(u.value=y,e.type==="number"&&a.hasOwnProperty("value")===!0&&(s===!0?s=!1:delete a.value));e.autogrow===!0&&Me(T)}),oe(()=>e.autogrow,y=>{y===!0?Me(T):f.value!==null&&o.rows>0&&(f.value.style.height="auto")}),oe(()=>e.dense,()=>{e.autogrow===!0&&Me(T)});function q(){Fn(()=>{const y=document.activeElement;f.value!==null&&f.value!==y&&(y===null||y.id!==D.targetUid.value)&&f.value.focus({preventScroll:!0})})}function h(){var y;(y=f.value)==null||y.select()}function b(y){if(_.value===!0&&e.reverseFillMask!==!0){const j=y.target;w(j,j.selectionStart,j.selectionEnd)}n("paste",y)}function p(y){if(!y||!y.target)return;if(e.type==="file"){n("update:modelValue",y.target.files);return}const j=y.target.value;if(y.target.qComposing===!0){a.value=j;return}if(_.value===!0)$(j,!1,y.inputType);else if(V(j),Q.value===!0&&y.target===document.activeElement){const{selectionStart:I,selectionEnd:G}=y.target;I!==void 0&&G!==void 0&&Me(()=>{y.target===document.activeElement&&j.indexOf(y.target.value)===0&&y.target.setSelectionRange(I,G)})}e.autogrow===!0&&T()}function U(y){n("animationend",y),T()}function V(y,j){d=()=>{l=null,e.type!=="number"&&a.hasOwnProperty("value")===!0&&delete a.value,e.modelValue!==y&&r!==y&&(r=y,j===!0&&(v=!0),n("update:modelValue",y),Me(()=>{r===y&&(r=NaN)})),d=void 0},e.type==="number"&&(s=!0,a.value=y),e.debounce!==void 0?(l!==null&&clearTimeout(l),a.value=y,l=setTimeout(d,e.debounce)):d()}function T(){requestAnimationFrame(()=>{const y=f.value;if(y!==null){const j=y.parentNode.style,{scrollTop:I}=y,{overflowY:G,maxHeight:W}=t.platform.is.firefox===!0?{}:window.getComputedStyle(y),ie=G!==void 0&&G!=="scroll";ie===!0&&(y.style.overflowY="hidden"),j.marginBottom=y.scrollHeight-1+"px",y.style.height="1px",y.style.height=y.scrollHeight+"px",ie===!0&&(y.style.overflowY=parseInt(W,10)<y.scrollHeight?"auto":"hidden"),j.marginBottom="",y.scrollTop=I}})}function J(y){M(y),l!==null&&(clearTimeout(l),l=null),d==null||d(),n("change",y.target.value)}function te(y){y!==void 0&&Be(y),l!==null&&(clearTimeout(l),l=null),d==null||d(),s=!1,v=!1,delete a.value,e.type!=="file"&&setTimeout(()=>{f.value!==null&&(f.value.value=u.value!==void 0?u.value:"")})}function H(){return a.hasOwnProperty("value")===!0?a.value:u.value!==void 0?u.value:""}tt(()=>{te()}),Ee(()=>{e.autogrow===!0&&T()}),Object.assign(D,{innerValue:u,fieldClass:c(()=>`q-${E.value===!0?"textarea":"input"}`+(e.autogrow===!0?" q-textarea--autogrow":"")),hasShadow:c(()=>e.type!=="file"&&typeof e.shadowText=="string"&&e.shadowText.length!==0),inputRef:f,emitValue:V,hasValue:C,floatingLabel:c(()=>C.value===!0&&(e.type!=="number"||isNaN(u.value)===!1)||mt(e.displayValue)),getControl:()=>N(E.value===!0?"textarea":"input",{ref:f,class:["q-field__native q-placeholder",e.inputClass],style:e.inputStyle,...g.value,...k.value,...e.type!=="file"?{value:H()}:B.value}),getShadowControl:()=>N("div",{class:"q-field__native q-field__shadow absolute-bottom no-pointer-events"+(E.value===!0?"":" text-no-wrap")},[N("span",{class:"invisible"},H()),N("span",e.shadowText)])});const Z=Tn(D);return Object.assign(i,{focus:q,select:h,getNativeElement:()=>f.value}),fn(i,"nativeEl",()=>f.value),Z}});function pt(e){if(e===!1)return 0;if(e===!0||e===void 0)return 1;const n=parseInt(e,10);return isNaN(n)?0:n}const Da=et({name:"close-popup",beforeMount(e,{value:n}){const o={depth:pt(n),handler(i){o.depth!==0&&setTimeout(()=>{const t=Ln(e);t!==void 0&&Dn(t,i,o.depth)})},handlerKey(i){mn(i,13)===!0&&o.handler(i)}};e.__qclosepopup=o,e.addEventListener("click",o.handler),e.addEventListener("keyup",o.handlerKey)},updated(e,{value:n,oldValue:o}){n!==o&&(e.__qclosepopup.depth=pt(n))},beforeUnmount(e){const n=e.__qclosepopup;e.removeEventListener("click",n.handler),e.removeEventListener("keyup",n.handlerKey),delete e.__qclosepopup}}),za=fe({__name:"ModifierDisplay",emits:["modify","reset"],setup(e,{emit:n}){const o=n;return(i,t)=>{const a=Gn,r=ge;return A(),K("div",null,[F(r,{round:"",flat:"",dense:"",color:"red","aria-label":"Decrease value",title:"Decrease value",onClick:t[0]||(t[0]=s=>o("modify",-5))},{default:X(()=>[F(a,{name:"line-md:chevron-small-double-left"})]),_:1}),F(r,{round:"",flat:"",dense:"",color:"red","aria-label":"Decrease value",title:"Decrease value",onClick:t[1]||(t[1]=s=>o("modify",-1))},{default:X(()=>[F(a,{name:"line-md:chevron-small-left"})]),_:1}),F(r,{round:"",flat:"",dense:"","aria-label":"Reset value",title:"Reset value",onClick:t[2]||(t[2]=s=>o("reset"))},{default:X(()=>[F(a,{name:"ion:ios-minus-empty"})]),_:1}),F(r,{round:"",flat:"",dense:"",color:"green","aria-label":"Increase value",title:"Increase value",onClick:t[3]||(t[3]=s=>o("modify",1))},{default:X(()=>[F(a,{name:"line-md:chevron-small-right"})]),_:1}),F(r,{round:"",flat:"",dense:"",color:"green","aria-label":"Increase value",title:"Increase value",onClick:t[4]||(t[4]=s=>o("modify",5))},{default:X(()=>[F(a,{name:"line-md:chevron-small-double-right"})]),_:1})])}}}),yt=_e(za,[["__scopeId","data-v-75fd0cf9"]]),Oa=fe({__name:"NumericInput",props:{baseValue:{default:0},modifier:{default:0},direction:{default:"left"}},emits:["update:modelValue"],setup(e,{expose:n,emit:o}){const i=e,t=c(()=>i.baseValue+i.modifier),a=Y(i.modifier),r=o;function s(m){const u=typeof m=="string"?Number(m):m??0;a.value=u-i.baseValue,r("update:modelValue",a.value),requestAnimationFrame(()=>{var _;return(_=document.activeElement)==null?void 0:_.blur()})}function v(m){m>0?a.value+=Math.round(Math.max(m,m*i.baseValue/100)):a.value+=Math.round(Math.min(m,m*i.baseValue/100)),r("update:modelValue",a.value)}function l(){f(),r("update:modelValue",a.value)}function d(m){const u=m.target;requestAnimationFrame(()=>u==null?void 0:u.select())}function f(){a.value=0}return n({reset:f}),(m,u)=>{const _=ta,w=La;return A(),ue(w,{"model-value":L(t),dense:"",standout:"custom-behavior",placeholder:m.baseValue,type:"number",debounce:"500","onUpdate:modelValue":s,onFocus:d},gn({append:X(()=>[m.modifier!==0?(A(),ue(_,{key:0,floating:"",color:m.modifier>0?"green":"red"},{default:X(()=>[qe(se(m.modifier),1)]),_:1},8,["color"])):le("",!0)]),_:2},[m.direction==="right"?{name:"after",fn:X(()=>[F(yt,{onModify:v,onReset:l})]),key:"0"}:void 0,m.direction==="left"?{name:"before",fn:X(()=>[F(yt,{onModify:v,onReset:l})]),key:"1"}:void 0]),1032,["model-value","placeholder"])}}}),ja=_e(Oa,[["__scopeId","data-v-d1dd2184"]]);function Ge(e,n){return n.split(".").reduce((o,i)=>o==null?void 0:o[i],e)}function Ha(e,n,o){const i=n.split(".");let t=e;for(let a=0;a<i.length-1;a++){const r=i[a];t[r]??(t[r]={}),t=t[r]}t[i[i.length-1]]=o}function Ae(){return Pe.reduce((e,n)=>(e[n]=0,e),{})}const Pe=["health.unit","armor","attack","defense","damage.normal","damage.piercing","damage.bonus_v_large","damage.bonus_v_infantry","resistance.physical","resistance.fire","resistance.ward_save"],Ka=[{path:"health.unit",color:"green",label:"Health"},{path:"attack",color:"blue",label:"Attack"},{path:"damage.normal",color:"green",label:"Damage Normal"},{path:"damage.piercing",color:"green",label:"Damage Piercing"},{path:"damage.bonus_v_large",color:"green",label:"Bonus V Large"},{path:"damage.bonus_v_infantry",color:"green",label:"Bonus V Infantry"},{path:"defense",color:"red",label:"Defense"},{path:"armor",color:"orange",label:"Armor"},{path:"resistance.physical",color:"pink",label:"Resistance Physical"},{path:"resistance.fire",color:"pink",label:"Resistance Fire"},{path:"resistance.ward_save",color:"pink",label:"Resistance Ward Save"}];function kt(e){if(!e.selection.unit)return e;const n=JSON.parse(JSON.stringify(e.selection.unit));for(const o of Object.keys(e.bonus))if(typeof e.bonus[o]=="number"){const i=Ge(n,o);Ha(n,o,i+e.bonus[o])}return{selection:{unit:n,version:e.selection.version,faction:e.selection.faction},entityNumber:e.entityNumber}}const Qa=40,Wa=8,Xa=90,Ya=95,Za=-100,Ga=100;function Ja(e,n){var r,s,v,l;const o=e.attack||0,i=n.defense||0,a=((s=(r=n.land_unit)==null?void 0:r.battle_entity)==null?void 0:s.size)!=="small"?((v=e.damage)==null?void 0:v.bonus_v_large)||0:((l=e.damage)==null?void 0:l.bonus_v_infantry)||0;return Math.max(Wa,Math.min(o-i+Qa+a,Xa))/100}function eo(e,n){var v,l,d,f,m,u;const i=((l=(v=n.land_unit)==null?void 0:v.battle_entity)==null?void 0:l.size)!=="small"?((d=e.damage)==null?void 0:d.bonus_v_large)||0:((f=e.damage)==null?void 0:f.bonus_v_infantry)||0,t=((m=e.damage)==null?void 0:m.normal)||0,a=((u=e.damage)==null?void 0:u.piercing)||0,r=t/(t+a),s=n.armor||0;return(t+i*r)*(1-Math.min(s*.75*.01,1))+a+i*(1-r)}function to(e,n){var s,v,l,d,f;const o=((s=n.resistance)==null?void 0:s.ward_save)||0,i=((v=n.resistance)==null?void 0:v.physical)||0,t=((l=n.resistance)==null?void 0:l.fire)||0,a=((d=e.damage)==null?void 0:d.is_magical)||!1,r=((f=e.damage)==null?void 0:f.is_fire)||!1;return Math.min(Ya,o+(a?0:Math.max(i,0))+(r?Math.min(Math.max(t,Za),Ga):0))/100}function wt(e,n){var a;const o=Ja(e,n),i=to(e,n);return o*(1-i)*eo(e,n)/(((a=n.health)==null?void 0:a.unit)||0)}function Re(e){return["Hero","Lord"].includes(e.caste)?1:e.land_unit.num_engines>0?e.land_unit.num_engines:e.num_men}function no(e,n){const o=wt(e.selection.unit,n.selection.unit)*Math.min(Re(e.selection.unit),e.entityNumber),i=wt(n.selection.unit,e.selection.unit)*Math.min(Re(n.selection.unit),n.entityNumber);function t(a,r,s){const v=1/r,d=1-v*s;return{winner:a,hitsNeeded:v,remainingHealth:d}}return o>i?t("left",o,i):i>o?t("right",i,o):t("left",o,i)}const ze=Vt("unit",{state:()=>({left:null,right:null}),actions:{setUnit(e,n){n?(this[e]=n,this[e].bonus=Ae()):this[e]=null},setUnitBonus(e,n){this[e]&&(n?this[e].bonus=n:this[e].bonus=Ae())},setUnitEntityCount(e,n){this[e]&&(this[e].entityNumber=n)},clearUnits(){this.left=null,this.right=null}},getters:{combatResult(){var e,n;return!((e=this.left)!=null&&e.selection.unit)||!((n=this.right)!=null&&n.selection.unit)?null:no(kt(this.left),kt(this.right))}},persist:{storage:_n.localStorage()}}),ao={class:"short-summary"},oo={key:0,class:"combat-result"},io={class:"winner-section"},lo={class:"hits-info"},ro={class:"health-display"},so={key:1,class:"no-combat"},uo=fe({__name:"ShortSummary",setup(e){const n=ze(),o=c(()=>n.combatResult),i=c(()=>{var l,d,f;if(!o.value)return"";const v=o.value.winner==="left"?(l=n.left)==null?void 0:l.selection.unit:(d=n.right)==null?void 0:d.selection.unit;return((f=v==null?void 0:v.land_unit)==null?void 0:f.onscreen_name)||"Unknown Unit"}),t=c(()=>{var l,d,f;if(!o.value)return"";const v=o.value.winner==="left"?(l=n.right)==null?void 0:l.selection.unit:(d=n.left)==null?void 0:d.selection.unit;return((f=v==null?void 0:v.land_unit)==null?void 0:f.onscreen_name)||"Unknown Unit"}),a=c(()=>{var v;return((v=o.value)==null?void 0:v.winner)==="left"?"text-positive":"text-negative"}),r=c(()=>{var v;return((v=o.value)==null?void 0:v.winner)==="left"?"bg-negative":"bg-positive"}),s=c(()=>{var l;const v=(((l=o.value)==null?void 0:l.remainingHealth)||0)*100;return v>=80?"green":v>=60?"light-green":v>=40?"orange":v>=20?"deep-orange":"red"});return(v,l)=>{const d=wa;return A(),K("div",ao,[o.value?(A(),K("div",oo,[R("div",io,[R("p",null,[R("span",{class:xe(["winner-title text-emphasized",a.value])},se(i.value),3),l[0]||(l[0]=qe(" wins! "))]),R("p",lo,[qe(" Takes "+se(o.value.hitsNeeded.toFixed(1))+" hits to defeat ",1),R("span",{class:xe(["loser-name text-emphasized",r.value])},se(t.value),3),l[1]||(l[1]=qe(", with "))])]),R("div",ro,[F(d,{"show-value":"",value:o.value.remainingHealth*100,size:"70px",thickness:.22,color:s.value,"track-color":"grey-3",class:"q-ma-md"},{default:X(()=>[qe(se((o.value.remainingHealth*100).toFixed(1))+"% ",1)]),_:1},8,["value","color"]),l[2]||(l[2]=R("span",{class:"health-label"},"Remaining Health",-1))])])):(A(),K("div",so,l[3]||(l[3]=[R("p",null,"Select two units to see combat results",-1)])))])}}}),co=_e(uo,[["__scopeId","data-v-e068347e"]]),be="https://res.cloudinary.com/fishofstone/image/upload/twwstats/api",vo="ui/skins/default/icon_cross.webp",fo="mon_64.webp";function Je(e,n){let o=`${be}/${e}`;if(n.general_portrait&&n.general_portrait.length>0){const i=n.general_portrait.replace("portholes","units").replace(".png",".webp");o+=`/${i}`}else n.unit_card_url?o+=`/ui/units/icons/${n.unit_card_url}.webp`:n.unit&&(o+=`/ui/units/icons/${n.unit}.webp`);return o}function St(e,n){let o=`${be}/${e}`;return o+=`/ui/common ui/unit_category_icons/${n.icon}.webp`,o}function Ct(e,n){let o=`${be}/${e}/ui/skins/default/unit_card_semicircle`;return n.special_categories&&(["Lord","Hero"].includes(n.caste)?o+="_hero":n.special_categories.includes("blessed_spawnings")?o+="_spawning":n.special_categories.includes("elector_counts")?o+="_elector":n.special_categories.includes("renown")&&(o+="_renown")),o+=".webp",o}function mo(e){return`${be}/${e}/ui/skins/default/unit_card_frame_plain.webp`}function go(e){return`${be}/${e}/ui/skins/default/unit_card_hover.webp`}const _o=["src","alt"],ho=["src","alt"],bo=["src","alt"],po=["src"],yo=["src"],ko=fe({__name:"UnitPortrait",props:{selected:{type:[Boolean,null],default:!1},versionId:{},unit:{}},setup(e){return(n,o)=>{var i,t,a;return A(),K("div",{class:xe(["unit-portrait",{selected:n.selected}])},[L(Je)(n.versionId,n.unit)?(A(),K("img",{key:0,src:L(Je)(n.versionId,n.unit),alt:((i=n.unit.land_unit)==null?void 0:i.onscreen_name)||n.unit.unit},null,8,_o)):le("",!0),L(Ct)(n.versionId,n.unit)?(A(),K("img",{key:1,src:L(Ct)(n.versionId,n.unit),alt:((t=n.unit.land_unit)==null?void 0:t.onscreen_name)||n.unit.unit},null,8,ho)):le("",!0),L(St)(n.versionId,n.unit)?(A(),K("img",{key:2,src:L(St)(n.versionId,n.unit),alt:((a=n.unit.land_unit)==null?void 0:a.onscreen_name)||n.unit.unit},null,8,bo)):le("",!0),R("img",{src:L(mo)(n.versionId)},null,8,po),R("img",{src:L(go)(n.versionId),class:"unit-hover"},null,8,yo)],2)}}}),wo=_e(ko,[["__scopeId","data-v-c4f09404"]]);async function Yt(e,n,o){var i,t,a,r,s,v,l,d,f,m,u,_,w,$,P,x,B,C,M,D,E,Q,k,g,q,h,b,p,U,V,T,J,te,H,Z,y,j,I,G,W,ie,we;if(!n||!o)throw new Error("ID de version et cl d'unit requis");try{const ce=await e.query({tww:{__args:{tww_version:n},unit:{__args:{id:o},unit:!0,caste:!0,num_men:!0,recruitment_cost:!0,upkeep_cost:!0,land_unit:{onscreen_name:!0,bonus_hit_points:!0,num_engines:!0,num_mounts:!0,battle_entity:{hit_points:!0,size:!0,type:!0},articulated_vehicle_entity:{hit_points:!0},engine:{battle_entity:{hit_points:!0,type:!0}},mount:{battle_entity:{hit_points:!0}},armour:{armour_value:!0},primary_melee_weapon:{damage:!0,ap_damage:!0,bonus_v_large:!0,bonus_v_infantry:!0,melee_attack_interval:!0,is_magical:!0,ignition_amount:!0},melee_attack:!0,melee_defence:!0,damage_mod_physical:!0,damage_mod_flame:!0,damage_mod_all:!0,variant:{unit_card_url:!0}},battle_mounts:{base_unit:!0,mounted_unit:!0,icon_name:!0,mount_name:!0},custom_battle_permissions:{general_portrait:!0},ui_unit_group:{icon:!0,parent_group:{onscreen_name:!0}},unit_sets:{special_category:!0}}}});if(!((i=ce==null?void 0:ce.tww)!=null&&i.unit))return null;const z=ce.tww.unit;return!z||typeof z.unit!="string"||typeof z.caste!="string"||typeof z.num_men!="number"||!z.land_unit?null:{version:n,unit:z.unit,caste:z.caste,num_men:z.num_men,recruitment_cost:Number(z.recruitment_cost||0),upkeep_cost:Number(z.upkeep_cost||0),land_unit:{num_engines:z.land_unit.num_engines||0,num_mounts:z.land_unit.num_mounts||0,onscreen_name:((t=z.land_unit)==null?void 0:t.onscreen_name)||"",bonus_hit_points:Number(((a=z.land_unit)==null?void 0:a.bonus_hit_points)||0),battle_entity:{hit_points:Number(((s=(r=z.land_unit)==null?void 0:r.battle_entity)==null?void 0:s.hit_points)||0),size:((l=(v=z.land_unit)==null?void 0:v.battle_entity)==null?void 0:l.size)||"small",type:((f=(d=z.land_unit)==null?void 0:d.battle_entity)==null?void 0:f.type)||""}},battle_mounts:(z.battle_mounts||[]).filter(ve=>ve!==null).map(ve=>({base_unit:ve.base_unit||"",mounted_unit:ve.mounted_unit||"",icon_name:ve.icon_name||"",mount_name:ve.mount_name||""})),health:{unit:zn(z),entity:Math.round(((u=(m=z.land_unit)==null?void 0:m.battle_entity)==null?void 0:u.hit_points)||0)},armor:Number(((w=(_=z.land_unit)==null?void 0:_.armour)==null?void 0:w.armour_value)||0),attack:Number((($=z.land_unit)==null?void 0:$.melee_attack)||0),defense:Number(((P=z.land_unit)==null?void 0:P.melee_defence)||0),attack_interval:Number(((B=(x=z.land_unit)==null?void 0:x.primary_melee_weapon)==null?void 0:B.melee_attack_interval)||0),damage:{normal:Number(((M=(C=z.land_unit)==null?void 0:C.primary_melee_weapon)==null?void 0:M.damage)||0),piercing:Number(((E=(D=z.land_unit)==null?void 0:D.primary_melee_weapon)==null?void 0:E.ap_damage)||0),is_magical:!!((k=(Q=z.land_unit)==null?void 0:Q.primary_melee_weapon)!=null&&k.is_magical),is_fire:Number(((q=(g=z.land_unit)==null?void 0:g.primary_melee_weapon)==null?void 0:q.ignition_amount)||0)>0,bonus_v_large:Number(((b=(h=z.land_unit)==null?void 0:h.primary_melee_weapon)==null?void 0:b.bonus_v_large)||0),bonus_v_infantry:Number(((U=(p=z.land_unit)==null?void 0:p.primary_melee_weapon)==null?void 0:U.bonus_v_infantry)||0)},resistance:{physical:Number(((V=z.land_unit)==null?void 0:V.damage_mod_physical)||0),fire:Number(((T=z.land_unit)==null?void 0:T.damage_mod_flame)||0),ward_save:Number(((J=z.land_unit)==null?void 0:J.damage_mod_all)||0)},is_large:((H=(te=z.land_unit)==null?void 0:te.battle_entity)==null?void 0:H.size)!=="small",icon:((Z=z.ui_unit_group)==null?void 0:Z.icon)||"",general_portrait:((j=(y=z.custom_battle_permissions)==null?void 0:y[0])==null?void 0:j.general_portrait)||"",group:((G=(I=z.ui_unit_group)==null?void 0:I.parent_group)==null?void 0:G.onscreen_name)||"",unit_card_url:((ie=(W=z.land_unit)==null?void 0:W.variant)==null?void 0:ie.unit_card_url)||"",special_categories:Array.from(new Set((we=z.unit_sets)==null?void 0:we.map(ve=>ve==null?void 0:ve.special_category)))||[]}}catch(ce){throw console.error("Erreur lors de la rcupration de l'unit:",ce),ce}}function xt(e,n){if(!(!e||!(n!=null&&n.flags_url)))return`${be}/${e}/${n.flags_url}/${fo}`}function qt(e,n){return`${be}/${e}/${n.replace(/\.png/,".webp")}`}function So(e){return`${be}/${e}/ui/skins/default/fe_frame_glow.webp`}function Co(e){return`${be}/${e}/ui/skins/default/build_city_chain_frame.webp`}const xo=["src"],qo=["src"],$o=["src","alt"],Mo={class:"label"},Bo=fe({__name:"SquarePortrait",props:{versionId:{default:"7020588859072995689"},imageUrl:{default:""},label:{},selected:{type:Boolean,default:!1}},setup(e){return(n,o)=>(A(),K("div",{class:xe(["container",{selected:n.selected}])},[R("img",{src:L(So)(n.versionId)},null,8,xo),R("img",{src:L(Co)(n.versionId),class:"square-hover"},null,8,qo),hn(n.$slots,"default",{},()=>[n.imageUrl?(A(),K("img",{key:0,src:n.imageUrl,alt:n.label,class:"item-card__image",fit:"contain"},null,8,$o)):le("",!0)]),R("div",Mo,se(n.label),1)],2))}}),$t=_e(Bo,[["__scopeId","data-v-f11b5fcc"]]);function No(e){return`${be}/${e.id}/ui/skins/default/fe_logo.webp`}const Uo=Vt("memory",{state:()=>({last_version:null}),actions:{setLastVersion(e){this.last_version=e},clearSession(){this.last_version=null}},persist:{storage:sessionStorage,key:"tww3-brawl-memory"}}),Po={class:"row items-center q-gutter-x-sm"},Vo={class:"q-mb-md"},Ao={key:0,class:"version-icons-row"},Ro=["src","alt"],Io={class:"q-mb-md"},Eo={key:0,class:"faction-icons-row"},To=["src","alt"],Fo={class:"q-mb-md"},Lo={key:0},Do={class:"group-label"},zo={class:"unit-icons-row"},Oo=["onClick"],jo={class:"unit-label"},Ho={key:1},Ko=fe({__name:"SelectUnit",props:{unitSelection:{},version:{}},emits:["update:unitSelection","update:version"],setup(e,{emit:n}){const o=Y(null),i=Y("version"),t=Y(!1),a=Uo(),r=n,s=Y(null),v=c({get:()=>{var b;return(b=s.value)!=null&&b.version?s.value.version:a.last_version},set:b=>{a.setLastVersion(b),s.value?s.value.version=b:b&&(s.value={unit:void 0,version:b,faction:void 0})}}),l=c({get:()=>{var b;return((b=s.value)==null?void 0:b.faction)||null},set:b=>{s.value?s.value.faction=b:b&&(s.value={unit:void 0,version:void 0,faction:b})}}),d=c({get:()=>{var b;return((b=s.value)==null?void 0:b.unit)||null},set:b=>{s.value?s.value.unit=b:b&&(s.value={unit:b,version:void 0,faction:void 0})}}),{data:f,isLoading:m}=jt(),u=c(()=>f.value?(console.log(f.value),f.value):[]),_=c(()=>{var b,p;return((p=(b=s.value)==null?void 0:b.version)==null?void 0:p.id)??""}),{data:w,isLoading:$,refetch:P}=On(_),x=c(()=>w.value?w.value:[]),B=c(()=>{var b,p;return((p=(b=s.value)==null?void 0:b.faction)==null?void 0:p.key)??""}),{data:C,isLoading:M,refetch:D}=jn(_,B);c(()=>C.value?C.value.map(b=>{var p;return{label:((p=b.land_unit)==null?void 0:p.onscreen_name)||b.unit,value:b.unit}}):[]);const E=c(()=>{var T;if(!C.value)return{};const b={};for(const J of C.value){const te=J.group||"Autres";b[te]||(b[te]=[]),b[te].push(J)}const p={};for(const[J,te]of Object.entries(b)){const H={};for(const y of te){const j=((T=y.land_unit)==null?void 0:T.onscreen_name)||y.unit;H[j]||(H[j]=[]),H[j].push(y)}const Z=[];for(const y in H){const j=H[y].sort((I,G)=>{const W=I.recruitment_cost||0,ie=G.recruitment_cost||0;return W-ie})[0];Z.push(j)}Z.sort((y,j)=>{var we,ce;const I=y.recruitment_cost||0,G=j.recruitment_cost||0;if(I!==G)return I-G;const W=((we=y.land_unit)==null?void 0:we.onscreen_name)||y.unit,ie=((ce=j.land_unit)==null?void 0:ce.onscreen_name)||j.unit;return W.localeCompare(ie)}),p[J]=Z}const U=["Lords","Heroes","Infantry","Missile Infantry","Cavalry & Chariots","Missile Cavalry & Chariots","Artillery & War Machines"],V={};for(const J of U)p[J]&&(V[J]=p[J]);for(const[J,te]of Object.entries(p))U.includes(J)||(V[J]=te);return V});oe(t,async b=>{b&&(!s.value||!s.value.unit)&&a.last_version&&(v.value=a.last_version,i.value="faction",await P())}),oe(i,async b=>{b==="version"?s.value&&(s.value.faction=void 0,s.value.unit=void 0):b==="faction"?(await P(),s.value&&(s.value.unit=void 0)):b==="unit"&&await D()});const Q=()=>{i.value==="version"&&v.value?(l.value=void 0,d.value=void 0,i.value="faction"):i.value==="faction"&&l.value&&(d.value=void 0,i.value="unit")},k=()=>{i.value==="unit"?(d.value=void 0,i.value="faction"):i.value==="faction"&&(l.value=void 0,i.value="version")},g=b=>{v.value=b,i.value="faction"},q=b=>{l.value=b,i.value="unit"},h=b=>{d.value=b,s.value&&(t.value=!1,r("update:unitSelection",s.value))};return(b,p)=>{const U=ge,V=Kn,T=pa,J=Ot,te=ba,H=it,Z=la,y=ot,j=Hn;return A(),K("div",Po,[F(U,{label:"Pick a Unit",color:"primary",onClick:p[0]||(p[0]=I=>t.value=!0)}),F(j,{modelValue:t.value,"onUpdate:modelValue":p[6]||(p[6]=I=>t.value=I)},{default:X(()=>[F(y,{class:"custom"},{default:X(()=>[F(H,{class:"q-card-section-custom"},{default:X(()=>[F(te,{ref_key:"carouselRef",ref:o,padding:!1,modelValue:i.value,"onUpdate:modelValue":p[3]||(p[3]=I=>i.value=I),autoplay:!1,"transition-prev":"slide-left","transition-next":"slide-right","aria-hidden":"true",class:"q-carousel-custom"},{default:X(()=>[F(T,{name:"version",key:"version"},{default:X(()=>[R("div",Vo,[F(V,{modelValue:v.value,"onUpdate:modelValue":p[1]||(p[1]=I=>v.value=I),options:u.value,loading:L(m),label:"Versions",dense:"",outlined:"","option-label":"name","option-value":"id"},null,8,["modelValue","options","loading"]),L(f)&&i.value==="version"?(A(),K("div",Ao,[L(f)&&i.value==="version"?(A(!0),K(me,{key:0},pe(L(f),I=>(A(),ue($t,{key:I.id,label:I.name,selected:v.value&&v.value.id===I.id||!1,onClick:G=>g(I)},{default:X(()=>[R("img",{src:L(No)(I),class:"square-icon-image",alt:I.name},null,8,Ro)]),_:2},1032,["label","selected","onClick"]))),128)):le("",!0)])):le("",!0)])]),_:1}),F(T,{name:"faction",key:"faction"},{default:X(()=>[R("div",Io,[F(V,{modelValue:l.value,"onUpdate:modelValue":p[2]||(p[2]=I=>l.value=I),options:x.value,loading:L($),disable:!v.value||L($),label:"Faction",dense:"",outlined:"","option-label":"screen_name","option-value":"key"},null,8,["modelValue","options","loading","disable"]),L(w)&&i.value==="faction"?(A(),K("div",Eo,[(A(!0),K(me,null,pe(L(w),I=>{var G;return A(),ue($t,{key:I.key,label:((G=I.subculture)==null?void 0:G.name)||I.key,selected:l.value&&l.value.key===I.key||!1,onClick:W=>q(I)},{default:X(()=>[L(xt)(_.value,I)?(A(),K("img",{key:0,src:L(xt)(_.value,I),alt:I.screen_name||I.key},null,8,To)):le("",!0)]),_:2},1032,["label","selected","onClick"])}),128))])):le("",!0)])]),_:1}),F(T,{name:"unit",key:"unit"},{default:X(()=>[R("div",Fo,[L(C)&&Object.keys(E.value).length>0?(A(),K("div",Lo,[(A(!0),K(me,null,pe(E.value,(I,G)=>(A(),K("div",{key:G,class:"unit-group-block"},[R("div",Do,se(G),1),R("div",zo,[(A(!0),K(me,null,pe(I,W=>{var ie;return A(),K("div",{key:W.unit,class:"unit-icon-container",onClick:we=>h(W)},[F(wo,{versionId:_.value,unit:W,selected:d.value&&d.value.unit===W.unit},null,8,["versionId","unit","selected"]),R("div",jo,se(((ie=W.land_unit)==null?void 0:ie.onscreen_name)||W.unit),1)],8,Oo)}),128))])]))),128))])):(A(),K("div",Ho,[F(J,{color:"primary"})]))])]),_:1})]),_:1},8,["modelValue"])]),_:1}),F(Z,{class:"text-primary q-card-actions-custom",align:"between"},{default:X(()=>[i.value==="version"?(A(),ue(U,{key:0,label:"Fermer",flat:"",dense:"",onClick:p[4]||(p[4]=I=>t.value=!1)})):(A(),ue(U,{key:1,label:"Back",flat:"",dense:"",onClick:k})),i.value!=="unit"?(A(),ue(U,{key:2,disable:i.value==="version"&&!v.value||i.value==="faction"&&!l.value,label:"Next",color:"primary",flat:"",dense:"",onClick:Q},null,8,["disable"])):(A(),ue(U,{key:3,disable:!d.value||!v.value||!l.value,label:"Finish",color:"primary",flat:"",dense:"",onClick:p[5]||(p[5]=()=>{t.value=!1,s.value&&r("update:unitSelection",s.value)})},null,8,["disable"]))]),_:1})]),_:1})]),_:1},8,["modelValue"])])}}}),Qo=_e(Ko,[["__scopeId","data-v-fc56ebd3"]]);function Wo(e,n,o){const i=Ht();return Qn({queryKey:["tww","versions",e,"units",n],queryFn:()=>Yt(i,e.value,n.value),staleTime:30*60*1e3,enabled:!!e.value&&!!n.value})}const Xo={class:"row items-center"},Yo=["src"],Zo=["src"],Go=fe({__name:"MountPicker",props:{unit:{}},emits:["update:unit"],setup(e,{emit:n}){const o=e,i=n,t=c(()=>{var _;return(_=r.value.find(w=>w.mounted_unit===o.unit.unit))==null?void 0:_.icon_name}),a=Y(null),r=c(()=>{const _=o.unit.battle_mounts;if(_.length>0){const w={base_unit:_[0].base_unit,mounted_unit:_[0].base_unit,icon_name:vo,mount_name:"On Foot"};return[..._,w]}return[]}),s=c(()=>o.unit.version),v=c(()=>a.value||""),{data:l,isLoading:d,error:f,refetch:m}=Wo(s,v);oe(a,async _=>{_!==null&&(await m(),l.value&&i("update:unit",l.value))},{immediate:!0});function u(_){const w=_.mounted_unit;w!==o.unit.unit&&(a.value=w)}return(_,w)=>{const $=Jn,P=Xn,x=Wn,B=ia,C=Da;return A(),K("div",Xo,[F(B,null,{default:X(()=>[F(x,null,{default:X(()=>[(A(!0),K(me,null,pe(r.value,M=>bn((A(),ue(P,{key:M.mounted_unit,onClick:D=>u(M),clickable:""},{default:X(()=>[F($,null,{default:X(()=>[R("img",{src:L(qt)(_.unit.version,M.icon_name)},null,8,Yo)]),_:2},1024),qe(" "+se(M.mount_name),1)]),_:2},1032,["onClick"])),[[C]])),128))]),_:1})]),_:1}),F($,null,{default:X(()=>[R("img",{src:L(qt)(_.unit.version,t.value||"")},null,8,Zo)]),_:1})])}}});function Jo(e){let n="https://twwstats.com/unitscards?";const o=e.map(i=>"units=f"+encodeURIComponent(`=0&k=${i.unit.unit}&v=${i.version.id}&m&r=0`)).join("&");return n+o}const ei={class:"unit-label text-xl"},ti=["href"],ni={class:"q-mt-md row justify-between"},ai=fe({__name:"index",props:{orientation:{default:"left"},modelValue:{}},emits:["update:modelValue"],setup(e,{emit:n}){const o=ze(),i=c(()=>{var m;return((m=a.modelValue)==null?void 0:m.selection)||null}),t=Y(null),a=e,r=n;function s(m){const u=m.num_men||1,_=Math.min(15,u);a.modelValue&&(a.modelValue.selection.unit=m,r("update:modelValue",{unitWithEntityNumberAndBonus:{selection:a.modelValue.selection,entityNumber:_,bonus:a.modelValue.bonus},mount_changed:!0}))}function v(m){const u=Re(m.unit),_=Math.min(15,u);r("update:modelValue",{unitWithEntityNumberAndBonus:{selection:m,entityNumber:_,bonus:Ae()},mount_changed:!1})}const l=c(()=>{var m,u,_;return(_=(u=(m=i.value)==null?void 0:m.unit)==null?void 0:u.land_unit)!=null&&_.onscreen_name?i.value.unit.land_unit.onscreen_name:"Unit Title"}),d=c(()=>{var m,u,_;if((m=i.value)!=null&&m.unit&&((_=(u=i.value)==null?void 0:u.version)!=null&&_.id)){const w=Je(i.value.version.id,i.value.unit);if(w)return w}return"/default-unit-image.jpg"}),f=c(()=>{var u,_,w,$,P,x,B,C,M,D,E,Q,k;let m=[];return(u=i.value)!=null&&u.unit&&((w=(_=i.value)==null?void 0:_.version)!=null&&w.id)&&m.push({unit:i.value.unit,version:i.value.version}),a.orientation==="left"&&((P=($=o.right)==null?void 0:$.selection)!=null&&P.unit)&&((C=(B=(x=o.right)==null?void 0:x.selection)==null?void 0:B.version)!=null&&C.id)&&m.push({unit:o.right.selection.unit,version:o.right.selection.version}),a.orientation==="right"&&((D=(M=o.left)==null?void 0:M.selection)!=null&&D.unit)&&((k=(Q=(E=o.left)==null?void 0:E.selection)==null?void 0:Q.version)!=null&&k.id)&&m.push({unit:o.left.selection.unit,version:o.left.selection.version}),Jo(m)});return(m,u)=>{const _=Ia,w=it,$=ot;return A(),ue($,{class:"unit-card"},{default:X(()=>[F(w,null,{default:X(()=>[F(_,{src:d.value,ratio:16/9,fit:"contain",class:"unit-image",alt:"Unit Portrait"},null,8,["src"]),R("div",ei,[f.value?(A(),K("a",{key:0,href:f.value,target:"_blank"},se(l.value),9,ti)):le("",!0)])]),_:1}),F(w,{class:xe([m.orientation,"card-section"])},{default:X(()=>{var P,x,B,C,M,D;return[R("div",ni,[F(Qo,{unitSelection:i.value,version:L(t),"onUpdate:unitSelection":u[0]||(u[0]=E=>v(E)),"onUpdate:version":u[1]||(u[1]=E=>t.value=E)},null,8,["unitSelection","version"]),(B=(x=(P=i.value)==null?void 0:P.unit)==null?void 0:x.battle_mounts)!=null&&B.length&&((D=(M=(C=i.value)==null?void 0:C.unit)==null?void 0:M.battle_mounts)==null?void 0:D.length)>0?(A(),ue(Go,{key:0,unit:i.value.unit,"onUpdate:unit":u[2]||(u[2]=E=>s(E))},null,8,["unit"])):le("",!0)])]}),_:1},8,["class"])]),_:1})}}}),oi=_e(ai,[["__scopeId","data-v-f08ff1fb"]]),ii={key:0,class:"col-6"},li={class:"text-caption q-mb-xs"},ri={class:"q-mt-md"},si={class:"row q-gutter-xs"},ui=fe({__name:"EntitySliders",props:{entityNumber:{},maxEntities:{}},emits:["update:entityNumber"],setup(e,{emit:n}){const o=n,i=[6,10,14,20],t=a=>{a!==null&&o("update:entityNumber",a)};return(a,r)=>{const s=Ua,v=ge,l=it,d=ot;return a.maxEntities>1?(A(),K("div",ii,[F(d,null,{default:X(()=>[F(l,null,{default:X(()=>[R("div",li," Active entities: "+se(a.entityNumber),1),F(s,{"model-value":a.entityNumber,"onUpdate:modelValue":t,min:1,max:a.maxEntities,step:1,label:"","label-always":""},null,8,["model-value","max"]),R("div",ri,[r[0]||(r[0]=R("div",{class:"text-caption q-mb-xs"},"Quick select:",-1)),R("div",si,[(A(),K(me,null,pe(i,f=>F(v,{key:f,label:f.toString(),color:a.entityNumber===f?"primary":"grey-6",outline:a.entityNumber!==f,size:"sm",onClick:m=>t(f),disable:f>a.maxEntities},null,8,["label","color","outline","onClick","disable"])),64))])])]),_:1})]),_:1})])):le("",!0)}}}),ci=_e(ui,[["__scopeId","data-v-95171e5f"]]),di=fe({__name:"ValueDisplay",props:{value:{type:[Number,Boolean]},isUpdatable:{type:Boolean},bonus:{default:0},orientation:{}},emits:["update"],setup(e,{expose:n,emit:o}){const i=o;function t(l){r.value=l,i("update",r.value)}const r=Y(e.bonus),s=Y(null);function v(){var l;r.value=0,(l=s.value)==null||l.reset()}return n({reset:v}),(l,d)=>(A(),K("div",{class:xe(["container",{reverse:l.orientation==="right"}])},[R("div",{class:xe(["left base",{right:l.orientation==="right"}])},[typeof l.value=="number"&&l.isUpdatable?(A(),ue(ja,{key:0,ref_key:"numericInputRef",ref:s,modifier:r.value,baseValue:l.value,"onUpdate:modelValue":t,direction:l.orientation},null,8,["modifier","baseValue","direction"])):(A(),K(me,{key:1},[qe(se(l.value),1)],64))],2)],2))}}),Mt=_e(di,[["__scopeId","data-v-14341811"]]),vi={scope:"col",class:"text-right unit-column"},fi={scope:"col",class:"text-left unit-column"},mi={scope:"col",class:"unit-column"},gi={scope:"col",class:"unit-column"},_i={key:0,class:"unit-column"},hi={class:"text-center stat-column"},bi={key:1,class:"unit-column"},pi=fe({__name:"index",props:{leftUnit:{},rightUnit:{}},emits:["update"],setup(e,{expose:n,emit:o}){const i=e,t=o;function a(d,f,m){t("update",d,f,m)}const r=Y([]),s=Y([]);function v(d){l(d);for(const f of Pe)t("update",d,f,0);d==="left"?i.leftUnit&&(i.leftUnit.bonus=Ae()):i.rightUnit&&(i.rightUnit.bonus=Ae())}function l(d){d==="left"?s.value.forEach(f=>f==null?void 0:f.reset()):r.value.forEach(f=>f==null?void 0:f.reset())}return n({reset:l}),(d,f)=>{var _,w,$,P;const m=ge,u=Yn;return(w=(_=d.leftUnit)==null?void 0:_.selection)!=null&&w.unit&&((P=($=d.rightUnit)==null?void 0:$.selection)!=null&&P.unit)?(A(),ue(u,{key:0,separator:"none",flat:"",bordered:""},{default:X(()=>{var x,B,C,M,D,E,Q,k;return[R("thead",null,[R("tr",null,[R("th",vi,[R("b",null,se((M=(C=(B=(x=d.leftUnit)==null?void 0:x.selection)==null?void 0:B.unit)==null?void 0:C.land_unit)==null?void 0:M.onscreen_name),1)]),f[2]||(f[2]=R("th",{scope:"col",class:"text-center stat-column"},[R("b",null,"Statistic")],-1)),R("th",fi,[R("b",null,se((k=(Q=(E=(D=d.rightUnit)==null?void 0:D.selection)==null?void 0:E.unit)==null?void 0:Q.land_unit)==null?void 0:k.onscreen_name),1)])]),R("tr",null,[R("th",mi,[F(m,{label:"Reset",color:"warning",icon:"refresh",onClick:f[0]||(f[0]=g=>v("left"))})]),f[3]||(f[3]=R("th",{scope:"col",class:"stat-column"},null,-1)),R("th",gi,[F(m,{label:"Reset",color:"warning",icon:"refresh",onClick:f[1]||(f[1]=g=>v("right"))})])])]),R("tbody",null,[(A(!0),K(me,null,pe(L(Ka),g=>{var q,h,b,p;return A(),K("tr",{key:g.path},[(h=(q=d.leftUnit)==null?void 0:q.selection)!=null&&h.unit?(A(),K("td",_i,[F(Mt,{ref_for:!0,ref_key:"leftUnitRef",ref:s,value:L(Ge)(d.leftUnit.selection.unit,g.path),bonus:d.leftUnit.bonus[g.path],isUpdatable:L(Pe).includes(g.path),onUpdate:U=>a("left",g.path,U),orientation:"left"},null,8,["value","bonus","isUpdatable","onUpdate"])])):le("",!0),R("td",hi,se(g.label),1),(p=(b=d.rightUnit)==null?void 0:b.selection)!=null&&p.unit?(A(),K("td",bi,[F(Mt,{ref_for:!0,ref_key:"rightUnitRef",ref:r,value:L(Ge)(d.rightUnit.selection.unit,g.path),bonus:d.rightUnit.bonus[g.path],isUpdatable:L(Pe).includes(g.path),onUpdate:U=>a("right",g.path,U),orientation:"right"},null,8,["value","bonus","isUpdatable","onUpdate"])])):le("",!0)])}),128))])]}),_:1})):le("",!0)}}}),yi=_e(pi,[["__scopeId","data-v-4724c2a2"]]);function ki(){const e=pn(),n=yn(),o=ze(),{data:i,isLoading:t}=jt(),a=Zn(),r=Ht();function s(u){var w,$;if(!((w=u==null?void 0:u.selection)!=null&&w.unit)||!(($=u==null?void 0:u.selection)!=null&&$.version))return null;const _=[`${u.selection.unit.unit}`,`${u.selection.version.id}`];for(const P of Pe){const x=u.bonus[P];x!==void 0&&x!==0&&_.push(`${P}=${x}`)}return _.join("|")}function v(u){if(!u||typeof u!="string")return null;const _=u.split("|");if(_.length<2)return null;const[w,$,...P]=_;if(!w||!$)return null;const x=Ae();for(const B of P){const[C,M]=B.split("=");if(C&&M!==void 0){const D=Number.parseFloat(M);!Number.isNaN(D)&&Pe.includes(C)&&(x[C]=D)}}return{unit_id:w,version:$,bonus:x}}function l(){const u=s(o.left),_=s(o.right),w={};u&&(w.left=u),_&&(w.right=_),n.replace({query:w})}async function d(u){const _=Array.isArray(u)?u[0]:u,w=v(_);if(!w||!i.value)return null;const $=i.value.find(x=>x.id===w.version);if(!$)return null;const P=["tww","versions",w.version,"units",w.unit_id];try{const x=await a.fetchQuery({queryKey:P,queryFn:()=>Yt(r,w.version,w.unit_id),staleTime:18e5});if(!x)return null;const B=Re(x),C=Math.min(15,B);return{selection:{unit:x,version:$,faction:void 0},entityNumber:C,bonus:w.bonus}}catch(x){return console.error("Error loading unit from URL:",x),null}}async function f(){const u=e.query.left,_=e.query.right;if(t.value&&await new Promise(w=>{const $=oe(t,P=>{P||($(),w())})}),!!i.value){if(u){const w=await d(u);w&&o.setUnit("left",w)}if(_){const w=await d(_);w&&o.setUnit("right",w)}}}function m(){oe(()=>{var u,_,w,$,P,x,B,C,M,D,E,Q,k,g;return[(w=(_=(u=o.left)==null?void 0:u.selection)==null?void 0:_.unit)==null?void 0:w.unit,(x=(P=($=o.left)==null?void 0:$.selection)==null?void 0:P.version)==null?void 0:x.id,(B=o.left)==null?void 0:B.bonus,(D=(M=(C=o.right)==null?void 0:C.selection)==null?void 0:M.unit)==null?void 0:D.unit,(k=(Q=(E=o.right)==null?void 0:E.selection)==null?void 0:Q.version)==null?void 0:k.id,(g=o.right)==null?void 0:g.bonus]},()=>{l()},{immediate:!1,deep:!0})}return{updateUrl:l,initializeFromUrl:f,watchStoreChanges:m}}const wi={class:"q-pa-md container"},Si={class:"justify-center items-center unit-cards-container"},Ci={class:"text-center"},xi={key:0,class:"entity-sliders-container"},qi={class:"entity-slider"},$i=fe({__name:"index",setup(e){const n=ze(),o=Y(null),{initializeFromUrl:i,watchStoreChanges:t}=ki();Ee(async()=>{await i(),t()});const a=(v,l)=>{var f,m;const d=((f=n[v])==null?void 0:f.bonus)??null;n[v]=l.unitWithEntityNumberAndBonus,l.mount_changed?n.setUnitBonus(v,d):(m=o.value)==null||m.reset(v)},r=(v,l,d)=>{var m;const f=((m=n[v])==null?void 0:m.bonus)??null;f&&(f[l]=d),n.setUnitBonus(v,f)},s=()=>{n.clearUnits()};return(v,l)=>{var m,u,_,w,$,P;const d=ge,f=co;return A(),K(me,null,[l[1]||(l[1]=R("h1",null,"TWW3 Brawl",-1)),R("div",wi,[R("div",Si,[(A(),K(me,null,pe(["left","right"],x=>F(oi,{orientation:x,class:xe(["unit-card",{"bg-positive":x==="left","bg-negative":x==="right"}]),modelValue:L(n)[x],"onUpdate:modelValue":B=>a(x,B)},null,8,["orientation","class","modelValue","onUpdate:modelValue"])),64))]),R("div",Ci,[F(d,{label:"Reset",color:"warning",icon:"refresh",onClick:s})]),(_=(u=(m=L(n))==null?void 0:m.left)==null?void 0:u.selection)!=null&&_.unit||(P=($=(w=L(n))==null?void 0:w.right)==null?void 0:$.selection)!=null&&P.unit?(A(),K("div",xi,[(A(),K(me,null,pe(["left","right"],x=>{var B,C,M;return R("div",qi,[(M=(C=(B=L(n))==null?void 0:B[x])==null?void 0:C.selection)!=null&&M.unit&&L(Re)(L(n)[x].selection.unit)>1?(A(),ue(ci,{key:0,"entity-number":L(n)[x].entityNumber,"max-entities":L(Re)(L(n)[x].selection.unit),"onUpdate:entityNumber":D=>L(n).setUnitEntityCount(x,D)},null,8,["entity-number","max-entities","onUpdate:entityNumber"])):le("",!0)])}),64))])):le("",!0),F(f),F(yi,{ref_key:"detailViewRef",ref:o,leftUnit:L(n).left,rightUnit:L(n).right,onUpdate:r},null,8,["leftUnit","rightUnit"]),l[0]||(l[0]=R("div",{style:{"min-height":"25vh"}},null,-1))])],64)}}}),Pi=_e($i,[["__scopeId","data-v-fed86ae6"]]);export{Pi as default};
