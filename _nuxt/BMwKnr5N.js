import{I as oe,j as r,h as y,J as he,r as j,K as de,o as je,L as Ue,M as He,N as ke,O as le,P as Ce,Q as gt,R as _e,S as $e,T as Se,U as ht,V as pt,W as Kt,X as bt,e as yt,Y as it,Z as De,$ as Xt,a0 as Wt,a1 as Yt,a2 as Gt,d as ve,t as A,v as x,x as M,a3 as se,y as X,B as qe,z as $,A as E,_ as be,H as re,a4 as ae,a5 as ge,a6 as ye,a7 as N,a8 as Jt}from"./CJ2QiGkl.js";import{u as kt,a as Ct,Q as St,b as Zt,n as wt,c as en,g as tn,d as nn,_ as ce,e as an,f as on,h as qt,i as Re,j as ln,k as rn,l as sn,m as un,o as pe,p as cn,q as dn,r as vn,s as xt,v as Ve,t as mn,w as fn,x as _n,y as gn,z as hn,A as pn,B as bn,C as yn,D as kn,E as Cn,F as Sn,G as wn}from"./BwaRU4Ug.js";import{h as $t,a as me,u as Qe,b as Ke,c as Ut,d as qn,_ as xn}from"./lelDgHHm.js";import $n from"./CwvlR1ev.js";const Un=oe({name:"QAvatar",props:{...kt,fontSize:String,color:String,textColor:String,icon:String,square:Boolean,rounded:Boolean},setup(e,{slots:n}){const o=Ct(e),l=r(()=>"q-avatar"+(e.color?` bg-${e.color}`:"")+(e.textColor?` text-${e.textColor} q-chip--colored`:"")+(e.square===!0?" q-avatar--square":e.rounded===!0?" rounded-borders":"")),t=r(()=>e.fontSize?{fontSize:e.fontSize}:null);return()=>{const a=e.icon!==void 0?[y(St,{name:e.icon})]:void 0;return y("div",{class:l.value,style:o.value},[y("div",{class:"q-avatar__content row flex-center overflow-hidden",style:t.value},$t(n.default,a))])}}}),Bn=oe({name:"QBtnGroup",props:{unelevated:Boolean,outline:Boolean,flat:Boolean,rounded:Boolean,square:Boolean,push:Boolean,stretch:Boolean,glossy:Boolean,spread:Boolean},setup(e,{slots:n}){const o=r(()=>{const l=["unelevated","outline","flat","rounded","square","push","stretch","glossy"].filter(t=>e[t]===!0).map(t=>`q-btn-group--${t}`).join(" ");return`q-btn-group row no-wrap${l.length!==0?" "+l:""}`+(e.spread===!0?" q-btn-group--spread":" inline")});return()=>y("div",{class:o.value},me(n.default))}}),Nn=Object.keys(wt);function Pn(e){return Nn.reduce((n,o)=>{const l=e[o];return l!==void 0&&(n[o]=l),n},{})}const Mn=oe({name:"QBtnDropdown",props:{...wt,...Zt,modelValue:Boolean,split:Boolean,dropdownIcon:String,contentClass:[Array,String,Object],contentStyle:[Array,String,Object],cover:Boolean,persistent:Boolean,noEscDismiss:Boolean,noRouteDismiss:Boolean,autoClose:Boolean,noRefocus:Boolean,noFocus:Boolean,menuAnchor:{type:String,default:"bottom end"},menuSelf:{type:String,default:"top end"},menuOffset:Array,disableMainBtn:Boolean,disableDropdown:Boolean,noIconAnimation:Boolean,toggleAriaLabel:String},emits:["update:modelValue","click","beforeShow","show","beforeHide","hide"],setup(e,{slots:n,emit:o}){const{proxy:l}=he(),t=j(e.modelValue),a=j(null),i=en(),s=r(()=>{const p={"aria-expanded":t.value===!0?"true":"false","aria-haspopup":"true","aria-controls":i.value,"aria-label":e.toggleAriaLabel||l.$q.lang.label[t.value===!0?"collapse":"expand"](e.label)};return(e.disable===!0||e.split===!1&&e.disableMainBtn===!0||e.disableDropdown===!0)&&(p["aria-disabled"]="true"),p}),u=r(()=>"q-btn-dropdown__arrow"+(t.value===!0&&e.noIconAnimation===!1?" rotate-180":"")+(e.split===!1?" q-btn-dropdown__arrow-container":"")),c=r(()=>tn(e)),d=r(()=>Pn(e));de(()=>e.modelValue,p=>{var q;(q=a.value)==null||q[p?"show":"hide"]()}),de(()=>e.split,w);function h(p){t.value=!0,o("beforeShow",p)}function _(p){o("show",p),o("update:modelValue",!0)}function m(p){t.value=!1,o("beforeHide",p)}function g(p){o("hide",p),o("update:modelValue",!1)}function C(p){o("click",p)}function B(p){Ue(p),w(),o("click",p)}function T(p){var q;(q=a.value)==null||q.toggle(p)}function D(p){var q;(q=a.value)==null||q.show(p)}function w(p){var q;(q=a.value)==null||q.hide(p)}return Object.assign(l,{show:D,hide:w,toggle:T}),je(()=>{e.modelValue===!0&&D()}),()=>{const p=[y(St,{class:u.value,name:e.dropdownIcon||l.$q.iconSet.arrow.dropdown})];return e.disableDropdown!==!0&&p.push(y(nn,{ref:a,id:i.value,class:e.contentClass,style:e.contentStyle,cover:e.cover,fit:!0,persistent:e.persistent,noEscDismiss:e.noEscDismiss,noRouteDismiss:e.noRouteDismiss,autoClose:e.autoClose,noFocus:e.noFocus,noRefocus:e.noRefocus,anchor:e.menuAnchor,self:e.menuSelf,offset:e.menuOffset,separateClosePopup:!0,transitionShow:e.transitionShow,transitionHide:e.transitionHide,transitionDuration:e.transitionDuration,onBeforeShow:h,onShow:_,onBeforeHide:m,onHide:g},n.default)),e.split===!1?y(ce,{class:"q-btn-dropdown q-btn-dropdown--simple",...d.value,...s.value,disable:e.disable===!0||e.disableMainBtn===!0,noWrap:!0,round:!1,onClick:C},{default:()=>me(n.label,[]).concat(p),loading:n.loading}):y(Bn,{class:"q-btn-dropdown q-btn-dropdown--split no-wrap q-btn-item",rounded:e.rounded,square:e.square,...c.value,glossy:e.glossy,stretch:e.stretch},()=>[y(ce,{class:"q-btn-dropdown--current",...d.value,disable:e.disable===!0||e.disableMainBtn===!0,noWrap:!0,round:!1,onClick:B},{default:n.label,loading:n.loading}),y(ce,{class:"q-btn-dropdown__arrow-container q-anchor--skip",...s.value,...c.value,disable:e.disable===!0||e.disableDropdown===!0,rounded:e.rounded,color:e.color,textColor:e.textColor,dense:e.dense,size:e.size,padding:e.padding,ripple:e.ripple},()=>p)])}}}),Xe=oe({name:"QCard",props:{...Qe,tag:{type:String,default:"div"},square:Boolean,flat:Boolean,bordered:Boolean},setup(e,{slots:n}){const{proxy:{$q:o}}=he(),l=Ke(e,o),t=r(()=>"q-card"+(l.value===!0?" q-card--dark q-dark":"")+(e.bordered===!0?" q-card--bordered":"")+(e.square===!0?" q-card--square no-border-radius":"")+(e.flat===!0?" q-card--flat no-shadow":""));return()=>y(e.tag,{class:t.value},me(n.default))}}),Ln=oe({name:"QCardActions",props:{...an,vertical:Boolean},setup(e,{slots:n}){const o=on(e),l=r(()=>`q-card__actions ${o.value} q-card__actions--${e.vertical===!0?"vert column":"horiz row"}`);return()=>y("div",{class:l.value},me(n.default))}}),We=oe({name:"QCardSection",props:{tag:{type:String,default:"div"},horizontal:Boolean},setup(e,{slots:n}){const o=r(()=>`q-card__section q-card__section--${e.horizontal===!0?"horiz row no-wrap":"vert"}`);return()=>y(e.tag,{class:o.value},me(n.default))}}),Ye={left:!0,right:!0,up:!0,down:!0,horizontal:!0,vertical:!0},Tn=Object.keys(Ye);Ye.all=!0;function Be(e){const n={};for(const o of Tn)e[o]===!0&&(n[o]=!0);return Object.keys(n).length===0?Ye:(n.horizontal===!0?n.left=n.right=!0:n.left===!0&&n.right===!0&&(n.horizontal=!0),n.vertical===!0?n.up=n.down=!0:n.up===!0&&n.down===!0&&(n.vertical=!0),n.horizontal===!0&&n.vertical===!0&&(n.all=!0),n)}const An=["INPUT","TEXTAREA"];function Ne(e,n){return n.event===void 0&&e.target!==void 0&&e.target.draggable!==!0&&typeof n.handler=="function"&&An.includes(e.target.nodeName.toUpperCase())===!1&&(e.qClonedBy===void 0||e.qClonedBy.indexOf(n.uid)===-1)}function Dn(e){const n=[.06,6,50];return typeof e=="string"&&e.length&&e.split(":").forEach((o,l)=>{const t=parseFloat(o);t&&(n[l]=t)}),n}const Vn=He({name:"touch-swipe",beforeMount(e,{value:n,arg:o,modifiers:l}){if(l.mouse!==!0&&le.has.touch!==!0)return;const t=l.mouseCapture===!0?"Capture":"",a={handler:n,sensitivity:Dn(o),direction:Be(l),noop:gt,mouseStart(i){Ne(i,a)&&ht(i)&&(_e(a,"temp",[[document,"mousemove","move",`notPassive${t}`],[document,"mouseup","end","notPassiveCapture"]]),a.start(i,!0))},touchStart(i){if(Ne(i,a)){const s=i.target;_e(a,"temp",[[s,"touchmove","move","notPassiveCapture"],[s,"touchcancel","end","notPassiveCapture"],[s,"touchend","end","notPassiveCapture"]]),a.start(i)}},start(i,s){le.is.firefox===!0&&Ce(e,!0);const u=Se(i);a.event={x:u.left,y:u.top,time:Date.now(),mouse:s===!0,dir:!1}},move(i){if(a.event===void 0)return;if(a.event.dir!==!1){$e(i);return}const s=Date.now()-a.event.time;if(s===0)return;const u=Se(i),c=u.left-a.event.x,d=Math.abs(c),h=u.top-a.event.y,_=Math.abs(h);if(a.event.mouse!==!0){if(d<a.sensitivity[1]&&_<a.sensitivity[1]){a.end(i);return}}else if(window.getSelection().toString()!==""){a.end(i);return}else if(d<a.sensitivity[2]&&_<a.sensitivity[2])return;const m=d/s,g=_/s;a.direction.vertical===!0&&d<_&&d<100&&g>a.sensitivity[0]&&(a.event.dir=h<0?"up":"down"),a.direction.horizontal===!0&&d>_&&_<100&&m>a.sensitivity[0]&&(a.event.dir=c<0?"left":"right"),a.direction.up===!0&&d<_&&h<0&&d<100&&g>a.sensitivity[0]&&(a.event.dir="up"),a.direction.down===!0&&d<_&&h>0&&d<100&&g>a.sensitivity[0]&&(a.event.dir="down"),a.direction.left===!0&&d>_&&c<0&&_<100&&m>a.sensitivity[0]&&(a.event.dir="left"),a.direction.right===!0&&d>_&&c>0&&_<100&&m>a.sensitivity[0]&&(a.event.dir="right"),a.event.dir!==!1?($e(i),a.event.mouse===!0&&(document.body.classList.add("no-pointer-events--children"),document.body.classList.add("non-selectable"),qt(),a.styleCleanup=C=>{a.styleCleanup=void 0,document.body.classList.remove("non-selectable");const B=()=>{document.body.classList.remove("no-pointer-events--children")};C===!0?setTimeout(B,50):B()}),a.handler({evt:i,touch:a.event.mouse!==!0,mouse:a.event.mouse,direction:a.event.dir,duration:s,distance:{x:d,y:_}})):a.end(i)},end(i){var s;a.event!==void 0&&(ke(a,"temp"),le.is.firefox===!0&&Ce(e,!1),(s=a.styleCleanup)==null||s.call(a,!0),i!==void 0&&a.event.dir!==!1&&$e(i),a.event=void 0)}};if(e.__qtouchswipe=a,l.mouse===!0){const i=l.mouseCapture===!0||l.mousecapture===!0?"Capture":"";_e(a,"main",[[e,"mousedown","mouseStart",`passive${i}`]])}le.has.touch===!0&&_e(a,"main",[[e,"touchstart","touchStart",`passive${l.capture===!0?"Capture":""}`],[e,"touchmove","noop","notPassiveCapture"]])},updated(e,n){const o=e.__qtouchswipe;o!==void 0&&(n.oldValue!==n.value&&(typeof n.value!="function"&&o.end(),o.handler=n.value),o.direction=Be(n.modifiers))},beforeUnmount(e){var o;const n=e.__qtouchswipe;n!==void 0&&(ke(n,"main"),ke(n,"temp"),le.is.firefox===!0&&Ce(e,!1),(o=n.styleCleanup)==null||o.call(n),delete e.__qtouchswipe)}});function In(){let e=Object.create(null);return{getCache:(n,o)=>e[n]===void 0?e[n]=typeof o=="function"?o():o:e[n],setCache(n,o){e[n]=o},hasCache(n){return Object.hasOwnProperty.call(e,n)},clearCache(n){n!==void 0?delete e[n]:e=Object.create(null)}}}const Rn={name:{required:!0},disable:Boolean},lt={setup(e,{slots:n}){return()=>y("div",{class:"q-panel scroll",role:"tabpanel"},me(n.default))}},En={modelValue:{required:!0},animated:Boolean,infinite:Boolean,swipeable:Boolean,vertical:Boolean,transitionPrev:String,transitionNext:String,transitionDuration:{type:[String,Number],default:300},keepAlive:Boolean,keepAliveInclude:[String,Array,RegExp],keepAliveExclude:[String,Array,RegExp],keepAliveMax:Number},zn=["update:modelValue","beforeTransition","transition"];function Fn(){const{props:e,emit:n,proxy:o}=he(),{getCache:l}=In(),{registerTimeout:t}=Re();let a,i;const s=j(null),u={value:null};function c(b){const L=e.vertical===!0?"up":"left";K((o.$q.lang.rtl===!0?-1:1)*(b.direction===L?1:-1))}const d=r(()=>[[Vn,c,void 0,{horizontal:e.vertical!==!0,vertical:e.vertical,mouse:!0}]]),h=r(()=>e.transitionPrev||`slide-${e.vertical===!0?"down":"right"}`),_=r(()=>e.transitionNext||`slide-${e.vertical===!0?"up":"left"}`),m=r(()=>`--q-transition-duration: ${e.transitionDuration}ms`),g=r(()=>typeof e.modelValue=="string"||typeof e.modelValue=="number"?e.modelValue:String(e.modelValue)),C=r(()=>({include:e.keepAliveInclude,exclude:e.keepAliveExclude,max:e.keepAliveMax})),B=r(()=>e.keepAliveInclude!==void 0||e.keepAliveExclude!==void 0);de(()=>e.modelValue,(b,L)=>{const z=p(b)===!0?q(b):-1;i!==!0&&H(z===-1?0:z<q(L)?-1:1),u.value!==z&&(u.value=z,n("beforeTransition",b,L),t(()=>{n("transition",b,L)},e.transitionDuration))});function T(){K(1)}function D(){K(-1)}function w(b){n("update:modelValue",b)}function p(b){return b!=null&&b!==""}function q(b){return a.findIndex(L=>L.props.name===b&&L.props.disable!==""&&L.props.disable!==!0)}function W(){return a.filter(b=>b.props.disable!==""&&b.props.disable!==!0)}function H(b){const L=b!==0&&e.animated===!0&&u.value!==-1?"q-transition--"+(b===-1?h.value:_.value):null;s.value!==L&&(s.value=L)}function K(b,L=u.value){let z=L+b;for(;z!==-1&&z<a.length;){const I=a[z];if(I!==void 0&&I.props.disable!==""&&I.props.disable!==!0){H(b),i=!0,n("update:modelValue",I.props.name),setTimeout(()=>{i=!1});return}z+=b}e.infinite===!0&&a.length!==0&&L!==-1&&L!==a.length&&K(b,b===-1?a.length:-1)}function Y(){const b=q(e.modelValue);return u.value!==b&&(u.value=b),!0}function V(){const b=p(e.modelValue)===!0&&Y()&&a[u.value];return e.keepAlive===!0?[y(Kt,C.value,[y(B.value===!0?l(g.value,()=>({...lt,name:g.value})):lt,{key:g.value,style:m.value},()=>b)])]:[y("div",{class:"q-panel scroll",style:m.value,key:g.value,role:"tabpanel"},[b])]}function Q(){if(a.length!==0)return e.animated===!0?[y(pt,{name:s.value},V)]:V()}function f(b){return a=ln(me(b.default,[])).filter(L=>L.props!==null&&L.props.slot===void 0&&p(L.props.name)===!0),a.length}function k(){return a}return Object.assign(o,{next:T,previous:D,goTo:w}),{panelIndex:u,panelDirectives:d,updatePanelsList:f,updatePanelIndex:Y,getPanelContent:Q,getEnabledPanels:W,getPanels:k,isValidPanelName:p,keepAliveProps:C,needsUniqueKeepAliveWrapper:B,goToPanelByOffset:K,goToPanel:w,nextPanel:T,previousPanel:D}}const On=["top","right","bottom","left"],jn=["regular","flat","outline","push","unelevated"],Hn=oe({name:"QCarousel",props:{...Qe,...En,...sn,transitionPrev:{type:String,default:"fade"},transitionNext:{type:String,default:"fade"},height:String,padding:Boolean,controlColor:String,controlTextColor:String,controlType:{type:String,validator:e=>jn.includes(e),default:"flat"},autoplay:[Number,Boolean],arrows:Boolean,prevIcon:String,nextIcon:String,navigation:Boolean,navigationPosition:{type:String,validator:e=>On.includes(e)},navigationIcon:String,navigationActiveIcon:String,thumbnails:Boolean},emits:[...rn,...zn],setup(e,{slots:n}){const{proxy:{$q:o}}=he(),l=Ke(e,o);let t=null,a;const{updatePanelsList:i,getPanelContent:s,panelDirectives:u,goToPanel:c,previousPanel:d,nextPanel:h,getEnabledPanels:_,panelIndex:m}=Fn(),{inFullscreen:g}=un(),C=r(()=>g.value!==!0&&e.height!==void 0?{height:e.height}:{}),B=r(()=>e.vertical===!0?"vertical":"horizontal"),T=r(()=>e.navigationPosition||(e.vertical===!0?"right":"bottom")),D=r(()=>`q-carousel q-panel-parent q-carousel--with${e.padding===!0?"":"out"}-padding`+(g.value===!0?" fullscreen":"")+(l.value===!0?" q-carousel--dark q-dark":"")+(e.arrows===!0?` q-carousel--arrows-${B.value}`:"")+(e.navigation===!0?` q-carousel--navigation-${T.value}`:"")),w=r(()=>{const V=[e.prevIcon||o.iconSet.carousel[e.vertical===!0?"up":"left"],e.nextIcon||o.iconSet.carousel[e.vertical===!0?"down":"right"]];return e.vertical===!1&&o.lang.rtl===!0?V.reverse():V}),p=r(()=>e.navigationIcon||o.iconSet.carousel.navigationIcon),q=r(()=>e.navigationActiveIcon||p.value),W=r(()=>({color:e.controlColor,textColor:e.controlTextColor,round:!0,[e.controlType]:!0,dense:!0}));de(()=>e.modelValue,()=>{e.autoplay&&H()}),de(()=>e.autoplay,V=>{V?H():t!==null&&(clearTimeout(t),t=null)});function H(){const V=bt(e.autoplay)===!0?Math.abs(e.autoplay):5e3;t!==null&&clearTimeout(t),t=setTimeout(()=>{t=null,V>=0?h():d()},V)}je(()=>{e.autoplay&&H()}),yt(()=>{t!==null&&clearTimeout(t)});function K(V,Q){return y("div",{class:`q-carousel__control q-carousel__navigation no-wrap absolute flex q-carousel__navigation--${V} q-carousel__navigation--${T.value}`+(e.controlColor!==void 0?` text-${e.controlColor}`:"")},[y("div",{class:"q-carousel__navigation-inner flex flex-center no-wrap"},_().map(Q))])}function Y(){const V=[];if(e.navigation===!0){const Q=n["navigation-icon"]!==void 0?n["navigation-icon"]:k=>y(ce,{key:"nav"+k.name,class:`q-carousel__navigation-icon q-carousel__navigation-icon--${k.active===!0?"":"in"}active`,...k.btnProps,onClick:k.onClick}),f=a-1;V.push(K("buttons",(k,b)=>{const L=k.props.name,z=m.value===b;return Q({index:b,maxIndex:f,name:L,active:z,btnProps:{icon:z===!0?q.value:p.value,size:"sm",...W.value},onClick:()=>{c(L)}})}))}else if(e.thumbnails===!0){const Q=e.controlColor!==void 0?` text-${e.controlColor}`:"";V.push(K("thumbnails",f=>{const k=f.props;return y("img",{key:"tmb#"+k.name,class:`q-carousel__thumbnail q-carousel__thumbnail--${k.name===e.modelValue?"":"in"}active`+Q,src:k.imgSrc||k["img-src"],onClick:()=>{c(k.name)}})}))}return e.arrows===!0&&m.value>=0&&((e.infinite===!0||m.value>0)&&V.push(y("div",{key:"prev",class:`q-carousel__control q-carousel__arrow q-carousel__prev-arrow q-carousel__prev-arrow--${B.value} absolute flex flex-center`},[y(ce,{icon:w.value[0],...W.value,onClick:d})])),(e.infinite===!0||m.value<a-1)&&V.push(y("div",{key:"next",class:`q-carousel__control q-carousel__arrow q-carousel__next-arrow q-carousel__next-arrow--${B.value} absolute flex flex-center`},[y(ce,{icon:w.value[1],...W.value,onClick:h})]))),qn(n.control,V)}return()=>(a=i(n),y("div",{class:D.value,style:C.value},[Ut("div",{class:"q-carousel__slides-container"},s(),"sl-cont",e.swipeable,()=>u.value)].concat(Y())))}}),Qn=oe({name:"QCarouselSlide",props:{...Rn,imgSrc:String},setup(e,{slots:n}){const o=r(()=>e.imgSrc?{backgroundImage:`url("${e.imgSrc}")`}:{});return()=>y("div",{class:"q-carousel__slide",style:o.value},me(n.default))}}),Kn={...kt,min:{type:Number,default:0},max:{type:Number,default:100},color:String,centerColor:String,trackColor:String,fontSize:String,rounded:Boolean,thickness:{type:Number,default:.2,validator:e=>e>=0&&e<=1},angle:{type:Number,default:0},showValue:Boolean,reverse:Boolean,instantFeedback:Boolean},Ee=50,Bt=2*Ee,Nt=Bt*Math.PI,Xn=Math.round(Nt*1e3)/1e3,Wn=oe({name:"QCircularProgress",props:{...Kn,value:{type:Number,default:0},animationSpeed:{type:[String,Number],default:600},indeterminate:Boolean},setup(e,{slots:n}){const{proxy:{$q:o}}=he(),l=Ct(e),t=r(()=>{const m=(o.lang.rtl===!0?-1:1)*e.angle;return{transform:e.reverse!==(o.lang.rtl===!0)?`scale3d(-1, 1, 1) rotate3d(0, 0, 1, ${-90-m}deg)`:`rotate3d(0, 0, 1, ${m-90}deg)`}}),a=r(()=>e.instantFeedback!==!0&&e.indeterminate!==!0?{transition:`stroke-dashoffset ${e.animationSpeed}ms ease 0s, stroke ${e.animationSpeed}ms ease`}:""),i=r(()=>Bt/(1-e.thickness/2)),s=r(()=>`${i.value/2} ${i.value/2} ${i.value} ${i.value}`),u=r(()=>pe(e.value,e.min,e.max)),c=r(()=>e.max-e.min),d=r(()=>e.thickness/2*i.value),h=r(()=>{const m=(e.max-u.value)/c.value,g=e.rounded===!0&&u.value<e.max&&m<.25?d.value/2*(1-m/.25):0;return Nt*m+g});function _({thickness:m,offset:g,color:C,cls:B,rounded:T}){return y("circle",{class:"q-circular-progress__"+B+(C!==void 0?` text-${C}`:""),style:a.value,fill:"transparent",stroke:"currentColor","stroke-width":m,"stroke-dasharray":Xn,"stroke-dashoffset":g,"stroke-linecap":T,cx:i.value,cy:i.value,r:Ee})}return()=>{const m=[];e.centerColor!==void 0&&e.centerColor!=="transparent"&&m.push(y("circle",{class:`q-circular-progress__center text-${e.centerColor}`,fill:"currentColor",r:Ee-d.value/2,cx:i.value,cy:i.value})),e.trackColor!==void 0&&e.trackColor!=="transparent"&&m.push(_({cls:"track",thickness:d.value,offset:0,color:e.trackColor})),m.push(_({cls:"circle",thickness:d.value,offset:h.value,color:e.color,rounded:e.rounded===!0?"round":void 0}));const g=[y("svg",{class:"q-circular-progress__svg",style:t.value,viewBox:s.value,"aria-hidden":"true"},m)];return e.showValue===!0&&g.push(y("div",{class:"q-circular-progress__text absolute-full row flex-center content-center",style:{fontSize:e.fontSize}},n.default!==void 0?n.default():[y("div",u.value)])),y("div",{class:`q-circular-progress q-circular-progress--${e.indeterminate===!0?"in":""}determinate`,style:l.value,role:"progressbar","aria-valuemin":e.min,"aria-valuemax":e.max,"aria-valuenow":e.indeterminate===!0?void 0:u.value},$t(n.internal,g))}}});function Ie(e,n,o){const l=Se(e);let t,a=l.left-n.event.x,i=l.top-n.event.y,s=Math.abs(a),u=Math.abs(i);const c=n.direction;c.horizontal===!0&&c.vertical!==!0?t=a<0?"left":"right":c.horizontal!==!0&&c.vertical===!0?t=i<0?"up":"down":c.up===!0&&i<0?(t="up",s>u&&(c.left===!0&&a<0?t="left":c.right===!0&&a>0&&(t="right"))):c.down===!0&&i>0?(t="down",s>u&&(c.left===!0&&a<0?t="left":c.right===!0&&a>0&&(t="right"))):c.left===!0&&a<0?(t="left",s<u&&(c.up===!0&&i<0?t="up":c.down===!0&&i>0&&(t="down"))):c.right===!0&&a>0&&(t="right",s<u&&(c.up===!0&&i<0?t="up":c.down===!0&&i>0&&(t="down")));let d=!1;if(t===void 0&&o===!1){if(n.event.isFirst===!0||n.event.lastDir===void 0)return{};t=n.event.lastDir,d=!0,t==="left"||t==="right"?(l.left-=a,s=0,a=0):(l.top-=i,u=0,i=0)}return{synthetic:d,payload:{evt:e,touch:n.event.mouse!==!0,mouse:n.event.mouse===!0,position:l,direction:t,isFirst:n.event.isFirst,isFinal:o===!0,duration:Date.now()-n.event.time,distance:{x:s,y:u},offset:{x:a,y:i},delta:{x:l.left-n.event.lastX,y:l.top-n.event.lastY}}}}let Yn=0;const Gn=He({name:"touch-pan",beforeMount(e,{value:n,modifiers:o}){if(o.mouse!==!0&&le.has.touch!==!0)return;function l(a,i){o.mouse===!0&&i===!0?$e(a):(o.stop===!0&&Ue(a),o.prevent===!0&&it(a))}const t={uid:"qvtp_"+Yn++,handler:n,modifiers:o,direction:Be(o),noop:gt,mouseStart(a){Ne(a,t)&&ht(a)&&(_e(t,"temp",[[document,"mousemove","move","notPassiveCapture"],[document,"mouseup","end","passiveCapture"]]),t.start(a,!0))},touchStart(a){if(Ne(a,t)){const i=a.target;_e(t,"temp",[[i,"touchmove","move","notPassiveCapture"],[i,"touchcancel","end","passiveCapture"],[i,"touchend","end","passiveCapture"]]),t.start(a)}},start(a,i){if(le.is.firefox===!0&&Ce(e,!0),t.lastEvt=a,i===!0||o.stop===!0){if(t.direction.all!==!0&&(i!==!0||t.modifiers.mouseAllDir!==!0&&t.modifiers.mousealldir!==!0)){const c=a.type.indexOf("mouse")!==-1?new MouseEvent(a.type,a):new TouchEvent(a.type,a);a.defaultPrevented===!0&&it(c),a.cancelBubble===!0&&Ue(c),Object.assign(c,{qKeyEvent:a.qKeyEvent,qClickOutside:a.qClickOutside,qAnchorHandled:a.qAnchorHandled,qClonedBy:a.qClonedBy===void 0?[t.uid]:a.qClonedBy.concat(t.uid)}),t.initialEvent={target:a.target,event:c}}Ue(a)}const{left:s,top:u}=Se(a);t.event={x:s,y:u,time:Date.now(),mouse:i===!0,detected:!1,isFirst:!0,isFinal:!1,lastX:s,lastY:u}},move(a){if(t.event===void 0)return;const i=Se(a),s=i.left-t.event.x,u=i.top-t.event.y;if(s===0&&u===0)return;t.lastEvt=a;const c=t.event.mouse===!0,d=()=>{l(a,c);let m;o.preserveCursor!==!0&&o.preservecursor!==!0&&(m=document.documentElement.style.cursor||"",document.documentElement.style.cursor="grabbing"),c===!0&&document.body.classList.add("no-pointer-events--children"),document.body.classList.add("non-selectable"),qt(),t.styleCleanup=g=>{if(t.styleCleanup=void 0,m!==void 0&&(document.documentElement.style.cursor=m),document.body.classList.remove("non-selectable"),c===!0){const C=()=>{document.body.classList.remove("no-pointer-events--children")};g!==void 0?setTimeout(()=>{C(),g()},50):C()}else g!==void 0&&g()}};if(t.event.detected===!0){t.event.isFirst!==!0&&l(a,t.event.mouse);const{payload:m,synthetic:g}=Ie(a,t,!1);m!==void 0&&(t.handler(m)===!1?t.end(a):(t.styleCleanup===void 0&&t.event.isFirst===!0&&d(),t.event.lastX=m.position.left,t.event.lastY=m.position.top,t.event.lastDir=g===!0?void 0:m.direction,t.event.isFirst=!1));return}if(t.direction.all===!0||c===!0&&(t.modifiers.mouseAllDir===!0||t.modifiers.mousealldir===!0)){d(),t.event.detected=!0,t.move(a);return}const h=Math.abs(s),_=Math.abs(u);h!==_&&(t.direction.horizontal===!0&&h>_||t.direction.vertical===!0&&h<_||t.direction.up===!0&&h<_&&u<0||t.direction.down===!0&&h<_&&u>0||t.direction.left===!0&&h>_&&s<0||t.direction.right===!0&&h>_&&s>0?(t.event.detected=!0,t.move(a)):t.end(a,!0))},end(a,i){var s;if(t.event!==void 0){if(ke(t,"temp"),le.is.firefox===!0&&Ce(e,!1),i===!0)(s=t.styleCleanup)==null||s.call(t),t.event.detected!==!0&&t.initialEvent!==void 0&&t.initialEvent.target.dispatchEvent(t.initialEvent.event);else if(t.event.detected===!0){t.event.isFirst===!0&&t.handler(Ie(a===void 0?t.lastEvt:a,t).payload);const{payload:u}=Ie(a===void 0?t.lastEvt:a,t,!0),c=()=>{t.handler(u)};t.styleCleanup!==void 0?t.styleCleanup(c):c()}t.event=void 0,t.initialEvent=void 0,t.lastEvt=void 0}}};if(e.__qtouchpan=t,o.mouse===!0){const a=o.mouseCapture===!0||o.mousecapture===!0?"Capture":"";_e(t,"main",[[e,"mousedown","mouseStart",`passive${a}`]])}le.has.touch===!0&&_e(t,"main",[[e,"touchstart","touchStart",`passive${o.capture===!0?"Capture":""}`],[e,"touchmove","noop","notPassiveCapture"]])},updated(e,n){const o=e.__qtouchpan;o!==void 0&&(n.oldValue!==n.value&&(typeof value!="function"&&o.end(),o.handler=n.value),o.direction=Be(n.modifiers))},beforeUnmount(e){var o;const n=e.__qtouchpan;n!==void 0&&(n.event!==void 0&&n.end(),ke(n,"main"),ke(n,"temp"),le.is.firefox===!0&&Ce(e,!1),(o=n.styleCleanup)==null||o.call(n),delete e.__qtouchpan)}}),rt="q-slider__marker-labels",Jn=e=>({value:e}),Zn=({marker:e})=>y("div",{key:e.value,style:e.style,class:e.classes},e.label),Pt=[34,37,40,33,39,38],ea={...Qe,...cn,min:{type:Number,default:0},max:{type:Number,default:100},innerMin:Number,innerMax:Number,step:{type:Number,default:1,validator:e=>e>=0},snap:Boolean,vertical:Boolean,reverse:Boolean,color:String,markerLabelsClass:String,label:Boolean,labelColor:String,labelTextColor:String,labelAlways:Boolean,switchLabelSide:Boolean,markers:[Boolean,Number],markerLabels:[Boolean,Array,Object,Function],switchMarkerLabelsSide:Boolean,trackImg:String,trackColor:String,innerTrackImg:String,innerTrackColor:String,selectionColor:String,selectionImg:String,thumbSize:{type:String,default:"20px"},trackSize:{type:String,default:"4px"},disable:Boolean,readonly:Boolean,dense:Boolean,tabindex:[String,Number],thumbColor:String,thumbPath:{type:String,default:"M 4, 10 a 6,6 0 1,0 12,0 a 6,6 0 1,0 -12,0"}},ta=["pan","update:modelValue","change"];function na({updateValue:e,updatePosition:n,getDragging:o,formAttrs:l}){const{props:t,emit:a,slots:i,proxy:{$q:s}}=he(),u=Ke(t,s),c=dn(l),d=j(!1),h=j(!1),_=j(!1),m=j(!1),g=r(()=>t.vertical===!0?"--v":"--h"),C=r(()=>"-"+(t.switchLabelSide===!0?"switched":"standard")),B=r(()=>t.vertical===!0?t.reverse===!0:t.reverse!==(s.lang.rtl===!0)),T=r(()=>isNaN(t.innerMin)===!0||t.innerMin<t.min?t.min:t.innerMin),D=r(()=>isNaN(t.innerMax)===!0||t.innerMax>t.max?t.max:t.innerMax),w=r(()=>t.disable!==!0&&t.readonly!==!0&&T.value<D.value),p=r(()=>{if(t.step===0)return U=>U;const v=(String(t.step).trim().split(".")[1]||"").length;return U=>parseFloat(U.toFixed(v))}),q=r(()=>t.step===0?1:t.step),W=r(()=>w.value===!0?t.tabindex||0:-1),H=r(()=>t.max-t.min),K=r(()=>D.value-T.value),Y=r(()=>Pe(T.value)),V=r(()=>Pe(D.value)),Q=r(()=>t.vertical===!0?B.value===!0?"bottom":"top":B.value===!0?"right":"left"),f=r(()=>t.vertical===!0?"height":"width"),k=r(()=>t.vertical===!0?"width":"height"),b=r(()=>t.vertical===!0?"vertical":"horizontal"),L=r(()=>{const v={role:"slider","aria-valuemin":T.value,"aria-valuemax":D.value,"aria-orientation":b.value,"data-step":t.step};return t.disable===!0?v["aria-disabled"]="true":t.readonly===!0&&(v["aria-readonly"]="true"),v}),z=r(()=>`q-slider q-slider${g.value} q-slider--${d.value===!0?"":"in"}active inline no-wrap `+(t.vertical===!0?"row":"column")+(t.disable===!0?" disabled":" q-slider--enabled"+(w.value===!0?" q-slider--editable":""))+(_.value==="both"?" q-slider--focus":"")+(t.label||t.labelAlways===!0?" q-slider--label":"")+(t.labelAlways===!0?" q-slider--label-always":"")+(u.value===!0?" q-slider--dark":"")+(t.dense===!0?" q-slider--dense q-slider--dense"+g.value:""));function I(v){const U="q-slider__"+v;return`${U} ${U}${g.value} ${U}${g.value}${C.value}`}function ee(v){const U="q-slider__"+v;return`${U} ${U}${g.value}`}const ne=r(()=>{const v=t.selectionColor||t.color;return"q-slider__selection absolute"+(v!==void 0?` text-${v}`:"")}),ie=r(()=>ee("markers")+" absolute overflow-hidden"),G=r(()=>ee("track-container")),J=r(()=>I("pin")),P=r(()=>I("label")),F=r(()=>I("text-container")),S=r(()=>I("marker-labels-container")+(t.markerLabelsClass!==void 0?` ${t.markerLabelsClass}`:"")),ue=r(()=>"q-slider__track relative-position no-outline"+(t.trackColor!==void 0?` bg-${t.trackColor}`:"")),te=r(()=>{const v={[k.value]:t.trackSize};return t.trackImg!==void 0&&(v.backgroundImage=`url(${t.trackImg}) !important`),v}),we=r(()=>"q-slider__inner absolute"+(t.innerTrackColor!==void 0?` bg-${t.innerTrackColor}`:"")),Je=r(()=>{const v=V.value-Y.value,U={[Q.value]:`${100*Y.value}%`,[f.value]:v===0?"2px":`${100*v}%`};return t.innerTrackImg!==void 0&&(U.backgroundImage=`url(${t.innerTrackImg}) !important`),U});function Lt(v){const{min:U,max:R,step:O}=t;let Z=U+v*(R-U);if(O>0){const fe=(Z-T.value)%O;Z+=(Math.abs(fe)>=O/2?(fe<0?-1:1)*O:0)-fe}return Z=p.value(Z),pe(Z,T.value,D.value)}function Pe(v){return H.value===0?0:(v-t.min)/H.value}function Tt(v,U){const R=Se(v),O=t.vertical===!0?pe((R.top-U.top)/U.height,0,1):pe((R.left-U.left)/U.width,0,1);return pe(B.value===!0?1-O:O,Y.value,V.value)}const Ze=r(()=>bt(t.markers)===!0?t.markers:q.value),et=r(()=>{const v=[],U=Ze.value,R=t.max;let O=t.min;do v.push(O),O+=U;while(O<R);return v.push(R),v}),tt=r(()=>{const v=` ${rt}${g.value}-`;return rt+`${v}${t.switchMarkerLabelsSide===!0?"switched":"standard"}${v}${B.value===!0?"rtl":"ltr"}`}),Me=r(()=>t.markerLabels===!1?null:Dt(t.markerLabels).map((v,U)=>({index:U,value:v.value,label:v.label||v.value,classes:tt.value+(v.classes!==void 0?" "+v.classes:""),style:{...at(v.value),...v.style||{}}}))),nt=r(()=>({markerList:Me.value,markerMap:Vt.value,classes:tt.value,getStyle:at})),At=r(()=>{const v=K.value===0?"2px":100*Ze.value/K.value;return{...Je.value,backgroundSize:t.vertical===!0?`2px ${v}%`:`${v}% 2px`}});function Dt(v){if(v===!1)return null;if(v===!0)return et.value.map(Jn);if(typeof v=="function")return et.value.map(R=>{const O=v(R);return De(O)===!0?{...O,value:R}:{value:R,label:O}});const U=({value:R})=>R>=t.min&&R<=t.max;return Array.isArray(v)===!0?v.map(R=>De(R)===!0?R:{value:R}).filter(U):Object.keys(v).map(R=>{const O=v[R],Z=Number(R);return De(O)===!0?{...O,value:Z}:{value:Z,label:O}}).filter(U)}function at(v){return{[Q.value]:`${100*(v-t.min)/H.value}%`}}const Vt=r(()=>{if(t.markerLabels===!1)return null;const v={};return Me.value.forEach(U=>{v[U.value]=U}),v});function It(){if(i["marker-label-group"]!==void 0)return i["marker-label-group"](nt.value);const v=i["marker-label"]||Zn;return Me.value.map(U=>v({marker:U,...nt.value}))}const Rt=r(()=>[[Gn,Et,void 0,{[b.value]:!0,prevent:!0,stop:!0,mouse:!0,mouseAllDir:!0}]]);function Et(v){v.isFinal===!0?(m.value!==void 0&&(n(v.evt),v.touch===!0&&e(!0),m.value=void 0,a("pan","end")),d.value=!1,_.value=!1):v.isFirst===!0?(m.value=o(v.evt),n(v.evt),e(),d.value=!0,a("pan","start")):(n(v.evt),e())}function ot(){_.value=!1}function zt(v){n(v,o(v)),e(),h.value=!0,d.value=!0,document.addEventListener("mouseup",Le,!0)}function Le(){h.value=!1,d.value=!1,e(!0),ot(),document.removeEventListener("mouseup",Le,!0)}function Ft(v){n(v,o(v)),e(!0)}function Ot(v){Pt.includes(v.keyCode)&&e(!0)}function jt(v){if(t.vertical===!0)return null;const U=s.lang.rtl!==t.reverse?1-v:v;return{transform:`translateX(calc(${2*U-1} * ${t.thumbSize} / 2 + ${50-100*U}%))`}}function Ht(v){const U=r(()=>h.value===!1&&(_.value===v.focusValue||_.value==="both")?" q-slider--focus":""),R=r(()=>`q-slider__thumb q-slider__thumb${g.value} q-slider__thumb${g.value}-${B.value===!0?"rtl":"ltr"} absolute non-selectable`+U.value+(v.thumbColor.value!==void 0?` text-${v.thumbColor.value}`:"")),O=r(()=>({width:t.thumbSize,height:t.thumbSize,[Q.value]:`${100*v.ratio.value}%`,zIndex:_.value===v.focusValue?2:void 0})),Z=r(()=>v.labelColor.value!==void 0?` text-${v.labelColor.value}`:""),fe=r(()=>jt(v.ratio.value)),Te=r(()=>"q-slider__text"+(v.labelTextColor.value!==void 0?` text-${v.labelTextColor.value}`:""));return()=>{const Ae=[y("svg",{class:"q-slider__thumb-shape absolute-full",viewBox:"0 0 20 20","aria-hidden":"true"},[y("path",{d:t.thumbPath})]),y("div",{class:"q-slider__focus-ring fit"})];return(t.label===!0||t.labelAlways===!0)&&(Ae.push(y("div",{class:J.value+" absolute fit no-pointer-events"+Z.value},[y("div",{class:P.value,style:{minWidth:t.thumbSize}},[y("div",{class:F.value,style:fe.value},[y("span",{class:Te.value},v.label.value)])])])),t.name!==void 0&&t.disable!==!0&&c(Ae,"push")),y("div",{class:R.value,style:O.value,...v.getNodeData()},Ae)}}function Qt(v,U,R,O){const Z=[];t.innerTrackColor!=="transparent"&&Z.push(y("div",{key:"inner",class:we.value,style:Je.value})),t.selectionColor!=="transparent"&&Z.push(y("div",{key:"selection",class:ne.value,style:v.value})),t.markers!==!1&&Z.push(y("div",{key:"marker",class:ie.value,style:At.value})),O(Z);const fe=[Ut("div",{key:"trackC",class:G.value,tabindex:U.value,...R.value},[y("div",{class:ue.value,style:te.value},Z)],"slide",w.value,()=>Rt.value)];if(t.markerLabels!==!1){const Te=t.switchMarkerLabelsSide===!0?"unshift":"push";fe[Te](y("div",{key:"markerL",class:S.value},It()))}return fe}return yt(()=>{document.removeEventListener("mouseup",Le,!0)}),{state:{active:d,focus:_,preventFocus:h,dragging:m,editable:w,classes:z,tabindex:W,attributes:L,roundValueFn:p,keyStep:q,trackLen:H,innerMin:T,innerMinRatio:Y,innerMax:D,innerMaxRatio:V,positionProp:Q,sizeProp:f,isReversed:B},methods:{onActivate:zt,onMobileClick:Ft,onBlur:ot,onKeyup:Ot,getContent:Qt,getThumbRenderFn:Ht,convertRatioToModel:Lt,convertModelToRatio:Pe,getDraggingRatio:Tt}}}const aa=()=>({}),oa=oe({name:"QSlider",props:{...ea,modelValue:{required:!0,default:null,validator:e=>typeof e=="number"||e===null},labelValue:[String,Number]},emits:ta,setup(e,{emit:n}){const{proxy:{$q:o}}=he(),{state:l,methods:t}=na({updateValue:g,updatePosition:B,getDragging:C,formAttrs:vn(e)}),a=j(null),i=j(0),s=j(0);function u(){s.value=e.modelValue===null?l.innerMin.value:pe(e.modelValue,l.innerMin.value,l.innerMax.value)}de(()=>`${e.modelValue}|${l.innerMin.value}|${l.innerMax.value}`,u),u();const c=r(()=>t.convertModelToRatio(s.value)),d=r(()=>l.active.value===!0?i.value:c.value),h=r(()=>{const w={[l.positionProp.value]:`${100*l.innerMinRatio.value}%`,[l.sizeProp.value]:`${100*(d.value-l.innerMinRatio.value)}%`};return e.selectionImg!==void 0&&(w.backgroundImage=`url(${e.selectionImg}) !important`),w}),_=t.getThumbRenderFn({focusValue:!0,getNodeData:aa,ratio:d,label:r(()=>e.labelValue!==void 0?e.labelValue:s.value),thumbColor:r(()=>e.thumbColor||e.color),labelColor:r(()=>e.labelColor),labelTextColor:r(()=>e.labelTextColor)}),m=r(()=>l.editable.value!==!0?{}:o.platform.is.mobile===!0?{onClick:t.onMobileClick}:{onMousedown:t.onActivate,onFocus:T,onBlur:t.onBlur,onKeydown:D,onKeyup:t.onKeyup});function g(w){s.value!==e.modelValue&&n("update:modelValue",s.value),w===!0&&n("change",s.value)}function C(){return a.value.getBoundingClientRect()}function B(w,p=l.dragging.value){const q=t.getDraggingRatio(w,p);s.value=t.convertRatioToModel(q),i.value=e.snap!==!0||e.step===0?q:t.convertModelToRatio(s.value)}function T(){l.focus.value=!0}function D(w){if(Pt.includes(w.keyCode)===!1)return;$e(w);const p=([34,33].includes(w.keyCode)?10:1)*l.keyStep.value,q=([34,37,40].includes(w.keyCode)?-1:1)*(l.isReversed.value===!0?-1:1)*(e.vertical===!0?-1:1)*p;s.value=pe(l.roundValueFn.value(s.value+q),l.innerMin.value,l.innerMax.value),g()}return()=>{const w=t.getContent(h,l.tabindex,m,p=>{p.push(_())});return y("div",{ref:a,class:l.classes.value+(e.modelValue===null?" q-slider--no-value":""),...l.attributes.value,"aria-valuenow":e.modelValue},w)}}}),ia={ratio:[String,Number]};function la(e,n){return r(()=>{const o=Number(e.ratio||(n!==void 0?n.value:void 0));return isNaN(o)!==!0&&o>0?{paddingBottom:`${100/o}%`}:null})}const ra=1.7778,sa=oe({name:"QImg",props:{...ia,src:String,srcset:String,sizes:String,alt:String,crossorigin:String,decoding:String,referrerpolicy:String,draggable:Boolean,loading:{type:String,default:"lazy"},loadingShowDelay:{type:[Number,String],default:0},fetchpriority:{type:String,default:"auto"},width:String,height:String,initialRatio:{type:[Number,String],default:ra},placeholderSrc:String,errorSrc:String,fit:{type:String,default:"cover"},position:{type:String,default:"50% 50%"},imgClass:String,imgStyle:Object,noSpinner:Boolean,noNativeMenu:Boolean,noTransition:Boolean,spinnerColor:String,spinnerSize:String},emits:["load","error"],setup(e,{slots:n,emit:o}){const l=j(e.initialRatio),t=la(e,l),a=he(),{registerTimeout:i,removeTimeout:s}=Re(),{registerTimeout:u,removeTimeout:c}=Re(),d=r(()=>e.placeholderSrc!==void 0?{src:e.placeholderSrc}:null),h=r(()=>e.errorSrc!==void 0?{src:e.errorSrc,__qerror:!0}:null),_=[j(null),j(d.value)],m=j(0),g=j(!1),C=j(!1),B=r(()=>`q-img q-img--${e.noNativeMenu===!0?"no-":""}menu`),T=r(()=>({width:e.width,height:e.height})),D=r(()=>`q-img__image ${e.imgClass!==void 0?e.imgClass+" ":""}q-img__image--with${e.noTransition===!0?"out":""}-transition q-img__image--`),w=r(()=>({...e.imgStyle,objectFit:e.fit,objectPosition:e.position}));function p(){if(c(),e.loadingShowDelay===0){g.value=!0;return}u(()=>{g.value=!0},e.loadingShowDelay)}function q(){c(),g.value=!1}function W({target:f}){Ve(a)===!1&&(s(),l.value=f.naturalHeight===0?.5:f.naturalWidth/f.naturalHeight,H(f,1))}function H(f,k){k===1e3||Ve(a)===!0||(f.complete===!0?K(f):i(()=>{H(f,k+1)},50))}function K(f){Ve(a)!==!0&&(m.value=m.value^1,_[m.value].value=null,q(),f.getAttribute("__qerror")!=="true"&&(C.value=!1),o("load",f.currentSrc||f.src))}function Y(f){s(),q(),C.value=!0,_[m.value].value=h.value,_[m.value^1].value=d.value,o("error",f)}function V(f){const k=_[f].value,b={key:"img_"+f,class:D.value,style:w.value,alt:e.alt,crossorigin:e.crossorigin,decoding:e.decoding,referrerpolicy:e.referrerpolicy,height:e.height,width:e.width,loading:e.loading,fetchpriority:e.fetchpriority,"aria-hidden":"true",draggable:e.draggable,...k};return m.value===f?Object.assign(b,{class:b.class+"current",onLoad:W,onError:Y}):b.class+="loaded",y("div",{class:"q-img__container absolute-full",key:"img"+f},y("img",b))}function Q(){return g.value===!1?y("div",{key:"content",class:"q-img__content absolute-full q-anchor--skip"},me(n[C.value===!0?"error":"default"])):y("div",{key:"loading",class:"q-img__loading absolute-full flex flex-center"},n.loading!==void 0?n.loading():e.noSpinner===!0?void 0:[y(xt,{color:e.spinnerColor,size:e.spinnerSize})])}{let f=function(){de(()=>e.src||e.srcset||e.sizes?{src:e.src,srcset:e.srcset,sizes:e.sizes}:null,k=>{s(),C.value=!1,k===null?(q(),_[m.value^1].value=d.value):p(),_[m.value].value=k},{immediate:!0})};Xt.value===!0?je(f):f()}return()=>{const f=[];return t.value!==null&&f.push(y("div",{key:"filler",style:t.value})),_[0].value!==null&&f.push(V(0)),_[1].value!==null&&f.push(V(1)),f.push(y(pt,{name:"q-transition--fade"},Q)),y("div",{key:"main",class:B.value,style:T.value,role:"img","aria-label":e.alt},f)}}});function st(e){if(e===!1)return 0;if(e===!0||e===void 0)return 1;const n=parseInt(e,10);return isNaN(n)?0:n}const ua=He({name:"close-popup",beforeMount(e,{value:n}){const o={depth:st(n),handler(l){o.depth!==0&&setTimeout(()=>{const t=mn(e);t!==void 0&&fn(t,l,o.depth)})},handlerKey(l){Wt(l,13)===!0&&o.handler(l)}};e.__qclosepopup=o,e.addEventListener("click",o.handler),e.addEventListener("keyup",o.handlerKey)},updated(e,{value:n,oldValue:o}){n!==o&&(e.__qclosepopup.depth=st(n))},beforeUnmount(e){const n=e.__qclosepopup;e.removeEventListener("click",n.handler),e.removeEventListener("keyup",n.handlerKey),delete e.__qclosepopup}});function ze(e,n){return n.split(".").reduce((o,l)=>o==null?void 0:o[l],e)}function ca(e,n,o){const l=n.split(".");let t=e;for(let a=0;a<l.length-1;a++){const i=l[a];t[i]??(t[i]={}),t=t[i]}t[l[l.length-1]]=o}function xe(){return Fe.reduce((e,n)=>(e[n]=0,e),{})}const Fe=["armor","attack","defense","damage.normal","damage.piercing","damage.bonus_v_large","damage.bonus_v_infantry","resistance.physical","resistance.magical","resistance.ward_save"],da=[{path:"health.unit",color:"green",label:"Health"},{path:"attack",color:"blue",label:"Attack"},{path:"damage.normal",color:"green",label:"Damage Normal"},{path:"damage.piercing",color:"green",label:"Damage Piercing"},{path:"damage.bonus_v_large",color:"green",label:"Damage Bonus V Large"},{path:"damage.bonus_v_infantry",color:"green",label:"Damage Bonus V Infantry"},{path:"defense",color:"red",label:"Defense"},{path:"armor",color:"orange",label:"Armor"},{path:"resistance.physical",color:"pink",label:"Resistance Physical"},{path:"resistance.fire",color:"pink",label:"Resistance Fire"},{path:"resistance.ward_save",color:"pink",label:"Resistance Ward Save"}];function ut(e){if(!e.selection.unit)return e;const n=JSON.parse(JSON.stringify(e.selection.unit));for(const o of Object.keys(e.bonus))if(typeof e.bonus[o]=="number"){const l=ze(n,o);ca(n,o,l+e.bonus[o])}return{selection:{unit:n,version:e.selection.version,faction:e.selection.faction},entityNumber:e.entityNumber}}const va=40,ma=8,fa=90;function _a(e,n){var i,s,u,c;const o=e.attack||0,l=n.defense||0,a=((s=(i=n.land_unit)==null?void 0:i.battle_entity)==null?void 0:s.size)!=="small"?((u=e.damage)==null?void 0:u.bonus_v_large)||0:((c=e.damage)==null?void 0:c.bonus_v_infantry)||0;return Math.max(ma,Math.min(o-l+va+a,fa))/100}function ga(e,n){var u,c,d,h,_,m;const l=((c=(u=n.land_unit)==null?void 0:u.battle_entity)==null?void 0:c.size)!=="small"?((d=e.damage)==null?void 0:d.bonus_v_large)||0:((h=e.damage)==null?void 0:h.bonus_v_infantry)||0,t=((_=e.damage)==null?void 0:_.normal)||0,a=((m=e.damage)==null?void 0:m.piercing)||0,i=t/(t+a),s=n.armor||0;return(t+l*i)*(1-Math.min(s*.75*.01,1))+a+l*(1-i)}function ha(e,n){var s,u,c,d,h;const o=((s=n.resistance)==null?void 0:s.ward_save)||0,l=((u=n.resistance)==null?void 0:u.physical)||0,t=((c=n.resistance)==null?void 0:c.fire)||0,a=((d=e.damage)==null?void 0:d.is_magical)||!1,i=((h=e.damage)==null?void 0:h.is_fire)||!1;return(o+(a?0:Math.max(l,0))+(i?Math.min(Math.max(t,-100),100):0))/100}function ct(e,n){var a;const o=_a(e,n),l=ha(e,n);return o*(1-l)*ga(e,n)/(((a=n.health)==null?void 0:a.unit)||0)}function pa(e,n){const o=ct(e.selection.unit,n.selection.unit)*(e.entityNumber||1),l=ct(n.selection.unit,e.selection.unit)*(n.entityNumber||1);function t(a,i,s){const u=1/i,d=1-u*s;return{winner:a,hitsNeeded:u,remainingHealth:d}}return o>l?t("left",o,l):l>o?t("right",l,o):t("left",o,l)}const Mt=Yt("unit",{state:()=>({leftUnit:null,rightUnit:null}),actions:{setLeftUnit(e){e?(this.leftUnit=e,this.leftUnit.bonus=xe()):this.leftUnit=null},setRightUnit(e){e?(this.rightUnit=e,this.rightUnit.bonus=xe()):this.rightUnit=null},setLeftUnitBonus(e){this.leftUnit&&(e?this.leftUnit.bonus=e:this.leftUnit.bonus=xe())},setRightUnitBonus(e){this.rightUnit&&(e?this.rightUnit.bonus=e:this.rightUnit.bonus=xe())},setLeftUnitEntityCount(e){this.leftUnit&&(this.leftUnit.entityNumber=e)},setRightUnitEntityCount(e){this.rightUnit&&(this.rightUnit.entityNumber=e)},clearUnits(){this.leftUnit=null,this.rightUnit=null}},getters:{combatResult(){var e,n;return!((e=this.leftUnit)!=null&&e.selection.unit)||!((n=this.rightUnit)!=null&&n.selection.unit)?null:pa(ut(this.leftUnit),ut(this.rightUnit))}},persist:{storage:Gt.localStorage()}}),ba={class:"short-summary"},ya={key:0,class:"combat-result"},ka={class:"winner-section"},Ca={class:"hits-info"},Sa={class:"health-display"},wa={key:1,class:"no-combat"},qa=ve({__name:"ShortSummary",setup(e){const n=Mt(),o=r(()=>n.combatResult),l=r(()=>{var c,d,h;if(!o.value)return"";const u=o.value.winner==="left"?(c=n.leftUnit)==null?void 0:c.selection.unit:(d=n.rightUnit)==null?void 0:d.selection.unit;return((h=u==null?void 0:u.land_unit)==null?void 0:h.onscreen_name)||"Unknown Unit"}),t=r(()=>{var c,d,h;if(!o.value)return"";const u=o.value.winner==="left"?(c=n.rightUnit)==null?void 0:c.selection.unit:(d=n.leftUnit)==null?void 0:d.selection.unit;return((h=u==null?void 0:u.land_unit)==null?void 0:h.onscreen_name)||"Unknown Unit"}),a=r(()=>{var u;return((u=o.value)==null?void 0:u.winner)==="left"?"text-positive":"text-negative"}),i=r(()=>{var u;return((u=o.value)==null?void 0:u.winner)==="left"?"bg-negative":"bg-positive"}),s=r(()=>{var c;const u=(((c=o.value)==null?void 0:c.remainingHealth)||0)*100;return u>=80?"green":u>=60?"light-green":u>=40?"orange":u>=20?"deep-orange":"red"});return(u,c)=>{const d=Wn;return x(),A("div",ba,[o.value?(x(),A("div",ya,[M("div",ka,[M("h2",{class:se(["winner-title",a.value])},X(l.value)+" wins! ",3),M("p",Ca,[qe(" Takes "+X(o.value.hitsNeeded.toFixed(1))+" hits to defeat ",1),M("span",{class:se(["loser-name",i.value])},X(t.value),3),c[0]||(c[0]=qe(", with "))])]),M("div",Sa,[$(d,{"show-value":"","font-size":"12px",value:o.value.remainingHealth*100,size:"50px",thickness:.22,color:s.value,"track-color":"grey-3",class:"q-ma-md"},{default:E(()=>[qe(X((o.value.remainingHealth*100).toFixed(1))+"% ",1)]),_:1},8,["value","color"]),$(d,{"model-value":33,color:"blue",size:"36px",thickness:.8,"show-value":"","font-size":"16px",class:"health-progress"},{default:E(()=>[qe(X((o.value.remainingHealth*100).toFixed(1))+"% ",1)]),_:1}),c[1]||(c[1]=M("p",{class:"health-label"},"Remaining Health",-1))])])):(x(),A("div",wa,c[2]||(c[2]=[M("p",null,"Select two units to see combat results",-1)])))])}}}),xa=be(qa,[["__scopeId","data-v-69c6a1c4"]]),$a=ve({__name:"ModifierDisplay",emits:["modify","reset"],setup(e,{emit:n}){const o=n;return(l,t)=>{const a=$n,i=ce;return x(),A("div",null,[$(i,{round:"",flat:"",dense:"",color:"red","aria-label":"Decrease value",title:"Decrease value",onClick:t[0]||(t[0]=s=>o("modify",-5))},{default:E(()=>[$(a,{name:"line-md:chevron-small-double-left"})]),_:1}),$(i,{round:"",flat:"",dense:"",color:"red","aria-label":"Decrease value",title:"Decrease value",onClick:t[1]||(t[1]=s=>o("modify",-1))},{default:E(()=>[$(a,{name:"line-md:chevron-small-left"})]),_:1}),$(i,{round:"",flat:"",dense:"","aria-label":"Reset value",title:"Reset value",onClick:t[2]||(t[2]=s=>o("reset"))},{default:E(()=>[$(a,{name:"ion:ios-minus-empty"})]),_:1}),$(i,{round:"",flat:"",dense:"",color:"green","aria-label":"Increase value",title:"Increase value",onClick:t[3]||(t[3]=s=>o("modify",1))},{default:E(()=>[$(a,{name:"line-md:chevron-small-right"})]),_:1}),$(i,{round:"",flat:"",dense:"",color:"green","aria-label":"Increase value",title:"Increase value",onClick:t[4]||(t[4]=s=>o("modify",5))},{default:E(()=>[$(a,{name:"line-md:chevron-small-double-right"})]),_:1})])}}}),Ua=ve({__name:"ValueDisplay",props:{value:{type:[Number,Boolean]},isUpdatable:{type:Boolean},bonus:{default:0},orientation:{}},emits:["update"],setup(e,{emit:n}){const o=n;function l(s){i.value+=s,console.log("onModify",i.value),o("update",i.value)}function t(){i.value=0,console.log("onReset",i.value),o("update",i.value)}const i=j(e.bonus);return(s,u)=>(x(),A("div",{class:se(["container",{reverse:s.orientation==="right"}])},[M("div",{class:se(["left base",{right:s.orientation==="right"}])},X(s.value),3),M("div",{class:se(["left bonus",{right:s.orientation==="right"}])},X(i.value),3),s.isUpdatable?(x(),re($a,{key:0,onModify:l,onReset:t})):ae("",!0)],2))}}),dt=be(Ua,[["__scopeId","data-v-26584345"]]),Ba={scope:"col",class:"text-right unit-column"},Na={scope:"col",class:"text-left unit-column"},Pa={key:0,class:"unit-column"},Ma={class:"text-center stat-column"},La={key:1,class:"unit-column"},Ta=ve({__name:"index",props:{leftUnit:{},rightUnit:{}},emits:["update"],setup(e,{emit:n}){const o=n;function l(t,a,i){o("update",t,a,i)}return(t,a)=>{const i=xn;return x(),re(i,{separator:"none",flat:"",bordered:"",dense:""},{default:E(()=>{var s,u,c,d,h,_,m,g;return[M("thead",null,[M("tr",null,[M("th",Ba,[M("b",null,X((d=(c=(u=(s=t.leftUnit)==null?void 0:s.selection)==null?void 0:u.unit)==null?void 0:c.land_unit)==null?void 0:d.onscreen_name),1)]),a[0]||(a[0]=M("th",{scope:"col",class:"text-center stat-column"},[M("b",null,"Statistic")],-1)),M("th",Na,[M("b",null,X((g=(m=(_=(h=t.rightUnit)==null?void 0:h.selection)==null?void 0:_.unit)==null?void 0:m.land_unit)==null?void 0:g.onscreen_name),1)])])]),M("tbody",null,[(x(!0),A(ge,null,ye(N(da),C=>{var B,T,D,w;return x(),A("tr",{key:C.path},[(T=(B=t.leftUnit)==null?void 0:B.selection)!=null&&T.unit?(x(),A("td",Pa,[$(dt,{value:N(ze)(t.leftUnit.selection.unit,C.path),bonus:t.leftUnit.bonus[C.path],isUpdatable:N(Fe).includes(C.path),onUpdate:p=>l("left",C.path,p),orientation:"left"},null,8,["value","bonus","isUpdatable","onUpdate"])])):ae("",!0),M("td",Ma,X(C.label),1),(w=(D=t.rightUnit)==null?void 0:D.selection)!=null&&w.unit?(x(),A("td",La,[$(dt,{value:N(ze)(t.rightUnit.selection.unit,C.path),bonus:t.rightUnit.bonus[C.path],isUpdatable:N(Fe).includes(C.path),onUpdate:p=>l("right",C.path,p),orientation:"right"},null,8,["value","bonus","isUpdatable","onUpdate"])])):ae("",!0)])}),128))])]}),_:1})}}}),Aa=be(Ta,[["__scopeId","data-v-85679952"]]),Ge="https://res.cloudinary.com/fishofstone/image/upload/twwstats/api",Da="ui/skins/default/icon_cross.webp",Va="mon_64.webp";function Oe(e,n){let o=`${Ge}/${e}`;if(n.general_portrait&&n.general_portrait.length>0){const l=n.general_portrait.replace("portholes","units").replace(".png",".webp");o+=`/${l}`}else n.unit_card_url?o+=`/ui/units/icons/${n.unit_card_url}.webp`:n.unit&&(o+=`/ui/units/icons/${n.unit}.webp`);return o}async function Ia(e,n,o){var l,t,a,i,s,u,c,d,h,_,m,g,C,B,T,D,w,p,q,W,H,K,Y,V,Q,f,k,b,L,z,I,ee,ne,ie,G,J,P;if(!n||!o)throw new Error("ID de version et clé d'unité requis");try{const F=await e.query({tww:{__args:{tww_version:n},unit:{__args:{id:o},unit:!0,caste:!0,num_men:!0,recruitment_cost:!0,upkeep_cost:!0,land_unit:{onscreen_name:!0,bonus_hit_points:!0,num_engines:!0,num_mounts:!0,battle_entity:{hit_points:!0,size:!0,type:!0},articulated_vehicle_entity:{hit_points:!0},engine:{battle_entity:{hit_points:!0,type:!0}},mount:{battle_entity:{hit_points:!0}},armour:{armour_value:!0},primary_melee_weapon:{damage:!0,ap_damage:!0,bonus_v_large:!0,bonus_v_infantry:!0,melee_attack_interval:!0,is_magical:!0,ignition_amount:!0},melee_attack:!0,melee_defence:!0,variant:{unit_card_url:!0}},battle_mounts:{base_unit:!0,mounted_unit:!0,icon_name:!0,mount_name:!0},custom_battle_permissions:{general_portrait:!0},ui_unit_group:{parent_group:{onscreen_name:!0}}}}});if(!((l=F==null?void 0:F.tww)!=null&&l.unit))return null;const S=F.tww.unit;return!S||typeof S.unit!="string"||typeof S.caste!="string"||typeof S.num_men!="number"||!S.land_unit?null:{version:n,unit:S.unit,caste:S.caste,num_men:S.num_men,recruitment_cost:Number(S.recruitment_cost||0),upkeep_cost:Number(S.upkeep_cost||0),land_unit:{onscreen_name:((t=S.land_unit)==null?void 0:t.onscreen_name)||"",bonus_hit_points:Number(((a=S.land_unit)==null?void 0:a.bonus_hit_points)||0),battle_entity:{hit_points:Number(((s=(i=S.land_unit)==null?void 0:i.battle_entity)==null?void 0:s.hit_points)||0),size:((c=(u=S.land_unit)==null?void 0:u.battle_entity)==null?void 0:c.size)||"small",type:((h=(d=S.land_unit)==null?void 0:d.battle_entity)==null?void 0:h.type)||""}},battle_mounts:(S.battle_mounts||[]).filter(te=>te!==null).map(te=>({base_unit:te.base_unit||"",mounted_unit:te.mounted_unit||"",icon_name:te.icon_name||"",mount_name:te.mount_name||""})),health:{unit:_n(S),entity:Math.round(((m=(_=S.land_unit)==null?void 0:_.battle_entity)==null?void 0:m.hit_points)||0)},armor:Number(((C=(g=S.land_unit)==null?void 0:g.armour)==null?void 0:C.armour_value)||0),attack:Number(((B=S.land_unit)==null?void 0:B.melee_attack)||0),defense:Number(((T=S.land_unit)==null?void 0:T.melee_defence)||0),attack_interval:Number(((w=(D=S.land_unit)==null?void 0:D.primary_melee_weapon)==null?void 0:w.melee_attack_interval)||0),damage:{normal:Number(((q=(p=S.land_unit)==null?void 0:p.primary_melee_weapon)==null?void 0:q.damage)||0),piercing:Number(((H=(W=S.land_unit)==null?void 0:W.primary_melee_weapon)==null?void 0:H.ap_damage)||0),is_magical:!!((Y=(K=S.land_unit)==null?void 0:K.primary_melee_weapon)!=null&&Y.is_magical),is_fire:Number(((Q=(V=S.land_unit)==null?void 0:V.primary_melee_weapon)==null?void 0:Q.ignition_amount)||0)>0,bonus_v_large:Number(((k=(f=S.land_unit)==null?void 0:f.primary_melee_weapon)==null?void 0:k.bonus_v_large)||0),bonus_v_infantry:Number(((L=(b=S.land_unit)==null?void 0:b.primary_melee_weapon)==null?void 0:L.bonus_v_infantry)||0)},resistance:{physical:0,magical:0,fire:0,ward_save:0},is_large:((I=(z=S.land_unit)==null?void 0:z.battle_entity)==null?void 0:I.size)!=="small",general_portrait:((ne=(ee=S.custom_battle_permissions)==null?void 0:ee[0])==null?void 0:ne.general_portrait)||"",group:((G=(ie=S.ui_unit_group)==null?void 0:ie.parent_group)==null?void 0:G.onscreen_name)||"",unit_card_url:((P=(J=S.land_unit)==null?void 0:J.variant)==null?void 0:P.unit_card_url)||""}}catch(F){throw console.error("Erreur lors de la récupération de l'unité:",F),F}}function vt(e,n){if(!(!e||!(n!=null&&n.flags_url)))return`${Ge}/${e}/${n.flags_url}/${Va}`}const Ra={class:"row items-center q-gutter-x-sm"},Ea={class:"q-mb-md"},za={key:0,class:"version-icons-row"},Fa=["onClick"],Oa={class:"version-icon"},ja={class:"version-label"},Ha={class:"q-mb-md"},Qa={key:0,class:"faction-icons-row"},Ka=["onClick"],Xa=["src","alt"],Wa={class:"faction-label"},Ya={class:"q-mb-md"},Ga={key:0},Ja={class:"group-label"},Za={class:"unit-icons-row"},eo=["onClick"],to=["src","alt"],no={class:"unit-label"},ao={key:1},oo=ve({__name:"SelectUnit",props:{unitSelection:{},version:{}},emits:["update:unitSelection","update:version"],setup(e,{emit:n}){const o=j(null),l=j("version"),t=j(!1),a=n,i=j(null),s=r({get:()=>{var f;return((f=i.value)==null?void 0:f.version)||null},set:f=>{i.value?i.value.version=f:f&&(i.value={unit:void 0,version:f,faction:void 0})}}),u=r({get:()=>{var f;return((f=i.value)==null?void 0:f.faction)||null},set:f=>{i.value?i.value.faction=f:f&&(i.value={unit:void 0,version:void 0,faction:f})}}),c=r({get:()=>{var f;return((f=i.value)==null?void 0:f.unit)||null},set:f=>{i.value?i.value.unit=f:f&&(i.value={unit:f,version:void 0,faction:void 0})}}),{data:d,isLoading:h}=gn(),_=r(()=>d.value?d.value:[]),m=r(()=>{var f,k;return((k=(f=i.value)==null?void 0:f.version)==null?void 0:k.id)??""}),{data:g,isLoading:C,refetch:B}=hn(m),T=r(()=>g.value?g.value:[]),D=r(()=>{var f,k;return((k=(f=i.value)==null?void 0:f.faction)==null?void 0:k.key)??""}),{data:w,isLoading:p,refetch:q}=pn(m,D);r(()=>w.value?w.value.map(f=>{var k;return{label:((k=f.land_unit)==null?void 0:k.onscreen_name)||f.unit,value:f.unit}}):[]);const W=r(()=>{var z;if(!w.value)return{};const f={};for(const I of w.value){const ee=I.group||"Autres";f[ee]||(f[ee]=[]),f[ee].push(I)}const k={};for(const[I,ee]of Object.entries(f)){const ne={};for(const G of ee){const J=((z=G.land_unit)==null?void 0:z.onscreen_name)||G.unit;ne[J]||(ne[J]=[]),ne[J].push(G)}const ie=[];for(const G in ne){const J=ne[G].sort((P,F)=>{const S=P.recruitment_cost||0,ue=F.recruitment_cost||0;return S-ue})[0];ie.push(J)}ie.sort((G,J)=>{var te,we;const P=G.recruitment_cost||0,F=J.recruitment_cost||0;if(P!==F)return P-F;const S=((te=G.land_unit)==null?void 0:te.onscreen_name)||G.unit,ue=((we=J.land_unit)==null?void 0:we.onscreen_name)||J.unit;return S.localeCompare(ue)}),k[I]=ie}const b=["Lords","Heroes","Infantry","Missile Infantry","Cavalry & Chariots","Missile Cavalry & Chariots","Artillery & War Machines"],L={};for(const I of b)k[I]&&(L[I]=k[I]);for(const[I,ee]of Object.entries(k))b.includes(I)||(L[I]=ee);return L});de(l,async f=>{f==="version"?i.value&&(i.value.faction=void 0,i.value.unit=void 0):f==="faction"?(await B(),i.value&&(i.value.unit=void 0)):f==="unit"&&await q()});const H=()=>{l.value==="version"&&s.value?(u.value=void 0,c.value=void 0,l.value="faction"):l.value==="faction"&&u.value&&(c.value=void 0,l.value="unit")},K=()=>{l.value==="unit"?(c.value=void 0,l.value="faction"):l.value==="faction"&&(u.value=void 0,l.value="version")},Y=f=>{s.value=f,l.value="faction"},V=f=>{u.value=f,l.value="unit"},Q=f=>{c.value=f,i.value&&(t.value=!1,a("update:unitSelection",i.value))};return(f,k)=>{const b=ce,L=yn,z=Qn,I=xt,ee=Hn,ne=We,ie=Ln,G=Xe,J=bn;return x(),A("div",Ra,[$(b,{label:"Pick a Unit",color:"primary",onClick:k[0]||(k[0]=P=>t.value=!0)}),$(J,{modelValue:t.value,"onUpdate:modelValue":k[6]||(k[6]=P=>t.value=P)},{default:E(()=>[$(G,{class:"custom"},{default:E(()=>[$(ne,{class:"q-card-section-custom"},{default:E(()=>[$(ee,{ref_key:"carouselRef",ref:o,padding:!1,modelValue:l.value,"onUpdate:modelValue":k[3]||(k[3]=P=>l.value=P),autoplay:!1,"transition-prev":"slide-left","transition-next":"slide-right","aria-hidden":"true",class:"q-carousel-custom"},{default:E(()=>[$(z,{name:"version",key:"version"},{default:E(()=>[M("div",Ea,[$(L,{modelValue:s.value,"onUpdate:modelValue":k[1]||(k[1]=P=>s.value=P),options:_.value,loading:N(h),label:"Versions",dense:"",outlined:"","option-label":"name","option-value":"id"},null,8,["modelValue","options","loading"]),N(d)&&l.value==="version"?(x(),A("div",za,[(x(!0),A(ge,null,ye(N(d),P=>{var F;return x(),A("div",{key:P.id,class:se(["version-icon-container",{selected:s.value&&s.value.id===P.id}]),onClick:S=>Y(P)},[M("div",Oa,X(((F=P.name)==null?void 0:F.charAt(0))||"V"),1),M("div",ja,X(P.name),1)],10,Fa)}),128))])):ae("",!0)])]),_:1}),$(z,{name:"faction",key:"faction"},{default:E(()=>[M("div",Ha,[$(L,{modelValue:u.value,"onUpdate:modelValue":k[2]||(k[2]=P=>u.value=P),options:T.value,loading:N(C),disable:!s.value||N(C),label:"Faction",dense:"",outlined:"","option-label":"screen_name","option-value":"key"},null,8,["modelValue","options","loading","disable"]),N(g)&&l.value==="faction"?(x(),A("div",Qa,[(x(!0),A(ge,null,ye(N(g),P=>{var F;return x(),A("div",{key:P.key,class:se(["faction-icon-container",{selected:u.value&&u.value.key===P.key}]),onClick:S=>V(P)},[N(vt)(m.value,P)?(x(),A("img",{key:0,src:N(vt)(m.value,P),alt:P.screen_name||P.key,class:"faction-icon"},null,8,Xa)):ae("",!0),M("div",Wa,X(((F=P.subculture)==null?void 0:F.name)||P.key),1)],10,Ka)}),128))])):ae("",!0)])]),_:1}),$(z,{name:"unit",key:"unit"},{default:E(()=>[M("div",Ya,[N(w)&&Object.keys(W.value).length>0?(x(),A("div",Ga,[(x(!0),A(ge,null,ye(W.value,(P,F)=>(x(),A("div",{key:F,class:"unit-group-block"},[M("div",Ja,X(F),1),M("div",Za,[(x(!0),A(ge,null,ye(P,S=>{var ue,te;return x(),A("div",{key:S.unit,class:se(["unit-icon-container",{selected:c.value&&c.value.unit===S.unit}]),onClick:we=>Q(S)},[N(Oe)(m.value,S)?(x(),A("img",{key:0,src:N(Oe)(m.value,S),alt:((ue=S.land_unit)==null?void 0:ue.onscreen_name)||S.unit,class:"unit-icon"},null,8,to)):ae("",!0),M("div",no,X(((te=S.land_unit)==null?void 0:te.onscreen_name)||S.unit),1)],10,eo)}),128))])]))),128))])):(x(),A("div",ao,[$(I,{color:"primary"})]))])]),_:1})]),_:1},8,["modelValue"])]),_:1}),$(ie,{class:"text-primary q-card-actions-custom",align:"between"},{default:E(()=>[l.value==="version"?(x(),re(b,{key:0,label:"Fermer",flat:"",dense:"",onClick:k[4]||(k[4]=P=>t.value=!1)})):(x(),re(b,{key:1,label:"Back",flat:"",dense:"",onClick:K})),l.value!=="unit"?(x(),re(b,{key:2,disable:l.value==="version"&&!s.value||l.value==="faction"&&!u.value,label:"Next",color:"primary",flat:"",dense:"",onClick:H},null,8,["disable"])):(x(),re(b,{key:3,disable:!c.value||!s.value||!u.value,label:"Finish",color:"primary",flat:"",dense:"",onClick:k[5]||(k[5]=()=>{t.value=!1,i.value&&a("update:unitSelection",i.value)})},null,8,["disable"]))]),_:1})]),_:1})]),_:1},8,["modelValue"])])}}}),io=be(oo,[["__scopeId","data-v-c3f9d222"]]);function mt(e,n){return`${Ge}/${e}/${n.replace(/\.png/,".webp")}`}function lo(e,n,o){const l=kn();return Cn({queryKey:["tww","versions",e,"units",n],queryFn:()=>Ia(l,e.value,n.value),staleTime:30*60*1e3,enabled:!!e.value&&!!n.value})}const ro=["src"],so=["src"],uo=ve({__name:"MountPicker",props:{unit:{}},emits:["update:unit"],setup(e,{emit:n}){const o=e,l=n,t=r(()=>{var g;return(g=i.value.find(C=>C.mounted_unit===o.unit.unit))==null?void 0:g.icon_name}),a=j(null),i=r(()=>{const g=o.unit.battle_mounts;if(g.length>0){const C={base_unit:g[0].base_unit,mounted_unit:g[0].base_unit,icon_name:Da,mount_name:"On Foot"};return[...g,C]}return[]}),s=r(()=>o.unit.version),u=r(()=>a.value||""),{data:c,isLoading:d,error:h,refetch:_}=lo(s,u);de(a,async g=>{g!==null&&(await _(),c.value&&l("update:unit",c.value))},{immediate:!0});function m(g){const C=g.mounted_unit;C!==o.unit.unit&&(a.value=C)}return(g,C)=>{const B=Un,T=wn,D=Sn,w=Mn,p=ua;return x(),A(ge,null,[$(w,null,{default:E(()=>[$(D,null,{default:E(()=>[(x(!0),A(ge,null,ye(i.value,q=>Jt((x(),re(T,{key:q.mounted_unit,onClick:W=>m(q),clickable:""},{default:E(()=>[$(B,null,{default:E(()=>[M("img",{src:N(mt)(g.unit.version,q.icon_name)},null,8,ro)]),_:2},1024),qe(" "+X(q.mount_name),1)]),_:2},1032,["onClick"])),[[p]])),128))]),_:1})]),_:1}),t.value?(x(),re(B,{key:0},{default:E(()=>[M("img",{src:N(mt)(g.unit.version,t.value)},null,8,so)]),_:1})):ae("",!0)],64)}}}),co={class:"text-h6"},vo=ve({__name:"index",props:{orientation:{default:"left"},modelValue:{}},emits:["update:modelValue"],setup(e,{emit:n}){const o=r(()=>{var d;return((d=t.modelValue)==null?void 0:d.selection)||null}),l=j(null),t=e,a=n;function i(d){const h=d.num_men||1,_=Math.min(15,h);t.modelValue&&(t.modelValue.selection.unit=d,a("update:modelValue",{selection:t.modelValue.selection,entityNumber:_,bonus:t.modelValue.bonus}))}function s(d){var m;const h=((m=d.unit)==null?void 0:m.num_men)||1,_=Math.min(15,h);a("update:modelValue",{selection:d,entityNumber:_,bonus:xe()})}const u=r(()=>{var d,h,_;return(_=(h=(d=o.value)==null?void 0:d.unit)==null?void 0:h.land_unit)!=null&&_.onscreen_name?o.value.unit.land_unit.onscreen_name:"Unit Title"}),c=r(()=>{var d,h,_;if((d=o.value)!=null&&d.unit&&((_=(h=o.value)==null?void 0:h.version)!=null&&_.id)){const m=Oe(o.value.version.id,o.value.unit);if(m)return m}return"/default-unit-image.jpg"});return(d,h)=>{const _=sa,m=We,g=Xe;return x(),re(g,{class:"unit-card"},{default:E(()=>[$(_,{src:c.value,ratio:16/9,fit:"contain",class:"unit-image"},null,8,["src"]),$(m,{class:se([d.orientation,"card-section"])},{default:E(()=>{var C,B,T,D,w,p;return[M("div",co,X(u.value),1),M("div",{class:se(["q-mt-md",{"flex justify-end":d.orientation==="right"}])},[$(io,{unitSelection:o.value,version:N(l),"onUpdate:unitSelection":h[0]||(h[0]=q=>s(q)),"onUpdate:version":h[1]||(h[1]=q=>l.value=q)},null,8,["unitSelection","version"])],2),(T=(B=(C=o.value)==null?void 0:C.unit)==null?void 0:B.battle_mounts)!=null&&T.length&&((p=(w=(D=o.value)==null?void 0:D.unit)==null?void 0:w.battle_mounts)==null?void 0:p.length)>0?(x(),re(uo,{key:0,unit:o.value.unit,"onUpdate:unit":h[2]||(h[2]=q=>i(q))},null,8,["unit"])):ae("",!0)]}),_:1},8,["class"])]),_:1})}}}),ft=be(vo,[["__scopeId","data-v-574bd189"]]),mo={key:0,class:"col-6"},fo={class:"text-caption q-mb-xs"},_o=ve({__name:"EntitySliders",props:{entityNumber:{},maxEntities:{}},emits:["update:entityNumber"],setup(e,{emit:n}){const o=n,l=t=>{t!==null&&o("update:entityNumber",t)};return(t,a)=>{const i=oa,s=We,u=Xe;return t.maxEntities>1?(x(),A("div",mo,[$(u,null,{default:E(()=>[$(s,null,{default:E(()=>[M("div",fo," Active entities: "+X(t.entityNumber),1),$(i,{"model-value":t.entityNumber,"onUpdate:modelValue":l,min:1,max:t.maxEntities,step:1,label:"","label-always":""},null,8,["model-value","max"])]),_:1})]),_:1})])):ae("",!0)}}}),_t=be(_o,[["__scopeId","data-v-1acadf39"]]),go={class:"q-pa-md container"},ho={class:"justify-center items-center unit-cards-container"},po={class:"text-center"},bo={key:0,class:"entity-sliders-container"},yo={key:0,class:"entity-slider"},ko={key:1,class:"entity-slider"},Co={key:2,class:"entity-slider"},So=ve({__name:"index",setup(e){const n=Mt(),o=(t,a,i)=>{var s,u;if(t==="left"){const c=((s=n.leftUnit)==null?void 0:s.bonus)??null;c&&(c[a]=i),n.setLeftUnitBonus(c)}else{const c=((u=n.rightUnit)==null?void 0:u.bonus)??null;c&&(c[a]=i),n.setRightUnitBonus(c)}},l=()=>{n.clearUnits()};return(t,a)=>{var c,d,h,_;const i=ce,s=xa,u=Aa;return x(),A(ge,null,[a[4]||(a[4]=M("h1",{class:"title"},"TWW3 Brawl",-1)),M("div",go,[M("div",ho,[$(ft,{orientation:"left",class:"bg-positive unit-card",modelValue:N(n).leftUnit,"onUpdate:modelValue":a[0]||(a[0]=m=>N(n).setLeftUnit(m))},null,8,["modelValue"]),$(ft,{orientation:"right",class:"bg-negative unit-card",modelValue:N(n).rightUnit,"onUpdate:modelValue":a[1]||(a[1]=m=>N(n).setRightUnit(m))},null,8,["modelValue"])]),M("div",po,[$(i,{label:"Reset",color:"warning",icon:"refresh",onClick:l})]),N(n).leftUnit||N(n).rightUnit?(x(),A("div",bo,[N(n).leftUnit&&N(n).leftUnit.entityNumber>1?(x(),A("div",yo,[$(_t,{"entity-number":N(n).leftUnit.entityNumber,"max-entities":((d=(c=N(n).leftUnit.selection)==null?void 0:c.unit)==null?void 0:d.num_men)||1,"onUpdate:entityNumber":a[2]||(a[2]=m=>N(n).setLeftUnitEntityCount(m))},null,8,["entity-number","max-entities"])])):(x(),A("div",ko)),N(n).rightUnit&&N(n).rightUnit.entityNumber>1?(x(),A("div",Co,[$(_t,{"entity-number":N(n).rightUnit.entityNumber,"max-entities":((_=(h=N(n).rightUnit.selection)==null?void 0:h.unit)==null?void 0:_.num_men)||1,"onUpdate:entityNumber":a[3]||(a[3]=m=>N(n).setRightUnitEntityCount(m))},null,8,["entity-number","max-entities"])])):ae("",!0)])):ae("",!0),$(s),$(u,{leftUnit:N(n).leftUnit,rightUnit:N(n).rightUnit,onUpdate:o},null,8,["leftUnit","rightUnit"])])],64)}}}),Uo=be(So,[["__scopeId","data-v-cedcd920"]]);export{Uo as default};
