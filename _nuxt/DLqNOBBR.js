import{H as ce,j as c,h as x,I as ge,r as J,J as oe,o as Ee,K as $e,L as Ze,M as Me,N as de,O as Ue,P as qt,Q as ye,R as Ve,S as Be,T as $t,U as Mt,V as ln,W as Ut,e as Ge,X as dt,Y as Oe,Z as rn,$ as qe,a0 as sn,a1 as un,a2 as cn,d as me,t as K,v as R,z as E,A as Y,_ as _e,a3 as se,a4 as D,a5 as dn,a6 as ue,B as we,y as le,a7 as Bt,a8 as vn,x as F,a9 as ke,aa as fe,ab as Se,ac as mn}from"./Cfa7GsGy.js";import{u as Nt,a as Vt,Q as At,h as Pt,b as Tt,c as he,d as fn,n as Rt,e as gn,g as _n,f as hn,_ as ve,i as Je,j as et,k as bn,l as pn,m as Et,o as Ke,p as yn,q as kn,r as Cn,s as wn,t as Lt,v as xe,w as Ft,x as Sn,y as xn,z as It,A as je,B as qn,C as $n,D as Mn,E as vt,F as Un,G as Bn,H as Nn,I as Vn,J as An,K as Pn,L as Tn,M as Rn,N as En,O as Ln,P as Fn,R as In,S as Dn,T as zn,U as On,V as jn,W as Hn}from"./CwE6dMdF.js";import Kn from"./DcQLLIRt.js";/* empty css        */const Qn=ce({name:"QAvatar",props:{...Nt,fontSize:String,color:String,textColor:String,icon:String,square:Boolean,rounded:Boolean},setup(e,{slots:n}){const i=Vt(e),o=c(()=>"q-avatar"+(e.color?` bg-${e.color}`:"")+(e.textColor?` text-${e.textColor} q-chip--colored`:"")+(e.square===!0?" q-avatar--square":e.rounded===!0?" rounded-borders":"")),t=c(()=>e.fontSize?{fontSize:e.fontSize}:null);return()=>{const a=e.icon!==void 0?[x(At,{name:e.icon})]:void 0;return x("div",{class:o.value,style:i.value},[x("div",{class:"q-avatar__content row flex-center overflow-hidden",style:t.value},Pt(n.default,a))])}}}),Wn=["top","middle","bottom"],Xn=ce({name:"QBadge",props:{color:String,textColor:String,floating:Boolean,transparent:Boolean,multiLine:Boolean,outline:Boolean,rounded:Boolean,label:[Number,String],align:{type:String,validator:e=>Wn.includes(e)}},setup(e,{slots:n}){const i=c(()=>e.align!==void 0?{verticalAlign:e.align}:null),o=c(()=>{const t=e.outline===!0&&e.color||e.textColor;return`q-badge flex inline items-center no-wrap q-badge--${e.multiLine===!0?"multi":"single"}-line`+(e.outline===!0?" q-badge--outline":e.color!==void 0?` bg-${e.color}`:"")+(t!==void 0?` text-${t}`:"")+(e.floating===!0?" q-badge--floating":"")+(e.rounded===!0?" q-badge--rounded":"")+(e.transparent===!0?" q-badge--transparent":"")});return()=>x("div",{class:o.value,style:i.value,role:"status","aria-label":e.label},Tt(n.default,e.label!==void 0?[e.label]:[]))}}),Yn=ce({name:"QBtnGroup",props:{unelevated:Boolean,outline:Boolean,flat:Boolean,rounded:Boolean,square:Boolean,push:Boolean,stretch:Boolean,glossy:Boolean,spread:Boolean},setup(e,{slots:n}){const i=c(()=>{const o=["unelevated","outline","flat","rounded","square","push","stretch","glossy"].filter(t=>e[t]===!0).map(t=>`q-btn-group--${t}`).join(" ");return`q-btn-group row no-wrap${o.length!==0?" "+o:""}`+(e.spread===!0?" q-btn-group--spread":" inline")});return()=>x("div",{class:i.value},he(n.default))}}),Zn=Object.keys(Rt);function Gn(e){return Zn.reduce((n,i)=>{const o=e[i];return o!==void 0&&(n[i]=o),n},{})}const Jn=ce({name:"QBtnDropdown",props:{...Rt,...fn,modelValue:Boolean,split:Boolean,dropdownIcon:String,contentClass:[Array,String,Object],contentStyle:[Array,String,Object],cover:Boolean,persistent:Boolean,noEscDismiss:Boolean,noRouteDismiss:Boolean,autoClose:Boolean,noRefocus:Boolean,noFocus:Boolean,menuAnchor:{type:String,default:"bottom end"},menuSelf:{type:String,default:"top end"},menuOffset:Array,disableMainBtn:Boolean,disableDropdown:Boolean,noIconAnimation:Boolean,toggleAriaLabel:String},emits:["update:modelValue","click","beforeShow","show","beforeHide","hide"],setup(e,{slots:n,emit:i}){const{proxy:o}=ge(),t=J(e.modelValue),a=J(null),l=gn(),r=c(()=>{const w={"aria-expanded":t.value===!0?"true":"false","aria-haspopup":"true","aria-controls":l.value,"aria-label":e.toggleAriaLabel||o.$q.lang.label[t.value===!0?"collapse":"expand"](e.label)};return(e.disable===!0||e.split===!1&&e.disableMainBtn===!0||e.disableDropdown===!0)&&(w["aria-disabled"]="true"),w}),d=c(()=>"q-btn-dropdown__arrow"+(t.value===!0&&e.noIconAnimation===!1?" rotate-180":"")+(e.split===!1?" q-btn-dropdown__arrow-container":"")),u=c(()=>_n(e)),s=c(()=>Gn(e));oe(()=>e.modelValue,w=>{var $;($=a.value)==null||$[w?"show":"hide"]()}),oe(()=>e.split,q);function m(w){t.value=!0,i("beforeShow",w)}function k(w){i("show",w),i("update:modelValue",!0)}function b(w){t.value=!1,i("beforeHide",w)}function C(w){i("hide",w),i("update:modelValue",!1)}function U(w){i("click",w)}function N(w){$e(w),q(),i("click",w)}function I(w){var $;($=a.value)==null||$.toggle(w)}function V(w){var $;($=a.value)==null||$.show(w)}function q(w){var $;($=a.value)==null||$.hide(w)}return Object.assign(o,{show:V,hide:q,toggle:I}),Ee(()=>{e.modelValue===!0&&V()}),()=>{const w=[x(At,{class:d.value,name:e.dropdownIcon||o.$q.iconSet.arrow.dropdown})];return e.disableDropdown!==!0&&w.push(x(hn,{ref:a,id:l.value,class:e.contentClass,style:e.contentStyle,cover:e.cover,fit:!0,persistent:e.persistent,noEscDismiss:e.noEscDismiss,noRouteDismiss:e.noRouteDismiss,autoClose:e.autoClose,noFocus:e.noFocus,noRefocus:e.noRefocus,anchor:e.menuAnchor,self:e.menuSelf,offset:e.menuOffset,separateClosePopup:!0,transitionShow:e.transitionShow,transitionHide:e.transitionHide,transitionDuration:e.transitionDuration,onBeforeShow:m,onShow:k,onBeforeHide:b,onHide:C},n.default)),e.split===!1?x(ve,{class:"q-btn-dropdown q-btn-dropdown--simple",...s.value,...r.value,disable:e.disable===!0||e.disableMainBtn===!0,noWrap:!0,round:!1,onClick:U},{default:()=>he(n.label,[]).concat(w),loading:n.loading}):x(Yn,{class:"q-btn-dropdown q-btn-dropdown--split no-wrap q-btn-item",rounded:e.rounded,square:e.square,...u.value,glossy:e.glossy,stretch:e.stretch},()=>[x(ve,{class:"q-btn-dropdown--current",...s.value,disable:e.disable===!0||e.disableMainBtn===!0,noWrap:!0,round:!1,onClick:N},{default:n.label,loading:n.loading}),x(ve,{class:"q-btn-dropdown__arrow-container q-anchor--skip",...r.value,...u.value,disable:e.disable===!0||e.disableDropdown===!0,rounded:e.rounded,color:e.color,textColor:e.textColor,dense:e.dense,size:e.size,padding:e.padding,ripple:e.ripple},()=>w)])}}}),tt=ce({name:"QCard",props:{...Je,tag:{type:String,default:"div"},square:Boolean,flat:Boolean,bordered:Boolean},setup(e,{slots:n}){const{proxy:{$q:i}}=ge(),o=et(e,i),t=c(()=>"q-card"+(o.value===!0?" q-card--dark q-dark":"")+(e.bordered===!0?" q-card--bordered":"")+(e.square===!0?" q-card--square no-border-radius":"")+(e.flat===!0?" q-card--flat no-shadow":""));return()=>x(e.tag,{class:t.value},he(n.default))}}),ea=ce({name:"QCardActions",props:{...bn,vertical:Boolean},setup(e,{slots:n}){const i=pn(e),o=c(()=>`q-card__actions ${i.value} q-card__actions--${e.vertical===!0?"vert column":"horiz row"}`);return()=>x("div",{class:o.value},he(n.default))}}),nt=ce({name:"QCardSection",props:{tag:{type:String,default:"div"},horizontal:Boolean},setup(e,{slots:n}){const i=c(()=>`q-card__section q-card__section--${e.horizontal===!0?"horiz row no-wrap":"vert"}`);return()=>x(e.tag,{class:i.value},he(n.default))}}),at={left:!0,right:!0,up:!0,down:!0,horizontal:!0,vertical:!0},ta=Object.keys(at);at.all=!0;function Pe(e){const n={};for(const i of ta)e[i]===!0&&(n[i]=!0);return Object.keys(n).length===0?at:(n.horizontal===!0?n.left=n.right=!0:n.left===!0&&n.right===!0&&(n.horizontal=!0),n.vertical===!0?n.up=n.down=!0:n.up===!0&&n.down===!0&&(n.vertical=!0),n.horizontal===!0&&n.vertical===!0&&(n.all=!0),n)}const na=["INPUT","TEXTAREA"];function Te(e,n){return n.event===void 0&&e.target!==void 0&&e.target.draggable!==!0&&typeof n.handler=="function"&&na.includes(e.target.nodeName.toUpperCase())===!1&&(e.qClonedBy===void 0||e.qClonedBy.indexOf(n.uid)===-1)}function aa(e){const n=[.06,6,50];return typeof e=="string"&&e.length&&e.split(":").forEach((i,o)=>{const t=parseFloat(i);t&&(n[o]=t)}),n}const ia=Ze({name:"touch-swipe",beforeMount(e,{value:n,arg:i,modifiers:o}){if(o.mouse!==!0&&de.has.touch!==!0)return;const t=o.mouseCapture===!0?"Capture":"",a={handler:n,sensitivity:aa(i),direction:Pe(o),noop:qt,mouseStart(l){Te(l,a)&&$t(l)&&(ye(a,"temp",[[document,"mousemove","move",`notPassive${t}`],[document,"mouseup","end","notPassiveCapture"]]),a.start(l,!0))},touchStart(l){if(Te(l,a)){const r=l.target;ye(a,"temp",[[r,"touchmove","move","notPassiveCapture"],[r,"touchcancel","end","notPassiveCapture"],[r,"touchend","end","notPassiveCapture"]]),a.start(l)}},start(l,r){de.is.firefox===!0&&Ue(e,!0);const d=Be(l);a.event={x:d.left,y:d.top,time:Date.now(),mouse:r===!0,dir:!1}},move(l){if(a.event===void 0)return;if(a.event.dir!==!1){Ve(l);return}const r=Date.now()-a.event.time;if(r===0)return;const d=Be(l),u=d.left-a.event.x,s=Math.abs(u),m=d.top-a.event.y,k=Math.abs(m);if(a.event.mouse!==!0){if(s<a.sensitivity[1]&&k<a.sensitivity[1]){a.end(l);return}}else if(window.getSelection().toString()!==""){a.end(l);return}else if(s<a.sensitivity[2]&&k<a.sensitivity[2])return;const b=s/r,C=k/r;a.direction.vertical===!0&&s<k&&s<100&&C>a.sensitivity[0]&&(a.event.dir=m<0?"up":"down"),a.direction.horizontal===!0&&s>k&&k<100&&b>a.sensitivity[0]&&(a.event.dir=u<0?"left":"right"),a.direction.up===!0&&s<k&&m<0&&s<100&&C>a.sensitivity[0]&&(a.event.dir="up"),a.direction.down===!0&&s<k&&m>0&&s<100&&C>a.sensitivity[0]&&(a.event.dir="down"),a.direction.left===!0&&s>k&&u<0&&k<100&&b>a.sensitivity[0]&&(a.event.dir="left"),a.direction.right===!0&&s>k&&u>0&&k<100&&b>a.sensitivity[0]&&(a.event.dir="right"),a.event.dir!==!1?(Ve(l),a.event.mouse===!0&&(document.body.classList.add("no-pointer-events--children"),document.body.classList.add("non-selectable"),Et(),a.styleCleanup=U=>{a.styleCleanup=void 0,document.body.classList.remove("non-selectable");const N=()=>{document.body.classList.remove("no-pointer-events--children")};U===!0?setTimeout(N,50):N()}),a.handler({evt:l,touch:a.event.mouse!==!0,mouse:a.event.mouse,direction:a.event.dir,duration:r,distance:{x:s,y:k}})):a.end(l)},end(l){var r;a.event!==void 0&&(Me(a,"temp"),de.is.firefox===!0&&Ue(e,!1),(r=a.styleCleanup)==null||r.call(a,!0),l!==void 0&&a.event.dir!==!1&&Ve(l),a.event=void 0)}};if(e.__qtouchswipe=a,o.mouse===!0){const l=o.mouseCapture===!0||o.mousecapture===!0?"Capture":"";ye(a,"main",[[e,"mousedown","mouseStart",`passive${l}`]])}de.has.touch===!0&&ye(a,"main",[[e,"touchstart","touchStart",`passive${o.capture===!0?"Capture":""}`],[e,"touchmove","noop","notPassiveCapture"]])},updated(e,n){const i=e.__qtouchswipe;i!==void 0&&(n.oldValue!==n.value&&(typeof n.value!="function"&&i.end(),i.handler=n.value),i.direction=Pe(n.modifiers))},beforeUnmount(e){var i;const n=e.__qtouchswipe;n!==void 0&&(Me(n,"main"),Me(n,"temp"),de.is.firefox===!0&&Ue(e,!1),(i=n.styleCleanup)==null||i.call(n),delete e.__qtouchswipe)}});function oa(){let e=Object.create(null);return{getCache:(n,i)=>e[n]===void 0?e[n]=typeof i=="function"?i():i:e[n],setCache(n,i){e[n]=i},hasCache(n){return Object.hasOwnProperty.call(e,n)},clearCache(n){n!==void 0?delete e[n]:e=Object.create(null)}}}const la={name:{required:!0},disable:Boolean},mt={setup(e,{slots:n}){return()=>x("div",{class:"q-panel scroll",role:"tabpanel"},he(n.default))}},ra={modelValue:{required:!0},animated:Boolean,infinite:Boolean,swipeable:Boolean,vertical:Boolean,transitionPrev:String,transitionNext:String,transitionDuration:{type:[String,Number],default:300},keepAlive:Boolean,keepAliveInclude:[String,Array,RegExp],keepAliveExclude:[String,Array,RegExp],keepAliveMax:Number},sa=["update:modelValue","beforeTransition","transition"];function ua(){const{props:e,emit:n,proxy:i}=ge(),{getCache:o}=oa(),{registerTimeout:t}=Ke();let a,l;const r=J(null),d={value:null};function u(g){const M=e.vertical===!0?"up":"left";Z((i.$q.lang.rtl===!0?-1:1)*(g.direction===M?1:-1))}const s=c(()=>[[ia,u,void 0,{horizontal:e.vertical!==!0,vertical:e.vertical,mouse:!0}]]),m=c(()=>e.transitionPrev||`slide-${e.vertical===!0?"down":"right"}`),k=c(()=>e.transitionNext||`slide-${e.vertical===!0?"up":"left"}`),b=c(()=>`--q-transition-duration: ${e.transitionDuration}ms`),C=c(()=>typeof e.modelValue=="string"||typeof e.modelValue=="number"?e.modelValue:String(e.modelValue)),U=c(()=>({include:e.keepAliveInclude,exclude:e.keepAliveExclude,max:e.keepAliveMax})),N=c(()=>e.keepAliveInclude!==void 0||e.keepAliveExclude!==void 0);oe(()=>e.modelValue,(g,M)=>{const B=w(g)===!0?$(g):-1;l!==!0&&L(B===-1?0:B<$(M)?-1:1),d.value!==B&&(d.value=B,n("beforeTransition",g,M),t(()=>{n("transition",g,M)},e.transitionDuration))});function I(){Z(1)}function V(){Z(-1)}function q(g){n("update:modelValue",g)}function w(g){return g!=null&&g!==""}function $(g){return a.findIndex(M=>M.props.name===g&&M.props.disable!==""&&M.props.disable!==!0)}function Q(){return a.filter(g=>g.props.disable!==""&&g.props.disable!==!0)}function L(g){const M=g!==0&&e.animated===!0&&d.value!==-1?"q-transition--"+(g===-1?m.value:k.value):null;r.value!==M&&(r.value=M)}function Z(g,M=d.value){let B=M+g;for(;B!==-1&&B<a.length;){const A=a[B];if(A!==void 0&&A.props.disable!==""&&A.props.disable!==!0){L(g),l=!0,n("update:modelValue",A.props.name),setTimeout(()=>{l=!1});return}B+=g}e.infinite===!0&&a.length!==0&&M!==-1&&M!==a.length&&Z(g,g===-1?a.length:-1)}function y(){const g=$(e.modelValue);return d.value!==g&&(d.value=g),!0}function _(){const g=w(e.modelValue)===!0&&y()&&a[d.value];return e.keepAlive===!0?[x(ln,U.value,[x(N.value===!0?o(C.value,()=>({...mt,name:C.value})):mt,{key:C.value,style:b.value},()=>g)])]:[x("div",{class:"q-panel scroll",style:b.value,key:C.value,role:"tabpanel"},[g])]}function S(){if(a.length!==0)return e.animated===!0?[x(Mt,{name:r.value},_)]:_()}function v(g){return a=yn(he(g.default,[])).filter(M=>M.props!==null&&M.props.slot===void 0&&w(M.props.name)===!0),a.length}function f(){return a}return Object.assign(i,{next:I,previous:V,goTo:q}),{panelIndex:d,panelDirectives:s,updatePanelsList:v,updatePanelIndex:y,getPanelContent:S,getEnabledPanels:Q,getPanels:f,isValidPanelName:w,keepAliveProps:U,needsUniqueKeepAliveWrapper:N,goToPanelByOffset:Z,goToPanel:q,nextPanel:I,previousPanel:V}}const ca=["top","right","bottom","left"],da=["regular","flat","outline","push","unelevated"],va=ce({name:"QCarousel",props:{...Je,...ra,...Cn,transitionPrev:{type:String,default:"fade"},transitionNext:{type:String,default:"fade"},height:String,padding:Boolean,controlColor:String,controlTextColor:String,controlType:{type:String,validator:e=>da.includes(e),default:"flat"},autoplay:[Number,Boolean],arrows:Boolean,prevIcon:String,nextIcon:String,navigation:Boolean,navigationPosition:{type:String,validator:e=>ca.includes(e)},navigationIcon:String,navigationActiveIcon:String,thumbnails:Boolean},emits:[...kn,...sa],setup(e,{slots:n}){const{proxy:{$q:i}}=ge(),o=et(e,i);let t=null,a;const{updatePanelsList:l,getPanelContent:r,panelDirectives:d,goToPanel:u,previousPanel:s,nextPanel:m,getEnabledPanels:k,panelIndex:b}=ua(),{inFullscreen:C}=wn(),U=c(()=>C.value!==!0&&e.height!==void 0?{height:e.height}:{}),N=c(()=>e.vertical===!0?"vertical":"horizontal"),I=c(()=>e.navigationPosition||(e.vertical===!0?"right":"bottom")),V=c(()=>`q-carousel q-panel-parent q-carousel--with${e.padding===!0?"":"out"}-padding`+(C.value===!0?" fullscreen":"")+(o.value===!0?" q-carousel--dark q-dark":"")+(e.arrows===!0?` q-carousel--arrows-${N.value}`:"")+(e.navigation===!0?` q-carousel--navigation-${I.value}`:"")),q=c(()=>{const _=[e.prevIcon||i.iconSet.carousel[e.vertical===!0?"up":"left"],e.nextIcon||i.iconSet.carousel[e.vertical===!0?"down":"right"]];return e.vertical===!1&&i.lang.rtl===!0?_.reverse():_}),w=c(()=>e.navigationIcon||i.iconSet.carousel.navigationIcon),$=c(()=>e.navigationActiveIcon||w.value),Q=c(()=>({color:e.controlColor,textColor:e.controlTextColor,round:!0,[e.controlType]:!0,dense:!0}));oe(()=>e.modelValue,()=>{e.autoplay&&L()}),oe(()=>e.autoplay,_=>{_?L():t!==null&&(clearTimeout(t),t=null)});function L(){const _=Ut(e.autoplay)===!0?Math.abs(e.autoplay):5e3;t!==null&&clearTimeout(t),t=setTimeout(()=>{t=null,_>=0?m():s()},_)}Ee(()=>{e.autoplay&&L()}),Ge(()=>{t!==null&&clearTimeout(t)});function Z(_,S){return x("div",{class:`q-carousel__control q-carousel__navigation no-wrap absolute flex q-carousel__navigation--${_} q-carousel__navigation--${I.value}`+(e.controlColor!==void 0?` text-${e.controlColor}`:"")},[x("div",{class:"q-carousel__navigation-inner flex flex-center no-wrap"},k().map(S))])}function y(){const _=[];if(e.navigation===!0){const S=n["navigation-icon"]!==void 0?n["navigation-icon"]:f=>x(ve,{key:"nav"+f.name,class:`q-carousel__navigation-icon q-carousel__navigation-icon--${f.active===!0?"":"in"}active`,...f.btnProps,onClick:f.onClick}),v=a-1;_.push(Z("buttons",(f,g)=>{const M=f.props.name,B=b.value===g;return S({index:g,maxIndex:v,name:M,active:B,btnProps:{icon:B===!0?$.value:w.value,size:"sm",...Q.value},onClick:()=>{u(M)}})}))}else if(e.thumbnails===!0){const S=e.controlColor!==void 0?` text-${e.controlColor}`:"";_.push(Z("thumbnails",v=>{const f=v.props;return x("img",{key:"tmb#"+f.name,class:`q-carousel__thumbnail q-carousel__thumbnail--${f.name===e.modelValue?"":"in"}active`+S,src:f.imgSrc||f["img-src"],onClick:()=>{u(f.name)}})}))}return e.arrows===!0&&b.value>=0&&((e.infinite===!0||b.value>0)&&_.push(x("div",{key:"prev",class:`q-carousel__control q-carousel__arrow q-carousel__prev-arrow q-carousel__prev-arrow--${N.value} absolute flex flex-center`},[x(ve,{icon:q.value[0],...Q.value,onClick:s})])),(e.infinite===!0||b.value<a-1)&&_.push(x("div",{key:"next",class:`q-carousel__control q-carousel__arrow q-carousel__next-arrow q-carousel__next-arrow--${N.value} absolute flex flex-center`},[x(ve,{icon:q.value[1],...Q.value,onClick:m})]))),Tt(n.control,_)}return()=>(a=l(n),x("div",{class:V.value,style:U.value},[Lt("div",{class:"q-carousel__slides-container"},r(),"sl-cont",e.swipeable,()=>d.value)].concat(y())))}}),ma=ce({name:"QCarouselSlide",props:{...la,imgSrc:String},setup(e,{slots:n}){const i=c(()=>e.imgSrc?{backgroundImage:`url("${e.imgSrc}")`}:{});return()=>x("div",{class:"q-carousel__slide",style:i.value},he(n.default))}}),fa={...Nt,min:{type:Number,default:0},max:{type:Number,default:100},color:String,centerColor:String,trackColor:String,fontSize:String,rounded:Boolean,thickness:{type:Number,default:.2,validator:e=>e>=0&&e<=1},angle:{type:Number,default:0},showValue:Boolean,reverse:Boolean,instantFeedback:Boolean},Qe=50,Dt=2*Qe,zt=Dt*Math.PI,ga=Math.round(zt*1e3)/1e3,_a=ce({name:"QCircularProgress",props:{...fa,value:{type:Number,default:0},animationSpeed:{type:[String,Number],default:600},indeterminate:Boolean},setup(e,{slots:n}){const{proxy:{$q:i}}=ge(),o=Vt(e),t=c(()=>{const b=(i.lang.rtl===!0?-1:1)*e.angle;return{transform:e.reverse!==(i.lang.rtl===!0)?`scale3d(-1, 1, 1) rotate3d(0, 0, 1, ${-90-b}deg)`:`rotate3d(0, 0, 1, ${b-90}deg)`}}),a=c(()=>e.instantFeedback!==!0&&e.indeterminate!==!0?{transition:`stroke-dashoffset ${e.animationSpeed}ms ease 0s, stroke ${e.animationSpeed}ms ease`}:""),l=c(()=>Dt/(1-e.thickness/2)),r=c(()=>`${l.value/2} ${l.value/2} ${l.value} ${l.value}`),d=c(()=>xe(e.value,e.min,e.max)),u=c(()=>e.max-e.min),s=c(()=>e.thickness/2*l.value),m=c(()=>{const b=(e.max-d.value)/u.value,C=e.rounded===!0&&d.value<e.max&&b<.25?s.value/2*(1-b/.25):0;return zt*b+C});function k({thickness:b,offset:C,color:U,cls:N,rounded:I}){return x("circle",{class:"q-circular-progress__"+N+(U!==void 0?` text-${U}`:""),style:a.value,fill:"transparent",stroke:"currentColor","stroke-width":b,"stroke-dasharray":ga,"stroke-dashoffset":C,"stroke-linecap":I,cx:l.value,cy:l.value,r:Qe})}return()=>{const b=[];e.centerColor!==void 0&&e.centerColor!=="transparent"&&b.push(x("circle",{class:`q-circular-progress__center text-${e.centerColor}`,fill:"currentColor",r:Qe-s.value/2,cx:l.value,cy:l.value})),e.trackColor!==void 0&&e.trackColor!=="transparent"&&b.push(k({cls:"track",thickness:s.value,offset:0,color:e.trackColor})),b.push(k({cls:"circle",thickness:s.value,offset:m.value,color:e.color,rounded:e.rounded===!0?"round":void 0}));const C=[x("svg",{class:"q-circular-progress__svg",style:t.value,viewBox:r.value,"aria-hidden":"true"},b)];return e.showValue===!0&&C.push(x("div",{class:"q-circular-progress__text absolute-full row flex-center content-center",style:{fontSize:e.fontSize}},n.default!==void 0?n.default():[x("div",d.value)])),x("div",{class:`q-circular-progress q-circular-progress--${e.indeterminate===!0?"in":""}determinate`,style:o.value,role:"progressbar","aria-valuemin":e.min,"aria-valuemax":e.max,"aria-valuenow":e.indeterminate===!0?void 0:d.value},Pt(n.internal,C))}}});function He(e,n,i){const o=Be(e);let t,a=o.left-n.event.x,l=o.top-n.event.y,r=Math.abs(a),d=Math.abs(l);const u=n.direction;u.horizontal===!0&&u.vertical!==!0?t=a<0?"left":"right":u.horizontal!==!0&&u.vertical===!0?t=l<0?"up":"down":u.up===!0&&l<0?(t="up",r>d&&(u.left===!0&&a<0?t="left":u.right===!0&&a>0&&(t="right"))):u.down===!0&&l>0?(t="down",r>d&&(u.left===!0&&a<0?t="left":u.right===!0&&a>0&&(t="right"))):u.left===!0&&a<0?(t="left",r<d&&(u.up===!0&&l<0?t="up":u.down===!0&&l>0&&(t="down"))):u.right===!0&&a>0&&(t="right",r<d&&(u.up===!0&&l<0?t="up":u.down===!0&&l>0&&(t="down")));let s=!1;if(t===void 0&&i===!1){if(n.event.isFirst===!0||n.event.lastDir===void 0)return{};t=n.event.lastDir,s=!0,t==="left"||t==="right"?(o.left-=a,r=0,a=0):(o.top-=l,d=0,l=0)}return{synthetic:s,payload:{evt:e,touch:n.event.mouse!==!0,mouse:n.event.mouse===!0,position:o,direction:t,isFirst:n.event.isFirst,isFinal:i===!0,duration:Date.now()-n.event.time,distance:{x:r,y:d},offset:{x:a,y:l},delta:{x:o.left-n.event.lastX,y:o.top-n.event.lastY}}}}let ha=0;const ba=Ze({name:"touch-pan",beforeMount(e,{value:n,modifiers:i}){if(i.mouse!==!0&&de.has.touch!==!0)return;function o(a,l){i.mouse===!0&&l===!0?Ve(a):(i.stop===!0&&$e(a),i.prevent===!0&&dt(a))}const t={uid:"qvtp_"+ha++,handler:n,modifiers:i,direction:Pe(i),noop:qt,mouseStart(a){Te(a,t)&&$t(a)&&(ye(t,"temp",[[document,"mousemove","move","notPassiveCapture"],[document,"mouseup","end","passiveCapture"]]),t.start(a,!0))},touchStart(a){if(Te(a,t)){const l=a.target;ye(t,"temp",[[l,"touchmove","move","notPassiveCapture"],[l,"touchcancel","end","passiveCapture"],[l,"touchend","end","passiveCapture"]]),t.start(a)}},start(a,l){if(de.is.firefox===!0&&Ue(e,!0),t.lastEvt=a,l===!0||i.stop===!0){if(t.direction.all!==!0&&(l!==!0||t.modifiers.mouseAllDir!==!0&&t.modifiers.mousealldir!==!0)){const u=a.type.indexOf("mouse")!==-1?new MouseEvent(a.type,a):new TouchEvent(a.type,a);a.defaultPrevented===!0&&dt(u),a.cancelBubble===!0&&$e(u),Object.assign(u,{qKeyEvent:a.qKeyEvent,qClickOutside:a.qClickOutside,qAnchorHandled:a.qAnchorHandled,qClonedBy:a.qClonedBy===void 0?[t.uid]:a.qClonedBy.concat(t.uid)}),t.initialEvent={target:a.target,event:u}}$e(a)}const{left:r,top:d}=Be(a);t.event={x:r,y:d,time:Date.now(),mouse:l===!0,detected:!1,isFirst:!0,isFinal:!1,lastX:r,lastY:d}},move(a){if(t.event===void 0)return;const l=Be(a),r=l.left-t.event.x,d=l.top-t.event.y;if(r===0&&d===0)return;t.lastEvt=a;const u=t.event.mouse===!0,s=()=>{o(a,u);let b;i.preserveCursor!==!0&&i.preservecursor!==!0&&(b=document.documentElement.style.cursor||"",document.documentElement.style.cursor="grabbing"),u===!0&&document.body.classList.add("no-pointer-events--children"),document.body.classList.add("non-selectable"),Et(),t.styleCleanup=C=>{if(t.styleCleanup=void 0,b!==void 0&&(document.documentElement.style.cursor=b),document.body.classList.remove("non-selectable"),u===!0){const U=()=>{document.body.classList.remove("no-pointer-events--children")};C!==void 0?setTimeout(()=>{U(),C()},50):U()}else C!==void 0&&C()}};if(t.event.detected===!0){t.event.isFirst!==!0&&o(a,t.event.mouse);const{payload:b,synthetic:C}=He(a,t,!1);b!==void 0&&(t.handler(b)===!1?t.end(a):(t.styleCleanup===void 0&&t.event.isFirst===!0&&s(),t.event.lastX=b.position.left,t.event.lastY=b.position.top,t.event.lastDir=C===!0?void 0:b.direction,t.event.isFirst=!1));return}if(t.direction.all===!0||u===!0&&(t.modifiers.mouseAllDir===!0||t.modifiers.mousealldir===!0)){s(),t.event.detected=!0,t.move(a);return}const m=Math.abs(r),k=Math.abs(d);m!==k&&(t.direction.horizontal===!0&&m>k||t.direction.vertical===!0&&m<k||t.direction.up===!0&&m<k&&d<0||t.direction.down===!0&&m<k&&d>0||t.direction.left===!0&&m>k&&r<0||t.direction.right===!0&&m>k&&r>0?(t.event.detected=!0,t.move(a)):t.end(a,!0))},end(a,l){var r;if(t.event!==void 0){if(Me(t,"temp"),de.is.firefox===!0&&Ue(e,!1),l===!0)(r=t.styleCleanup)==null||r.call(t),t.event.detected!==!0&&t.initialEvent!==void 0&&t.initialEvent.target.dispatchEvent(t.initialEvent.event);else if(t.event.detected===!0){t.event.isFirst===!0&&t.handler(He(a===void 0?t.lastEvt:a,t).payload);const{payload:d}=He(a===void 0?t.lastEvt:a,t,!0),u=()=>{t.handler(d)};t.styleCleanup!==void 0?t.styleCleanup(u):u()}t.event=void 0,t.initialEvent=void 0,t.lastEvt=void 0}}};if(e.__qtouchpan=t,i.mouse===!0){const a=i.mouseCapture===!0||i.mousecapture===!0?"Capture":"";ye(t,"main",[[e,"mousedown","mouseStart",`passive${a}`]])}de.has.touch===!0&&ye(t,"main",[[e,"touchstart","touchStart",`passive${i.capture===!0?"Capture":""}`],[e,"touchmove","noop","notPassiveCapture"]])},updated(e,n){const i=e.__qtouchpan;i!==void 0&&(n.oldValue!==n.value&&(typeof value!="function"&&i.end(),i.handler=n.value),i.direction=Pe(n.modifiers))},beforeUnmount(e){var i;const n=e.__qtouchpan;n!==void 0&&(n.event!==void 0&&n.end(),Me(n,"main"),Me(n,"temp"),de.is.firefox===!0&&Ue(e,!1),(i=n.styleCleanup)==null||i.call(n),delete e.__qtouchpan)}}),ft="q-slider__marker-labels",pa=e=>({value:e}),ya=({marker:e})=>x("div",{key:e.value,style:e.style,class:e.classes},e.label),Ot=[34,37,40,33,39,38],ka={...Je,...Ft,min:{type:Number,default:0},max:{type:Number,default:100},innerMin:Number,innerMax:Number,step:{type:Number,default:1,validator:e=>e>=0},snap:Boolean,vertical:Boolean,reverse:Boolean,color:String,markerLabelsClass:String,label:Boolean,labelColor:String,labelTextColor:String,labelAlways:Boolean,switchLabelSide:Boolean,markers:[Boolean,Number],markerLabels:[Boolean,Array,Object,Function],switchMarkerLabelsSide:Boolean,trackImg:String,trackColor:String,innerTrackImg:String,innerTrackColor:String,selectionColor:String,selectionImg:String,thumbSize:{type:String,default:"20px"},trackSize:{type:String,default:"4px"},disable:Boolean,readonly:Boolean,dense:Boolean,tabindex:[String,Number],thumbColor:String,thumbPath:{type:String,default:"M 4, 10 a 6,6 0 1,0 12,0 a 6,6 0 1,0 -12,0"}},Ca=["pan","update:modelValue","change"];function wa({updateValue:e,updatePosition:n,getDragging:i,formAttrs:o}){const{props:t,emit:a,slots:l,proxy:{$q:r}}=ge(),d=et(t,r),u=Sn(o),s=J(!1),m=J(!1),k=J(!1),b=J(!1),C=c(()=>t.vertical===!0?"--v":"--h"),U=c(()=>"-"+(t.switchLabelSide===!0?"switched":"standard")),N=c(()=>t.vertical===!0?t.reverse===!0:t.reverse!==(r.lang.rtl===!0)),I=c(()=>isNaN(t.innerMin)===!0||t.innerMin<t.min?t.min:t.innerMin),V=c(()=>isNaN(t.innerMax)===!0||t.innerMax>t.max?t.max:t.innerMax),q=c(()=>t.disable!==!0&&t.readonly!==!0&&I.value<V.value),w=c(()=>{if(t.step===0)return z=>z;const p=(String(t.step).trim().split(".")[1]||"").length;return z=>parseFloat(z.toFixed(p))}),$=c(()=>t.step===0?1:t.step),Q=c(()=>q.value===!0?t.tabindex||0:-1),L=c(()=>t.max-t.min),Z=c(()=>V.value-I.value),y=c(()=>Le(I.value)),_=c(()=>Le(V.value)),S=c(()=>t.vertical===!0?N.value===!0?"bottom":"top":N.value===!0?"right":"left"),v=c(()=>t.vertical===!0?"height":"width"),f=c(()=>t.vertical===!0?"width":"height"),g=c(()=>t.vertical===!0?"vertical":"horizontal"),M=c(()=>{const p={role:"slider","aria-valuemin":I.value,"aria-valuemax":V.value,"aria-orientation":g.value,"data-step":t.step};return t.disable===!0?p["aria-disabled"]="true":t.readonly===!0&&(p["aria-readonly"]="true"),p}),B=c(()=>`q-slider q-slider${C.value} q-slider--${s.value===!0?"":"in"}active inline no-wrap `+(t.vertical===!0?"row":"column")+(t.disable===!0?" disabled":" q-slider--enabled"+(q.value===!0?" q-slider--editable":""))+(k.value==="both"?" q-slider--focus":"")+(t.label||t.labelAlways===!0?" q-slider--label":"")+(t.labelAlways===!0?" q-slider--label-always":"")+(d.value===!0?" q-slider--dark":"")+(t.dense===!0?" q-slider--dense q-slider--dense"+C.value:""));function A(p){const z="q-slider__"+p;return`${z} ${z}${C.value} ${z}${C.value}${U.value}`}function G(p){const z="q-slider__"+p;return`${z} ${z}${C.value}`}const te=c(()=>{const p=t.selectionColor||t.color;return"q-slider__selection absolute"+(p!==void 0?` text-${p}`:"")}),j=c(()=>G("markers")+" absolute overflow-hidden"),W=c(()=>G("track-container")),h=c(()=>A("pin")),O=c(()=>A("label")),P=c(()=>A("text-container")),X=c(()=>A("marker-labels-container")+(t.markerLabelsClass!==void 0?` ${t.markerLabelsClass}`:"")),H=c(()=>"q-slider__track relative-position no-outline"+(t.trackColor!==void 0?` bg-${t.trackColor}`:"")),ne=c(()=>{const p={[f.value]:t.trackSize};return t.trackImg!==void 0&&(p.backgroundImage=`url(${t.trackImg}) !important`),p}),T=c(()=>"q-slider__inner absolute"+(t.innerTrackColor!==void 0?` bg-${t.innerTrackColor}`:"")),Ce=c(()=>{const p=_.value-y.value,z={[S.value]:`${100*y.value}%`,[v.value]:p===0?"2px":`${100*p}%`};return t.innerTrackImg!==void 0&&(z.backgroundImage=`url(${t.innerTrackImg}) !important`),z});function be(p){const{min:z,max:ee,step:ae}=t;let re=z+p*(ee-z);if(ae>0){const pe=(re-I.value)%ae;re+=(Math.abs(pe)>=ae/2?(pe<0?-1:1)*ae:0)-pe}return re=w.value(re),xe(re,I.value,V.value)}function Le(p){return L.value===0?0:(p-t.min)/L.value}function Kt(p,z){const ee=Be(p),ae=t.vertical===!0?xe((ee.top-z.top)/z.height,0,1):xe((ee.left-z.left)/z.width,0,1);return xe(N.value===!0?1-ae:ae,y.value,_.value)}const ot=c(()=>Ut(t.markers)===!0?t.markers:$.value),lt=c(()=>{const p=[],z=ot.value,ee=t.max;let ae=t.min;do p.push(ae),ae+=z;while(ae<ee);return p.push(ee),p}),rt=c(()=>{const p=` ${ft}${C.value}-`;return ft+`${p}${t.switchMarkerLabelsSide===!0?"switched":"standard"}${p}${N.value===!0?"rtl":"ltr"}`}),Fe=c(()=>t.markerLabels===!1?null:Wt(t.markerLabels).map((p,z)=>({index:z,value:p.value,label:p.label||p.value,classes:rt.value+(p.classes!==void 0?" "+p.classes:""),style:{...ut(p.value),...p.style||{}}}))),st=c(()=>({markerList:Fe.value,markerMap:Xt.value,classes:rt.value,getStyle:ut})),Qt=c(()=>{const p=Z.value===0?"2px":100*ot.value/Z.value;return{...Ce.value,backgroundSize:t.vertical===!0?`2px ${p}%`:`${p}% 2px`}});function Wt(p){if(p===!1)return null;if(p===!0)return lt.value.map(pa);if(typeof p=="function")return lt.value.map(ee=>{const ae=p(ee);return Oe(ae)===!0?{...ae,value:ee}:{value:ee,label:ae}});const z=({value:ee})=>ee>=t.min&&ee<=t.max;return Array.isArray(p)===!0?p.map(ee=>Oe(ee)===!0?ee:{value:ee}).filter(z):Object.keys(p).map(ee=>{const ae=p[ee],re=Number(ee);return Oe(ae)===!0?{...ae,value:re}:{value:re,label:ae}}).filter(z)}function ut(p){return{[S.value]:`${100*(p-t.min)/L.value}%`}}const Xt=c(()=>{if(t.markerLabels===!1)return null;const p={};return Fe.value.forEach(z=>{p[z.value]=z}),p});function Yt(){if(l["marker-label-group"]!==void 0)return l["marker-label-group"](st.value);const p=l["marker-label"]||ya;return Fe.value.map(z=>p({marker:z,...st.value}))}const Zt=c(()=>[[ba,Gt,void 0,{[g.value]:!0,prevent:!0,stop:!0,mouse:!0,mouseAllDir:!0}]]);function Gt(p){p.isFinal===!0?(b.value!==void 0&&(n(p.evt),p.touch===!0&&e(!0),b.value=void 0,a("pan","end")),s.value=!1,k.value=!1):p.isFirst===!0?(b.value=i(p.evt),n(p.evt),e(),s.value=!0,a("pan","start")):(n(p.evt),e())}function ct(){k.value=!1}function Jt(p){n(p,i(p)),e(),m.value=!0,s.value=!0,document.addEventListener("mouseup",Ie,!0)}function Ie(){m.value=!1,s.value=!1,e(!0),ct(),document.removeEventListener("mouseup",Ie,!0)}function en(p){n(p,i(p)),e(!0)}function tn(p){Ot.includes(p.keyCode)&&e(!0)}function nn(p){if(t.vertical===!0)return null;const z=r.lang.rtl!==t.reverse?1-p:p;return{transform:`translateX(calc(${2*z-1} * ${t.thumbSize} / 2 + ${50-100*z}%))`}}function an(p){const z=c(()=>m.value===!1&&(k.value===p.focusValue||k.value==="both")?" q-slider--focus":""),ee=c(()=>`q-slider__thumb q-slider__thumb${C.value} q-slider__thumb${C.value}-${N.value===!0?"rtl":"ltr"} absolute non-selectable`+z.value+(p.thumbColor.value!==void 0?` text-${p.thumbColor.value}`:"")),ae=c(()=>({width:t.thumbSize,height:t.thumbSize,[S.value]:`${100*p.ratio.value}%`,zIndex:k.value===p.focusValue?2:void 0})),re=c(()=>p.labelColor.value!==void 0?` text-${p.labelColor.value}`:""),pe=c(()=>nn(p.ratio.value)),De=c(()=>"q-slider__text"+(p.labelTextColor.value!==void 0?` text-${p.labelTextColor.value}`:""));return()=>{const ze=[x("svg",{class:"q-slider__thumb-shape absolute-full",viewBox:"0 0 20 20","aria-hidden":"true"},[x("path",{d:t.thumbPath})]),x("div",{class:"q-slider__focus-ring fit"})];return(t.label===!0||t.labelAlways===!0)&&(ze.push(x("div",{class:h.value+" absolute fit no-pointer-events"+re.value},[x("div",{class:O.value,style:{minWidth:t.thumbSize}},[x("div",{class:P.value,style:pe.value},[x("span",{class:De.value},p.label.value)])])])),t.name!==void 0&&t.disable!==!0&&u(ze,"push")),x("div",{class:ee.value,style:ae.value,...p.getNodeData()},ze)}}function on(p,z,ee,ae){const re=[];t.innerTrackColor!=="transparent"&&re.push(x("div",{key:"inner",class:T.value,style:Ce.value})),t.selectionColor!=="transparent"&&re.push(x("div",{key:"selection",class:te.value,style:p.value})),t.markers!==!1&&re.push(x("div",{key:"marker",class:j.value,style:Qt.value})),ae(re);const pe=[Lt("div",{key:"trackC",class:W.value,tabindex:z.value,...ee.value},[x("div",{class:H.value,style:ne.value},re)],"slide",q.value,()=>Zt.value)];if(t.markerLabels!==!1){const De=t.switchMarkerLabelsSide===!0?"unshift":"push";pe[De](x("div",{key:"markerL",class:X.value},Yt()))}return pe}return Ge(()=>{document.removeEventListener("mouseup",Ie,!0)}),{state:{active:s,focus:k,preventFocus:m,dragging:b,editable:q,classes:B,tabindex:Q,attributes:M,roundValueFn:w,keyStep:$,trackLen:L,innerMin:I,innerMinRatio:y,innerMax:V,innerMaxRatio:_,positionProp:S,sizeProp:v,isReversed:N},methods:{onActivate:Jt,onMobileClick:en,onBlur:ct,onKeyup:tn,getContent:on,getThumbRenderFn:an,convertRatioToModel:be,convertModelToRatio:Le,getDraggingRatio:Kt}}}const Sa=()=>({}),xa=ce({name:"QSlider",props:{...ka,modelValue:{required:!0,default:null,validator:e=>typeof e=="number"||e===null},labelValue:[String,Number]},emits:Ca,setup(e,{emit:n}){const{proxy:{$q:i}}=ge(),{state:o,methods:t}=wa({updateValue:C,updatePosition:N,getDragging:U,formAttrs:xn(e)}),a=J(null),l=J(0),r=J(0);function d(){r.value=e.modelValue===null?o.innerMin.value:xe(e.modelValue,o.innerMin.value,o.innerMax.value)}oe(()=>`${e.modelValue}|${o.innerMin.value}|${o.innerMax.value}`,d),d();const u=c(()=>t.convertModelToRatio(r.value)),s=c(()=>o.active.value===!0?l.value:u.value),m=c(()=>{const q={[o.positionProp.value]:`${100*o.innerMinRatio.value}%`,[o.sizeProp.value]:`${100*(s.value-o.innerMinRatio.value)}%`};return e.selectionImg!==void 0&&(q.backgroundImage=`url(${e.selectionImg}) !important`),q}),k=t.getThumbRenderFn({focusValue:!0,getNodeData:Sa,ratio:s,label:c(()=>e.labelValue!==void 0?e.labelValue:r.value),thumbColor:c(()=>e.thumbColor||e.color),labelColor:c(()=>e.labelColor),labelTextColor:c(()=>e.labelTextColor)}),b=c(()=>o.editable.value!==!0?{}:i.platform.is.mobile===!0?{onClick:t.onMobileClick}:{onMousedown:t.onActivate,onFocus:I,onBlur:t.onBlur,onKeydown:V,onKeyup:t.onKeyup});function C(q){r.value!==e.modelValue&&n("update:modelValue",r.value),q===!0&&n("change",r.value)}function U(){return a.value.getBoundingClientRect()}function N(q,w=o.dragging.value){const $=t.getDraggingRatio(q,w);r.value=t.convertRatioToModel($),l.value=e.snap!==!0||e.step===0?$:t.convertModelToRatio(r.value)}function I(){o.focus.value=!0}function V(q){if(Ot.includes(q.keyCode)===!1)return;Ve(q);const w=([34,33].includes(q.keyCode)?10:1)*o.keyStep.value,$=([34,37,40].includes(q.keyCode)?-1:1)*(o.isReversed.value===!0?-1:1)*(e.vertical===!0?-1:1)*w;r.value=xe(o.roundValueFn.value(r.value+$),o.innerMin.value,o.innerMax.value),C()}return()=>{const q=t.getContent(m,o.tabindex,b,w=>{w.push(k())});return x("div",{ref:a,class:o.classes.value+(e.modelValue===null?" q-slider--no-value":""),...o.attributes.value,"aria-valuenow":e.modelValue},q)}}});function qa(e,n){function i(){const o=e.modelValue;try{const t="DataTransfer"in window?new DataTransfer:"ClipboardEvent"in window?new ClipboardEvent("").clipboardData:void 0;return Object(o)===o&&("length"in o?Array.from(o):[o]).forEach(a=>{t.items.add(a)}),{files:t.files}}catch{return{files:void 0}}}return c(()=>{if(e.type==="file")return i()})}const $a={ratio:[String,Number]};function Ma(e,n){return c(()=>{const i=Number(e.ratio||(n!==void 0?n.value:void 0));return isNaN(i)!==!0&&i>0?{paddingBottom:`${100/i}%`}:null})}const Ua=1.7778,Ba=ce({name:"QImg",props:{...$a,src:String,srcset:String,sizes:String,alt:String,crossorigin:String,decoding:String,referrerpolicy:String,draggable:Boolean,loading:{type:String,default:"lazy"},loadingShowDelay:{type:[Number,String],default:0},fetchpriority:{type:String,default:"auto"},width:String,height:String,initialRatio:{type:[Number,String],default:Ua},placeholderSrc:String,errorSrc:String,fit:{type:String,default:"cover"},position:{type:String,default:"50% 50%"},imgClass:String,imgStyle:Object,noSpinner:Boolean,noNativeMenu:Boolean,noTransition:Boolean,spinnerColor:String,spinnerSize:String},emits:["load","error"],setup(e,{slots:n,emit:i}){const o=J(e.initialRatio),t=Ma(e,o),a=ge(),{registerTimeout:l,removeTimeout:r}=Ke(),{registerTimeout:d,removeTimeout:u}=Ke(),s=c(()=>e.placeholderSrc!==void 0?{src:e.placeholderSrc}:null),m=c(()=>e.errorSrc!==void 0?{src:e.errorSrc,__qerror:!0}:null),k=[J(null),J(s.value)],b=J(0),C=J(!1),U=J(!1),N=c(()=>`q-img q-img--${e.noNativeMenu===!0?"no-":""}menu`),I=c(()=>({width:e.width,height:e.height})),V=c(()=>`q-img__image ${e.imgClass!==void 0?e.imgClass+" ":""}q-img__image--with${e.noTransition===!0?"out":""}-transition q-img__image--`),q=c(()=>({...e.imgStyle,objectFit:e.fit,objectPosition:e.position}));function w(){if(u(),e.loadingShowDelay===0){C.value=!0;return}d(()=>{C.value=!0},e.loadingShowDelay)}function $(){u(),C.value=!1}function Q({target:v}){je(a)===!1&&(r(),o.value=v.naturalHeight===0?.5:v.naturalWidth/v.naturalHeight,L(v,1))}function L(v,f){f===1e3||je(a)===!0||(v.complete===!0?Z(v):l(()=>{L(v,f+1)},50))}function Z(v){je(a)!==!0&&(b.value=b.value^1,k[b.value].value=null,$(),v.getAttribute("__qerror")!=="true"&&(U.value=!1),i("load",v.currentSrc||v.src))}function y(v){r(),$(),U.value=!0,k[b.value].value=m.value,k[b.value^1].value=s.value,i("error",v)}function _(v){const f=k[v].value,g={key:"img_"+v,class:V.value,style:q.value,alt:e.alt,crossorigin:e.crossorigin,decoding:e.decoding,referrerpolicy:e.referrerpolicy,height:e.height,width:e.width,loading:e.loading,fetchpriority:e.fetchpriority,"aria-hidden":"true",draggable:e.draggable,...f};return b.value===v?Object.assign(g,{class:g.class+"current",onLoad:Q,onError:y}):g.class+="loaded",x("div",{class:"q-img__container absolute-full",key:"img"+v},x("img",g))}function S(){return C.value===!1?x("div",{key:"content",class:"q-img__content absolute-full q-anchor--skip"},he(n[U.value===!0?"error":"default"])):x("div",{key:"loading",class:"q-img__loading absolute-full flex flex-center"},n.loading!==void 0?n.loading():e.noSpinner===!0?void 0:[x(It,{color:e.spinnerColor,size:e.spinnerSize})])}{let v=function(){oe(()=>e.src||e.srcset||e.sizes?{src:e.src,srcset:e.srcset,sizes:e.sizes}:null,f=>{r(),U.value=!1,f===null?($(),k[b.value^1].value=s.value):w(),k[b.value].value=f},{immediate:!0})};rn.value===!0?Ee(v):v()}return()=>{const v=[];return t.value!==null&&v.push(x("div",{key:"filler",style:t.value})),k[0].value!==null&&v.push(_(0)),k[1].value!==null&&v.push(_(1)),v.push(x(Mt,{name:"q-transition--fade"},S)),x("div",{key:"main",class:N.value,style:I.value,role:"img","aria-label":e.alt},v)}}}),gt={date:"####/##/##",datetime:"####/##/## ##:##",time:"##:##",fulltime:"##:##:##",phone:"(###) ### - ####",card:"#### #### #### ####"},Re={"#":{pattern:"[\\d]",negate:"[^\\d]"},S:{pattern:"[a-zA-Z]",negate:"[^a-zA-Z]"},N:{pattern:"[0-9a-zA-Z]",negate:"[^0-9a-zA-Z]"},A:{pattern:"[a-zA-Z]",negate:"[^a-zA-Z]",transform:e=>e.toLocaleUpperCase()},a:{pattern:"[a-zA-Z]",negate:"[^a-zA-Z]",transform:e=>e.toLocaleLowerCase()},X:{pattern:"[0-9a-zA-Z]",negate:"[^0-9a-zA-Z]",transform:e=>e.toLocaleUpperCase()},x:{pattern:"[0-9a-zA-Z]",negate:"[^0-9a-zA-Z]",transform:e=>e.toLocaleLowerCase()}},jt=Object.keys(Re);jt.forEach(e=>{Re[e].regex=new RegExp(Re[e].pattern)});const Na=new RegExp("\\\\([^.*+?^${}()|([\\]])|([.*+?^${}()|[\\]])|(["+jt.join("")+"])|(.)","g"),_t=/[.*+?^${}()|[\]\\]/g,ie="",Va={mask:String,reverseFillMask:Boolean,fillMask:[Boolean,String],unmaskedValue:Boolean};function Aa(e,n,i,o){let t,a,l,r,d,u;const s=J(null),m=J(b());function k(){return e.autogrow===!0||["textarea","text","search","url","tel","password"].includes(e.type)}oe(()=>e.type+e.autogrow,U),oe(()=>e.mask,y=>{if(y!==void 0)N(m.value,!0);else{const _=L(m.value);U(),e.modelValue!==_&&n("update:modelValue",_)}}),oe(()=>e.fillMask+e.reverseFillMask,()=>{s.value===!0&&N(m.value,!0)}),oe(()=>e.unmaskedValue,()=>{s.value===!0&&N(m.value)});function b(){if(U(),s.value===!0){const y=$(L(e.modelValue));return e.fillMask!==!1?Z(y):y}return e.modelValue}function C(y){if(y<t.length)return t.slice(-y);let _="",S=t;const v=S.indexOf(ie);if(v!==-1){for(let f=y-S.length;f>0;f--)_+=ie;S=S.slice(0,v)+_+S.slice(v)}return S}function U(){if(s.value=e.mask!==void 0&&e.mask.length!==0&&k(),s.value===!1){r=void 0,t="",a="";return}const y=gt[e.mask]===void 0?e.mask:gt[e.mask],_=typeof e.fillMask=="string"&&e.fillMask.length!==0?e.fillMask.slice(0,1):"_",S=_.replace(_t,"\\$&"),v=[],f=[],g=[];let M=e.reverseFillMask===!0,B="",A="";y.replace(Na,(W,h,O,P,X)=>{if(P!==void 0){const H=Re[P];g.push(H),A=H.negate,M===!0&&(f.push("(?:"+A+"+)?("+H.pattern+"+)?(?:"+A+"+)?("+H.pattern+"+)?"),M=!1),f.push("(?:"+A+"+)?("+H.pattern+")?")}else if(O!==void 0)B="\\"+(O==="\\"?"":O),g.push(O),v.push("([^"+B+"]+)?"+B+"?");else{const H=h!==void 0?h:X;B=H==="\\"?"\\\\\\\\":H.replace(_t,"\\\\$&"),g.push(H),v.push("([^"+B+"]+)?"+B+"?")}});const G=new RegExp("^"+v.join("")+"("+(B===""?".":"[^"+B+"]")+"+)?"+(B===""?"":"["+B+"]*")+"$"),te=f.length-1,j=f.map((W,h)=>h===0&&e.reverseFillMask===!0?new RegExp("^"+S+"*"+W):h===te?new RegExp("^"+W+"("+(A===""?".":A)+"+)?"+(e.reverseFillMask===!0?"$":S+"*")):new RegExp("^"+W));l=g,r=W=>{const h=G.exec(e.reverseFillMask===!0?W:W.slice(0,g.length+1));h!==null&&(W=h.slice(1).join(""));const O=[],P=j.length;for(let X=0,H=W;X<P;X++){const ne=j[X].exec(H);if(ne===null)break;H=H.slice(ne.shift().length),O.push(...ne)}return O.length!==0?O.join(""):W},t=g.map(W=>typeof W=="string"?W:ie).join(""),a=t.split(ie).join(_)}function N(y,_,S){const v=o.value,f=v.selectionEnd,g=v.value.length-f,M=L(y);_===!0&&U();const B=$(M),A=e.fillMask!==!1?Z(B):B,G=m.value!==A;v.value!==A&&(v.value=A),G===!0&&(m.value=A),document.activeElement===v&&qe(()=>{if(A===a){const j=e.reverseFillMask===!0?a.length:0;v.setSelectionRange(j,j,"forward");return}if(S==="insertFromPaste"&&e.reverseFillMask!==!0){const j=v.selectionEnd;let W=f-1;for(let h=d;h<=W&&h<j;h++)t[h]!==ie&&W++;V.right(v,W);return}if(["deleteContentBackward","deleteContentForward"].indexOf(S)!==-1){const j=e.reverseFillMask===!0?f===0?A.length>B.length?1:0:Math.max(0,A.length-(A===a?0:Math.min(B.length,g)+1))+1:f;v.setSelectionRange(j,j,"forward");return}if(e.reverseFillMask===!0)if(G===!0){const j=Math.max(0,A.length-(A===a?0:Math.min(B.length,g+1)));j===1&&f===1?v.setSelectionRange(j,j,"forward"):V.rightReverse(v,j)}else{const j=A.length-g;v.setSelectionRange(j,j,"backward")}else if(G===!0){const j=Math.max(0,t.indexOf(ie),Math.min(B.length,f)-1);V.right(v,j)}else{const j=f-1;V.right(v,j)}});const te=e.unmaskedValue===!0?L(A):A;String(e.modelValue)!==te&&(e.modelValue!==null||te!=="")&&i(te,!0)}function I(y,_,S){const v=$(L(y.value));_=Math.max(0,t.indexOf(ie),Math.min(v.length,_)),d=_,y.setSelectionRange(_,S,"forward")}const V={left(y,_){const S=t.slice(_-1).indexOf(ie)===-1;let v=Math.max(0,_-1);for(;v>=0;v--)if(t[v]===ie){_=v,S===!0&&_++;break}if(v<0&&t[_]!==void 0&&t[_]!==ie)return V.right(y,0);_>=0&&y.setSelectionRange(_,_,"backward")},right(y,_){const S=y.value.length;let v=Math.min(S,_+1);for(;v<=S;v++)if(t[v]===ie){_=v;break}else t[v-1]===ie&&(_=v);if(v>S&&t[_-1]!==void 0&&t[_-1]!==ie)return V.left(y,S);y.setSelectionRange(_,_,"forward")},leftReverse(y,_){const S=C(y.value.length);let v=Math.max(0,_-1);for(;v>=0;v--)if(S[v-1]===ie){_=v;break}else if(S[v]===ie&&(_=v,v===0))break;if(v<0&&S[_]!==void 0&&S[_]!==ie)return V.rightReverse(y,0);_>=0&&y.setSelectionRange(_,_,"backward")},rightReverse(y,_){const S=y.value.length,v=C(S),f=v.slice(0,_+1).indexOf(ie)===-1;let g=Math.min(S,_+1);for(;g<=S;g++)if(v[g-1]===ie){_=g,_>0&&f===!0&&_--;break}if(g>S&&v[_-1]!==void 0&&v[_-1]!==ie)return V.leftReverse(y,S);y.setSelectionRange(_,_,"forward")}};function q(y){n("click",y),u=void 0}function w(y){if(n("keydown",y),sn(y)===!0||y.altKey===!0)return;const _=o.value,S=_.selectionStart,v=_.selectionEnd;if(y.shiftKey||(u=void 0),y.keyCode===37||y.keyCode===39){y.shiftKey&&u===void 0&&(u=_.selectionDirection==="forward"?S:v);const f=V[(y.keyCode===39?"right":"left")+(e.reverseFillMask===!0?"Reverse":"")];if(y.preventDefault(),f(_,u===S?v:S),y.shiftKey){const g=_.selectionStart;_.setSelectionRange(Math.min(u,g),Math.max(u,g),"forward")}}else y.keyCode===8&&e.reverseFillMask!==!0&&S===v?(V.left(_,S),_.setSelectionRange(_.selectionStart,v,"backward")):y.keyCode===46&&e.reverseFillMask===!0&&S===v&&(V.rightReverse(_,v),_.setSelectionRange(S,_.selectionEnd,"forward"))}function $(y){if(y==null||y==="")return"";if(e.reverseFillMask===!0)return Q(y);const _=l;let S=0,v="";for(let f=0;f<_.length;f++){const g=y[S],M=_[f];if(typeof M=="string")v+=M;else if(g!==void 0&&M.regex.test(g))v+=M.transform!==void 0?M.transform(g):g,S++;else return v}return v}function Q(y){const _=l,S=t.indexOf(ie);let v=y.length-1,f="";for(let g=_.length-1;g>=0&&v!==-1;g--){const M=_[g];let B=y[v];if(typeof M=="string")f=M+f;else if(B!==void 0&&M.regex.test(B))do f=(M.transform!==void 0?M.transform(B):B)+f,v--,B=y[v];while(S===g&&B!==void 0&&M.regex.test(B));else return f}return f}function L(y){return typeof y!="string"||r===void 0?typeof y=="number"?r(""+y):y:r(y)}function Z(y){return a.length-y.length<=0?y:e.reverseFillMask===!0&&y.length!==0?a.slice(0,-y.length)+y:y+a.slice(y.length)}return{innerValue:m,hasMask:s,moveCursorForPaste:I,updateMaskValue:N,onMaskedKeydown:w,onMaskedClick:q}}const Pa=ce({name:"QInput",inheritAttrs:!1,props:{...$n,...Va,...Ft,modelValue:[String,Number,FileList],shadowText:String,type:{type:String,default:"text"},debounce:[String,Number],autogrow:Boolean,inputClass:[Array,String,Object],inputStyle:[Array,String,Object]},emits:[...qn,"paste","change","keydown","click","animationend"],setup(e,{emit:n,attrs:i}){const{proxy:o}=ge(),{$q:t}=o,a={};let l=NaN,r,d,u=null,s;const m=J(null),k=Mn(e),{innerValue:b,hasMask:C,moveCursorForPaste:U,updateMaskValue:N,onMaskedKeydown:I,onMaskedClick:V}=Aa(e,n,B,m),q=qa(e),w=c(()=>vt(b.value)),$=Bn(g),Q=Un({changeEvent:!0}),L=c(()=>e.type==="textarea"||e.autogrow===!0),Z=c(()=>L.value===!0||["text","search","url","tel","password"].includes(e.type)),y=c(()=>{const h={...Q.splitAttrs.listeners.value,onInput:g,onPaste:f,onChange:G,onBlur:te,onFocus:$e};return h.onCompositionstart=h.onCompositionupdate=h.onCompositionend=$,C.value===!0&&(h.onKeydown=I,h.onClick=V),e.autogrow===!0&&(h.onAnimationend=M),h}),_=c(()=>{const h={tabindex:0,"data-autofocus":e.autofocus===!0||void 0,rows:e.type==="textarea"?6:void 0,"aria-label":e.label,name:k.value,...Q.splitAttrs.attributes.value,id:Q.targetUid.value,maxlength:e.maxlength,disabled:e.disable===!0,readonly:e.readonly===!0};return L.value===!1&&(h.type=e.type),e.autogrow===!0&&(h.rows=1),h});oe(()=>e.type,()=>{m.value&&(m.value.value=e.modelValue)}),oe(()=>e.modelValue,h=>{if(C.value===!0){if(d===!0&&(d=!1,String(h)===l))return;N(h)}else b.value!==h&&(b.value=h,e.type==="number"&&a.hasOwnProperty("value")===!0&&(r===!0?r=!1:delete a.value));e.autogrow===!0&&qe(A)}),oe(()=>e.autogrow,h=>{h===!0?qe(A):m.value!==null&&i.rows>0&&(m.value.style.height="auto")}),oe(()=>e.dense,()=>{e.autogrow===!0&&qe(A)});function S(){Vn(()=>{const h=document.activeElement;m.value!==null&&m.value!==h&&(h===null||h.id!==Q.targetUid.value)&&m.value.focus({preventScroll:!0})})}function v(){var h;(h=m.value)==null||h.select()}function f(h){if(C.value===!0&&e.reverseFillMask!==!0){const O=h.target;U(O,O.selectionStart,O.selectionEnd)}n("paste",h)}function g(h){if(!h||!h.target)return;if(e.type==="file"){n("update:modelValue",h.target.files);return}const O=h.target.value;if(h.target.qComposing===!0){a.value=O;return}if(C.value===!0)N(O,!1,h.inputType);else if(B(O),Z.value===!0&&h.target===document.activeElement){const{selectionStart:P,selectionEnd:X}=h.target;P!==void 0&&X!==void 0&&qe(()=>{h.target===document.activeElement&&O.indexOf(h.target.value)===0&&h.target.setSelectionRange(P,X)})}e.autogrow===!0&&A()}function M(h){n("animationend",h),A()}function B(h,O){s=()=>{u=null,e.type!=="number"&&a.hasOwnProperty("value")===!0&&delete a.value,e.modelValue!==h&&l!==h&&(l=h,O===!0&&(d=!0),n("update:modelValue",h),qe(()=>{l===h&&(l=NaN)})),s=void 0},e.type==="number"&&(r=!0,a.value=h),e.debounce!==void 0?(u!==null&&clearTimeout(u),a.value=h,u=setTimeout(s,e.debounce)):s()}function A(){requestAnimationFrame(()=>{const h=m.value;if(h!==null){const O=h.parentNode.style,{scrollTop:P}=h,{overflowY:X,maxHeight:H}=t.platform.is.firefox===!0?{}:window.getComputedStyle(h),ne=X!==void 0&&X!=="scroll";ne===!0&&(h.style.overflowY="hidden"),O.marginBottom=h.scrollHeight-1+"px",h.style.height="1px",h.style.height=h.scrollHeight+"px",ne===!0&&(h.style.overflowY=parseInt(H,10)<h.scrollHeight?"auto":"hidden"),O.marginBottom="",h.scrollTop=P}})}function G(h){$(h),u!==null&&(clearTimeout(u),u=null),s==null||s(),n("change",h.target.value)}function te(h){h!==void 0&&$e(h),u!==null&&(clearTimeout(u),u=null),s==null||s(),r=!1,d=!1,delete a.value,e.type!=="file"&&setTimeout(()=>{m.value!==null&&(m.value.value=b.value!==void 0?b.value:"")})}function j(){return a.hasOwnProperty("value")===!0?a.value:b.value!==void 0?b.value:""}Ge(()=>{te()}),Ee(()=>{e.autogrow===!0&&A()}),Object.assign(Q,{innerValue:b,fieldClass:c(()=>`q-${L.value===!0?"textarea":"input"}`+(e.autogrow===!0?" q-textarea--autogrow":"")),hasShadow:c(()=>e.type!=="file"&&typeof e.shadowText=="string"&&e.shadowText.length!==0),inputRef:m,emitValue:B,hasValue:w,floatingLabel:c(()=>w.value===!0&&(e.type!=="number"||isNaN(b.value)===!1)||vt(e.displayValue)),getControl:()=>x(L.value===!0?"textarea":"input",{ref:m,class:["q-field__native q-placeholder",e.inputClass],style:e.inputStyle,..._.value,...y.value,...e.type!=="file"?{value:j()}:q.value}),getShadowControl:()=>x("div",{class:"q-field__native q-field__shadow absolute-bottom no-pointer-events"+(L.value===!0?"":" text-no-wrap")},[x("span",{class:"invisible"},j()),x("span",e.shadowText)])});const W=Nn(Q);return Object.assign(o,{focus:S,select:v,getNativeElement:()=>m.value}),un(o,"nativeEl",()=>m.value),W}});function ht(e){if(e===!1)return 0;if(e===!0||e===void 0)return 1;const n=parseInt(e,10);return isNaN(n)?0:n}const Ta=Ze({name:"close-popup",beforeMount(e,{value:n}){const i={depth:ht(n),handler(o){i.depth!==0&&setTimeout(()=>{const t=An(e);t!==void 0&&Pn(t,o,i.depth)})},handlerKey(o){cn(o,13)===!0&&i.handler(o)}};e.__qclosepopup=i,e.addEventListener("click",i.handler),e.addEventListener("keyup",i.handlerKey)},updated(e,{value:n,oldValue:i}){n!==i&&(e.__qclosepopup.depth=ht(n))},beforeUnmount(e){const n=e.__qclosepopup;e.removeEventListener("click",n.handler),e.removeEventListener("keyup",n.handlerKey),delete e.__qclosepopup}}),Ra=me({__name:"ModifierDisplay",emits:["modify","reset"],setup(e,{emit:n}){const i=n;return(o,t)=>{const a=Kn,l=ve;return R(),K("div",null,[E(l,{round:"",flat:"",dense:"",color:"red","aria-label":"Decrease value",title:"Decrease value",onClick:t[0]||(t[0]=r=>i("modify",-5))},{default:Y(()=>[E(a,{name:"line-md:chevron-small-double-left"})]),_:1}),E(l,{round:"",flat:"",dense:"",color:"red","aria-label":"Decrease value",title:"Decrease value",onClick:t[1]||(t[1]=r=>i("modify",-1))},{default:Y(()=>[E(a,{name:"line-md:chevron-small-left"})]),_:1}),E(l,{round:"",flat:"",dense:"","aria-label":"Reset value",title:"Reset value",onClick:t[2]||(t[2]=r=>i("reset"))},{default:Y(()=>[E(a,{name:"ion:ios-minus-empty"})]),_:1}),E(l,{round:"",flat:"",dense:"",color:"green","aria-label":"Increase value",title:"Increase value",onClick:t[3]||(t[3]=r=>i("modify",1))},{default:Y(()=>[E(a,{name:"line-md:chevron-small-right"})]),_:1}),E(l,{round:"",flat:"",dense:"",color:"green","aria-label":"Increase value",title:"Increase value",onClick:t[4]||(t[4]=r=>i("modify",5))},{default:Y(()=>[E(a,{name:"line-md:chevron-small-double-right"})]),_:1})])}}}),bt=_e(Ra,[["__scopeId","data-v-75fd0cf9"]]),Ea=me({__name:"NumericInput",props:{baseValue:{default:0},modifier:{default:0},direction:{default:"left"}},emits:["update:modelValue"],setup(e,{emit:n}){const i=e,o=c(()=>i.baseValue+i.modifier),t=J(i.modifier),a=n;function l(s){const m=typeof s=="string"?Number(s):s??0;t.value=m-i.baseValue,a("update:modelValue",t.value),requestAnimationFrame(()=>{var k;return(k=document.activeElement)==null?void 0:k.blur()})}function r(s){s>0?t.value+=Math.round(Math.max(s,s*i.baseValue/100)):t.value+=Math.round(Math.min(s,s*i.baseValue/100)),a("update:modelValue",t.value)}function d(){t.value=0,a("update:modelValue",t.value)}function u(s){const m=s.target;requestAnimationFrame(()=>m==null?void 0:m.select())}return(s,m)=>{const k=Xn,b=Pa;return R(),se(b,{"model-value":D(o),dense:"",standout:"custom-behavior",placeholder:s.baseValue,type:"number",debounce:"500","onUpdate:modelValue":l,onFocus:u},dn({append:Y(()=>[s.modifier!==0?(R(),se(k,{key:0,floating:"",color:s.modifier>0?"green":"red"},{default:Y(()=>[we(le(s.modifier),1)]),_:1},8,["color"])):ue("",!0)]),_:2},[s.direction==="right"?{name:"after",fn:Y(()=>[E(bt,{onModify:r,onReset:d})]),key:"0"}:void 0,s.direction==="left"?{name:"before",fn:Y(()=>[E(bt,{onModify:r,onReset:d})]),key:"1"}:void 0]),1032,["model-value","placeholder"])}}}),La=_e(Ea,[["__scopeId","data-v-bad374ab"]]);function We(e,n){return n.split(".").reduce((i,o)=>i==null?void 0:i[o],e)}function Fa(e,n,i){const o=n.split(".");let t=e;for(let a=0;a<o.length-1;a++){const l=o[a];t[l]??(t[l]={}),t=t[l]}t[o[o.length-1]]=i}function Ne(){return Xe.reduce((e,n)=>(e[n]=0,e),{})}const Xe=["health.unit","armor","attack","defense","damage.normal","damage.piercing","damage.bonus_v_large","damage.bonus_v_infantry","resistance.physical","resistance.fire","resistance.ward_save"],Ia=[{path:"health.unit",color:"green",label:"Health"},{path:"attack",color:"blue",label:"Attack"},{path:"damage.normal",color:"green",label:"Damage Normal"},{path:"damage.piercing",color:"green",label:"Damage Piercing"},{path:"damage.bonus_v_large",color:"green",label:"Bonus V Large"},{path:"damage.bonus_v_infantry",color:"green",label:"Bonus V Infantry"},{path:"defense",color:"red",label:"Defense"},{path:"armor",color:"orange",label:"Armor"},{path:"resistance.physical",color:"pink",label:"Resistance Physical"},{path:"resistance.fire",color:"pink",label:"Resistance Fire"},{path:"resistance.ward_save",color:"pink",label:"Resistance Ward Save"}];function pt(e){if(!e.selection.unit)return e;const n=JSON.parse(JSON.stringify(e.selection.unit));for(const i of Object.keys(e.bonus))if(typeof e.bonus[i]=="number"){const o=We(n,i);Fa(n,i,o+e.bonus[i])}return{selection:{unit:n,version:e.selection.version,faction:e.selection.faction},entityNumber:e.entityNumber}}const Da=40,za=8,Oa=90;function ja(e,n){var l,r,d,u;const i=e.attack||0,o=n.defense||0,a=((r=(l=n.land_unit)==null?void 0:l.battle_entity)==null?void 0:r.size)!=="small"?((d=e.damage)==null?void 0:d.bonus_v_large)||0:((u=e.damage)==null?void 0:u.bonus_v_infantry)||0;return Math.max(za,Math.min(i-o+Da+a,Oa))/100}function Ha(e,n){var d,u,s,m,k,b;const o=((u=(d=n.land_unit)==null?void 0:d.battle_entity)==null?void 0:u.size)!=="small"?((s=e.damage)==null?void 0:s.bonus_v_large)||0:((m=e.damage)==null?void 0:m.bonus_v_infantry)||0,t=((k=e.damage)==null?void 0:k.normal)||0,a=((b=e.damage)==null?void 0:b.piercing)||0,l=t/(t+a),r=n.armor||0;return(t+o*l)*(1-Math.min(r*.75*.01,1))+a+o*(1-l)}function Ka(e,n){var r,d,u,s,m;const i=((r=n.resistance)==null?void 0:r.ward_save)||0,o=((d=n.resistance)==null?void 0:d.physical)||0,t=((u=n.resistance)==null?void 0:u.fire)||0,a=((s=e.damage)==null?void 0:s.is_magical)||!1,l=((m=e.damage)==null?void 0:m.is_fire)||!1;return(i+(a?0:Math.max(o,0))+(l?Math.min(Math.max(t,-100),100):0))/100}function yt(e,n){var a;const i=ja(e,n),o=Ka(e,n);return i*(1-o)*Ha(e,n)/(((a=n.health)==null?void 0:a.unit)||0)}function Ae(e){return e.land_unit.num_engines>0&&e.land_unit.num_engines!==e.num_men||e.land_unit.num_mounts>0&&e.land_unit.num_mounts!==e.num_men?1:e.num_men||1}function Qa(e,n){const i=yt(e.selection.unit,n.selection.unit)*Math.min(Ae(e.selection.unit),e.entityNumber),o=yt(n.selection.unit,e.selection.unit)*Math.min(Ae(n.selection.unit),n.entityNumber);function t(a,l,r){const d=1/l,s=1-d*r;return{winner:a,hitsNeeded:d,remainingHealth:s}}return i>o?t("left",i,o):o>i?t("right",o,i):t("left",i,o)}const Ht=Bt("unit",{state:()=>({leftUnit:null,rightUnit:null}),actions:{setLeftUnit(e){e?(this.leftUnit=e,this.leftUnit.bonus=Ne()):this.leftUnit=null},setRightUnit(e){e?(this.rightUnit=e,this.rightUnit.bonus=Ne()):this.rightUnit=null},setLeftUnitBonus(e){this.leftUnit&&(e?this.leftUnit.bonus=e:this.leftUnit.bonus=Ne())},setRightUnitBonus(e){this.rightUnit&&(e?this.rightUnit.bonus=e:this.rightUnit.bonus=Ne())},setLeftUnitEntityCount(e){this.leftUnit&&(this.leftUnit.entityNumber=e)},setRightUnitEntityCount(e){this.rightUnit&&(this.rightUnit.entityNumber=e)},clearUnits(){this.leftUnit=null,this.rightUnit=null}},getters:{combatResult(){var e,n;return!((e=this.leftUnit)!=null&&e.selection.unit)||!((n=this.rightUnit)!=null&&n.selection.unit)?null:Qa(pt(this.leftUnit),pt(this.rightUnit))}},persist:{storage:vn.localStorage()}}),Wa={class:"short-summary"},Xa={key:0,class:"combat-result"},Ya={class:"winner-section"},Za={class:"hits-info"},Ga={class:"health-display"},Ja={key:1,class:"no-combat"},ei=me({__name:"ShortSummary",setup(e){const n=Ht(),i=c(()=>n.combatResult),o=c(()=>{var u,s,m;if(!i.value)return"";const d=i.value.winner==="left"?(u=n.leftUnit)==null?void 0:u.selection.unit:(s=n.rightUnit)==null?void 0:s.selection.unit;return((m=d==null?void 0:d.land_unit)==null?void 0:m.onscreen_name)||"Unknown Unit"}),t=c(()=>{var u,s,m;if(!i.value)return"";const d=i.value.winner==="left"?(u=n.rightUnit)==null?void 0:u.selection.unit:(s=n.leftUnit)==null?void 0:s.selection.unit;return((m=d==null?void 0:d.land_unit)==null?void 0:m.onscreen_name)||"Unknown Unit"}),a=c(()=>{var d;return((d=i.value)==null?void 0:d.winner)==="left"?"text-positive":"text-negative"}),l=c(()=>{var d;return((d=i.value)==null?void 0:d.winner)==="left"?"bg-negative":"bg-positive"}),r=c(()=>{var u;const d=(((u=i.value)==null?void 0:u.remainingHealth)||0)*100;return d>=80?"green":d>=60?"light-green":d>=40?"orange":d>=20?"deep-orange":"red"});return(d,u)=>{const s=_a;return R(),K("div",Wa,[i.value?(R(),K("div",Xa,[F("div",Ya,[F("p",null,[F("span",{class:ke(["winner-title text-emphasized",a.value])},le(o.value),3),u[0]||(u[0]=we(" wins! "))]),F("p",Za,[we(" Takes "+le(i.value.hitsNeeded.toFixed(1))+" hits to defeat ",1),F("span",{class:ke(["loser-name text-emphasized",l.value])},le(t.value),3),u[1]||(u[1]=we(", with "))])]),F("div",Ga,[E(s,{"show-value":"",value:i.value.remainingHealth*100,size:"70px",thickness:.22,color:r.value,"track-color":"grey-3",class:"q-ma-md"},{default:Y(()=>[we(le((i.value.remainingHealth*100).toFixed(1))+"% ",1)]),_:1},8,["value","color"]),u[2]||(u[2]=F("span",{class:"health-label"},"Remaining Health",-1))])])):(R(),K("div",Ja,u[3]||(u[3]=[F("p",null,"Select two units to see combat results",-1)])))])}}}),ti=_e(ei,[["__scopeId","data-v-4ad7d52d"]]),ni=me({__name:"ValueDisplay",props:{value:{type:[Number,Boolean]},isUpdatable:{type:Boolean},bonus:{default:0},orientation:{}},emits:["update"],setup(e,{emit:n}){const i=n;function o(l){a.value=l,i("update",a.value)}const a=J(e.bonus);return(l,r)=>(R(),K("div",{class:ke(["container",{reverse:l.orientation==="right"}])},[F("div",{class:ke(["left base",{right:l.orientation==="right"}])},[typeof l.value=="number"&&l.isUpdatable?(R(),se(La,{key:0,modifier:a.value,baseValue:l.value,"onUpdate:modelValue":o,direction:l.orientation},null,8,["modifier","baseValue","direction"])):(R(),K(fe,{key:1},[we(le(l.value),1)],64))],2)],2))}}),kt=_e(ni,[["__scopeId","data-v-affafb13"]]),ai={scope:"col",class:"text-right unit-column"},ii={scope:"col",class:"text-left unit-column"},oi={key:0,class:"unit-column"},li={class:"text-center stat-column"},ri={key:1,class:"unit-column"},si=me({__name:"index",props:{leftUnit:{},rightUnit:{}},emits:["update"],setup(e,{emit:n}){const i=n;function o(t,a,l){i("update",t,a,l)}return(t,a)=>{var r,d,u,s;const l=Tn;return(d=(r=t.leftUnit)==null?void 0:r.selection)!=null&&d.unit||(s=(u=t.rightUnit)==null?void 0:u.selection)!=null&&s.unit?(R(),se(l,{key:0,separator:"none",flat:"",bordered:""},{default:Y(()=>{var m,k,b,C,U,N,I,V;return[F("thead",null,[F("tr",null,[F("th",ai,[F("b",null,le((C=(b=(k=(m=t.leftUnit)==null?void 0:m.selection)==null?void 0:k.unit)==null?void 0:b.land_unit)==null?void 0:C.onscreen_name),1)]),a[0]||(a[0]=F("th",{scope:"col",class:"text-center stat-column"},[F("b",null,"Statistic")],-1)),F("th",ii,[F("b",null,le((V=(I=(N=(U=t.rightUnit)==null?void 0:U.selection)==null?void 0:N.unit)==null?void 0:I.land_unit)==null?void 0:V.onscreen_name),1)])])]),F("tbody",null,[(R(!0),K(fe,null,Se(D(Ia),q=>{var w,$,Q,L;return R(),K("tr",{key:q.path},[($=(w=t.leftUnit)==null?void 0:w.selection)!=null&&$.unit?(R(),K("td",oi,[E(kt,{value:D(We)(t.leftUnit.selection.unit,q.path),bonus:t.leftUnit.bonus[q.path],isUpdatable:D(Xe).includes(q.path),onUpdate:Z=>o("left",q.path,Z),orientation:"left"},null,8,["value","bonus","isUpdatable","onUpdate"])])):ue("",!0),F("td",li,le(q.label),1),(L=(Q=t.rightUnit)==null?void 0:Q.selection)!=null&&L.unit?(R(),K("td",ri,[E(kt,{value:D(We)(t.rightUnit.selection.unit,q.path),bonus:t.rightUnit.bonus[q.path],isUpdatable:D(Xe).includes(q.path),onUpdate:Z=>o("right",q.path,Z),orientation:"right"},null,8,["value","bonus","isUpdatable","onUpdate"])])):ue("",!0)])}),128))])]}),_:1})):ue("",!0)}}}),ui=_e(si,[["__scopeId","data-v-1630e91e"]]),it="https://res.cloudinary.com/fishofstone/image/upload/twwstats/api",ci="ui/skins/default/icon_cross.webp",di="mon_64.webp";function Ye(e,n){let i=`${it}/${e}`;if(n.general_portrait&&n.general_portrait.length>0){const o=n.general_portrait.replace("portholes","units").replace(".png",".webp");i+=`/${o}`}else n.unit_card_url?i+=`/ui/units/icons/${n.unit_card_url}.webp`:n.unit&&(i+=`/ui/units/icons/${n.unit}.webp`);return i}async function vi(e,n,i){var o,t,a,l,r,d,u,s,m,k,b,C,U,N,I,V,q,w,$,Q,L,Z,y,_,S,v,f,g,M,B,A,G,te,j,W,h,O,P,X,H;if(!n||!i)throw new Error("ID de version et clé d'unité requis");try{const ne=await e.query({tww:{__args:{tww_version:n},unit:{__args:{id:i},unit:!0,caste:!0,num_men:!0,recruitment_cost:!0,upkeep_cost:!0,land_unit:{onscreen_name:!0,bonus_hit_points:!0,num_engines:!0,num_mounts:!0,battle_entity:{hit_points:!0,size:!0,type:!0},articulated_vehicle_entity:{hit_points:!0},engine:{battle_entity:{hit_points:!0,type:!0}},mount:{battle_entity:{hit_points:!0}},armour:{armour_value:!0},primary_melee_weapon:{damage:!0,ap_damage:!0,bonus_v_large:!0,bonus_v_infantry:!0,melee_attack_interval:!0,is_magical:!0,ignition_amount:!0},melee_attack:!0,melee_defence:!0,damage_mod_physical:!0,damage_mod_flame:!0,damage_mod_all:!0,variant:{unit_card_url:!0}},battle_mounts:{base_unit:!0,mounted_unit:!0,icon_name:!0,mount_name:!0},custom_battle_permissions:{general_portrait:!0},ui_unit_group:{parent_group:{onscreen_name:!0}}}}});if(!((o=ne==null?void 0:ne.tww)!=null&&o.unit))return null;const T=ne.tww.unit;return!T||typeof T.unit!="string"||typeof T.caste!="string"||typeof T.num_men!="number"||!T.land_unit?null:{version:n,unit:T.unit,caste:T.caste,num_men:T.num_men,recruitment_cost:Number(T.recruitment_cost||0),upkeep_cost:Number(T.upkeep_cost||0),land_unit:{num_engines:T.land_unit.num_engines||0,num_mounts:T.land_unit.num_mounts||0,onscreen_name:((t=T.land_unit)==null?void 0:t.onscreen_name)||"",bonus_hit_points:Number(((a=T.land_unit)==null?void 0:a.bonus_hit_points)||0),battle_entity:{hit_points:Number(((r=(l=T.land_unit)==null?void 0:l.battle_entity)==null?void 0:r.hit_points)||0),size:((u=(d=T.land_unit)==null?void 0:d.battle_entity)==null?void 0:u.size)||"small",type:((m=(s=T.land_unit)==null?void 0:s.battle_entity)==null?void 0:m.type)||""}},battle_mounts:(T.battle_mounts||[]).filter(be=>be!==null).map(be=>({base_unit:be.base_unit||"",mounted_unit:be.mounted_unit||"",icon_name:be.icon_name||"",mount_name:be.mount_name||""})),health:{unit:Rn(T),entity:Math.round(((b=(k=T.land_unit)==null?void 0:k.battle_entity)==null?void 0:b.hit_points)||0)},armor:Number(((U=(C=T.land_unit)==null?void 0:C.armour)==null?void 0:U.armour_value)||0),attack:Number(((N=T.land_unit)==null?void 0:N.melee_attack)||0),defense:Number(((I=T.land_unit)==null?void 0:I.melee_defence)||0),attack_interval:Number(((q=(V=T.land_unit)==null?void 0:V.primary_melee_weapon)==null?void 0:q.melee_attack_interval)||0),damage:{normal:Number((($=(w=T.land_unit)==null?void 0:w.primary_melee_weapon)==null?void 0:$.damage)||0),piercing:Number(((L=(Q=T.land_unit)==null?void 0:Q.primary_melee_weapon)==null?void 0:L.ap_damage)||0),is_magical:!!((y=(Z=T.land_unit)==null?void 0:Z.primary_melee_weapon)!=null&&y.is_magical),is_fire:Number(((S=(_=T.land_unit)==null?void 0:_.primary_melee_weapon)==null?void 0:S.ignition_amount)||0)>0,bonus_v_large:Number(((f=(v=T.land_unit)==null?void 0:v.primary_melee_weapon)==null?void 0:f.bonus_v_large)||0),bonus_v_infantry:Number(((M=(g=T.land_unit)==null?void 0:g.primary_melee_weapon)==null?void 0:M.bonus_v_infantry)||0)},resistance:{physical:Number(((B=T.land_unit)==null?void 0:B.damage_mod_physical)||0),fire:Number(((A=T.land_unit)==null?void 0:A.damage_mod_flame)||0),ward_save:Number(((G=T.land_unit)==null?void 0:G.damage_mod_all)||0)},is_large:((j=(te=T.land_unit)==null?void 0:te.battle_entity)==null?void 0:j.size)!=="small",general_portrait:((h=(W=T.custom_battle_permissions)==null?void 0:W[0])==null?void 0:h.general_portrait)||"",group:((P=(O=T.ui_unit_group)==null?void 0:O.parent_group)==null?void 0:P.onscreen_name)||"",unit_card_url:((H=(X=T.land_unit)==null?void 0:X.variant)==null?void 0:H.unit_card_url)||""}}catch(ne){throw console.error("Erreur lors de la récupération de l'unité:",ne),ne}}function Ct(e,n){if(!(!e||!(n!=null&&n.flags_url)))return`${it}/${e}/${n.flags_url}/${di}`}const mi=Bt("memory",{state:()=>({last_version:null}),actions:{setLastVersion(e){this.last_version=e},clearSession(){this.last_version=null}},persist:{storage:sessionStorage,key:"tww3-brawl-memory"}}),fi={class:"row items-center q-gutter-x-sm"},gi={class:"q-mb-md"},_i={key:0,class:"version-icons-row"},hi=["onClick"],bi={class:"version-icon"},pi={class:"version-label"},yi={class:"q-mb-md"},ki={key:0,class:"faction-icons-row"},Ci=["onClick"],wi=["src","alt"],Si={class:"faction-label"},xi={class:"q-mb-md"},qi={key:0},$i={class:"group-label"},Mi={class:"unit-icons-row"},Ui=["onClick"],Bi=["src","alt"],Ni={class:"unit-label"},Vi={key:1},Ai=me({__name:"SelectUnit",props:{unitSelection:{},version:{}},emits:["update:unitSelection","update:version"],setup(e,{emit:n}){const i=J(null),o=J("version"),t=J(!1),a=mi(),l=n,r=J(null),d=c({get:()=>{var f;return(f=r.value)!=null&&f.version?r.value.version:a.last_version},set:f=>{a.setLastVersion(f),r.value?r.value.version=f:f&&(r.value={unit:void 0,version:f,faction:void 0})}}),u=c({get:()=>{var f;return((f=r.value)==null?void 0:f.faction)||null},set:f=>{r.value?r.value.faction=f:f&&(r.value={unit:void 0,version:void 0,faction:f})}}),s=c({get:()=>{var f;return((f=r.value)==null?void 0:f.unit)||null},set:f=>{r.value?r.value.unit=f:f&&(r.value={unit:f,version:void 0,faction:void 0})}}),{data:m,isLoading:k}=En(),b=c(()=>m.value?m.value:[]),C=c(()=>{var f,g;return((g=(f=r.value)==null?void 0:f.version)==null?void 0:g.id)??""}),{data:U,isLoading:N,refetch:I}=Ln(C),V=c(()=>U.value?U.value:[]),q=c(()=>{var f,g;return((g=(f=r.value)==null?void 0:f.faction)==null?void 0:g.key)??""}),{data:w,isLoading:$,refetch:Q}=Fn(C,q);c(()=>w.value?w.value.map(f=>{var g;return{label:((g=f.land_unit)==null?void 0:g.onscreen_name)||f.unit,value:f.unit}}):[]);const L=c(()=>{var A;if(!w.value)return{};const f={};for(const G of w.value){const te=G.group||"Autres";f[te]||(f[te]=[]),f[te].push(G)}const g={};for(const[G,te]of Object.entries(f)){const j={};for(const h of te){const O=((A=h.land_unit)==null?void 0:A.onscreen_name)||h.unit;j[O]||(j[O]=[]),j[O].push(h)}const W=[];for(const h in j){const O=j[h].sort((P,X)=>{const H=P.recruitment_cost||0,ne=X.recruitment_cost||0;return H-ne})[0];W.push(O)}W.sort((h,O)=>{var T,Ce;const P=h.recruitment_cost||0,X=O.recruitment_cost||0;if(P!==X)return P-X;const H=((T=h.land_unit)==null?void 0:T.onscreen_name)||h.unit,ne=((Ce=O.land_unit)==null?void 0:Ce.onscreen_name)||O.unit;return H.localeCompare(ne)}),g[G]=W}const M=["Lords","Heroes","Infantry","Missile Infantry","Cavalry & Chariots","Missile Cavalry & Chariots","Artillery & War Machines"],B={};for(const G of M)g[G]&&(B[G]=g[G]);for(const[G,te]of Object.entries(g))M.includes(G)||(B[G]=te);return B});oe(t,async f=>{f&&(!r.value||!r.value.unit)&&a.last_version&&(d.value=a.last_version,o.value="faction",await I())}),oe(o,async f=>{f==="version"?r.value&&(r.value.faction=void 0,r.value.unit=void 0):f==="faction"?(await I(),r.value&&(r.value.unit=void 0)):f==="unit"&&await Q()});const Z=()=>{o.value==="version"&&d.value?(u.value=void 0,s.value=void 0,o.value="faction"):o.value==="faction"&&u.value&&(s.value=void 0,o.value="unit")},y=()=>{o.value==="unit"?(s.value=void 0,o.value="faction"):o.value==="faction"&&(u.value=void 0,o.value="version")},_=f=>{d.value=f,o.value="faction"},S=f=>{u.value=f,o.value="unit"},v=f=>{s.value=f,r.value&&(t.value=!1,l("update:unitSelection",r.value))};return(f,g)=>{const M=ve,B=In,A=ma,G=It,te=va,j=nt,W=ea,h=tt,O=Dn;return R(),K("div",fi,[E(M,{label:"Pick a Unit",color:"primary",onClick:g[0]||(g[0]=P=>t.value=!0)}),E(O,{modelValue:t.value,"onUpdate:modelValue":g[6]||(g[6]=P=>t.value=P)},{default:Y(()=>[E(h,{class:"custom"},{default:Y(()=>[E(j,{class:"q-card-section-custom"},{default:Y(()=>[E(te,{ref_key:"carouselRef",ref:i,padding:!1,modelValue:o.value,"onUpdate:modelValue":g[3]||(g[3]=P=>o.value=P),autoplay:!1,"transition-prev":"slide-left","transition-next":"slide-right","aria-hidden":"true",class:"q-carousel-custom"},{default:Y(()=>[E(A,{name:"version",key:"version"},{default:Y(()=>[F("div",gi,[E(B,{modelValue:d.value,"onUpdate:modelValue":g[1]||(g[1]=P=>d.value=P),options:b.value,loading:D(k),label:"Versions",dense:"",outlined:"","option-label":"name","option-value":"id"},null,8,["modelValue","options","loading"]),D(m)&&o.value==="version"?(R(),K("div",_i,[(R(!0),K(fe,null,Se(D(m),P=>{var X;return R(),K("div",{key:P.id,class:ke(["version-icon-container",{selected:d.value&&d.value.id===P.id}]),onClick:H=>_(P)},[F("div",bi,le(((X=P.name)==null?void 0:X.charAt(0))||"V"),1),F("div",pi,le(P.name),1)],10,hi)}),128))])):ue("",!0)])]),_:1}),E(A,{name:"faction",key:"faction"},{default:Y(()=>[F("div",yi,[E(B,{modelValue:u.value,"onUpdate:modelValue":g[2]||(g[2]=P=>u.value=P),options:V.value,loading:D(N),disable:!d.value||D(N),label:"Faction",dense:"",outlined:"","option-label":"screen_name","option-value":"key"},null,8,["modelValue","options","loading","disable"]),D(U)&&o.value==="faction"?(R(),K("div",ki,[(R(!0),K(fe,null,Se(D(U),P=>{var X;return R(),K("div",{key:P.key,class:ke(["faction-icon-container",{selected:u.value&&u.value.key===P.key}]),onClick:H=>S(P)},[D(Ct)(C.value,P)?(R(),K("img",{key:0,src:D(Ct)(C.value,P),alt:P.screen_name||P.key,class:"faction-icon"},null,8,wi)):ue("",!0),F("div",Si,le(((X=P.subculture)==null?void 0:X.name)||P.key),1)],10,Ci)}),128))])):ue("",!0)])]),_:1}),E(A,{name:"unit",key:"unit"},{default:Y(()=>[F("div",xi,[D(w)&&Object.keys(L.value).length>0?(R(),K("div",qi,[(R(!0),K(fe,null,Se(L.value,(P,X)=>(R(),K("div",{key:X,class:"unit-group-block"},[F("div",$i,le(X),1),F("div",Mi,[(R(!0),K(fe,null,Se(P,H=>{var ne,T;return R(),K("div",{key:H.unit,class:ke(["unit-icon-container",{selected:s.value&&s.value.unit===H.unit}]),onClick:Ce=>v(H)},[D(Ye)(C.value,H)?(R(),K("img",{key:0,src:D(Ye)(C.value,H),alt:((ne=H.land_unit)==null?void 0:ne.onscreen_name)||H.unit,class:"unit-icon"},null,8,Bi)):ue("",!0),F("div",Ni,le(((T=H.land_unit)==null?void 0:T.onscreen_name)||H.unit),1)],10,Ui)}),128))])]))),128))])):(R(),K("div",Vi,[E(G,{color:"primary"})]))])]),_:1})]),_:1},8,["modelValue"])]),_:1}),E(W,{class:"text-primary q-card-actions-custom",align:"between"},{default:Y(()=>[o.value==="version"?(R(),se(M,{key:0,label:"Fermer",flat:"",dense:"",onClick:g[4]||(g[4]=P=>t.value=!1)})):(R(),se(M,{key:1,label:"Back",flat:"",dense:"",onClick:y})),o.value!=="unit"?(R(),se(M,{key:2,disable:o.value==="version"&&!d.value||o.value==="faction"&&!u.value,label:"Next",color:"primary",flat:"",dense:"",onClick:Z},null,8,["disable"])):(R(),se(M,{key:3,disable:!s.value||!d.value||!u.value,label:"Finish",color:"primary",flat:"",dense:"",onClick:g[5]||(g[5]=()=>{t.value=!1,r.value&&l("update:unitSelection",r.value)})},null,8,["disable"]))]),_:1})]),_:1})]),_:1},8,["modelValue"])])}}}),Pi=_e(Ai,[["__scopeId","data-v-121c956b"]]);function wt(e,n){return`${it}/${e}/${n.replace(/\.png/,".webp")}`}function Ti(e,n,i){const o=zn();return On({queryKey:["tww","versions",e,"units",n],queryFn:()=>vi(o,e.value,n.value),staleTime:30*60*1e3,enabled:!!e.value&&!!n.value})}const Ri={class:"row items-center"},Ei=["src"],Li=["src"],Fi=me({__name:"MountPicker",props:{unit:{}},emits:["update:unit"],setup(e,{emit:n}){const i=e,o=n,t=c(()=>{var C;return(C=l.value.find(U=>U.mounted_unit===i.unit.unit))==null?void 0:C.icon_name}),a=J(null),l=c(()=>{const C=i.unit.battle_mounts;if(C.length>0){const U={base_unit:C[0].base_unit,mounted_unit:C[0].base_unit,icon_name:ci,mount_name:"On Foot"};return[...C,U]}return[]}),r=c(()=>i.unit.version),d=c(()=>a.value||""),{data:u,isLoading:s,error:m,refetch:k}=Ti(r,d);oe(a,async C=>{C!==null&&(await k(),u.value&&o("update:unit",u.value))},{immediate:!0});function b(C){const U=C.mounted_unit;U!==i.unit.unit&&(a.value=U)}return(C,U)=>{const N=Qn,I=Hn,V=jn,q=Jn,w=Ta;return R(),K("div",Ri,[E(q,null,{default:Y(()=>[E(V,null,{default:Y(()=>[(R(!0),K(fe,null,Se(l.value,$=>mn((R(),se(I,{key:$.mounted_unit,onClick:Q=>b($),clickable:""},{default:Y(()=>[E(N,null,{default:Y(()=>[F("img",{src:D(wt)(C.unit.version,$.icon_name)},null,8,Ei)]),_:2},1024),we(" "+le($.mount_name),1)]),_:2},1032,["onClick"])),[[w]])),128))]),_:1})]),_:1}),E(N,null,{default:Y(()=>[F("img",{src:D(wt)(C.unit.version,t.value||"")},null,8,Li)]),_:1})])}}}),Ii={class:"unit-label text-xl"},Di={class:"q-mt-md row justify-between"},zi=me({__name:"index",props:{orientation:{default:"left"},modelValue:{}},emits:["update:modelValue"],setup(e,{emit:n}){const i=c(()=>{var s;return((s=t.modelValue)==null?void 0:s.selection)||null}),o=J(null),t=e,a=n;function l(s){const m=s.num_men||1,k=Math.min(15,m);t.modelValue&&(t.modelValue.selection.unit=s,a("update:modelValue",{selection:t.modelValue.selection,entityNumber:k,bonus:t.modelValue.bonus}))}function r(s){var b;const m=((b=s.unit)==null?void 0:b.num_men)||1,k=Math.min(15,m);a("update:modelValue",{selection:s,entityNumber:k,bonus:Ne()})}const d=c(()=>{var s,m,k;return(k=(m=(s=i.value)==null?void 0:s.unit)==null?void 0:m.land_unit)!=null&&k.onscreen_name?i.value.unit.land_unit.onscreen_name:"Unit Title"}),u=c(()=>{var s,m,k;if((s=i.value)!=null&&s.unit&&((k=(m=i.value)==null?void 0:m.version)!=null&&k.id)){const b=Ye(i.value.version.id,i.value.unit);if(b)return b}return"/default-unit-image.jpg"});return(s,m)=>{const k=Ba,b=nt,C=tt;return R(),se(C,{class:"unit-card"},{default:Y(()=>[E(b,null,{default:Y(()=>[E(k,{src:u.value,ratio:16/9,fit:"contain",class:"unit-image",alt:"Unit Portrait"},null,8,["src"]),F("div",Ii,le(d.value),1)]),_:1}),E(b,{class:ke([s.orientation,"card-section"])},{default:Y(()=>{var U,N,I,V,q,w;return[F("div",Di,[E(Pi,{unitSelection:i.value,version:D(o),"onUpdate:unitSelection":m[0]||(m[0]=$=>r($)),"onUpdate:version":m[1]||(m[1]=$=>o.value=$)},null,8,["unitSelection","version"]),(I=(N=(U=i.value)==null?void 0:U.unit)==null?void 0:N.battle_mounts)!=null&&I.length&&((w=(q=(V=i.value)==null?void 0:V.unit)==null?void 0:q.battle_mounts)==null?void 0:w.length)>0?(R(),se(Fi,{key:0,unit:i.value.unit,"onUpdate:unit":m[2]||(m[2]=$=>l($))},null,8,["unit"])):ue("",!0)])]}),_:1},8,["class"])]),_:1})}}}),St=_e(zi,[["__scopeId","data-v-b6c08d2e"]]),Oi={key:0,class:"col-6"},ji={class:"text-caption q-mb-xs"},Hi={class:"q-mt-md"},Ki={class:"row q-gutter-xs"},Qi=me({__name:"EntitySliders",props:{entityNumber:{},maxEntities:{}},emits:["update:entityNumber"],setup(e,{emit:n}){const i=n,o=[6,10,14,20],t=a=>{a!==null&&i("update:entityNumber",a)};return(a,l)=>{const r=xa,d=ve,u=nt,s=tt;return a.maxEntities>1?(R(),K("div",Oi,[E(s,null,{default:Y(()=>[E(u,null,{default:Y(()=>[F("div",ji," Active entities: "+le(a.entityNumber),1),E(r,{"model-value":a.entityNumber,"onUpdate:modelValue":t,min:1,max:a.maxEntities,step:1,label:"","label-always":""},null,8,["model-value","max"]),F("div",Hi,[l[0]||(l[0]=F("div",{class:"text-caption q-mb-xs"},"Quick select:",-1)),F("div",Ki,[(R(),K(fe,null,Se(o,m=>E(d,{key:m,label:m.toString(),color:a.entityNumber===m?"primary":"grey-6",outline:a.entityNumber!==m,size:"sm",onClick:k=>t(m),disable:m>a.maxEntities},null,8,["label","color","outline","onClick","disable"])),64))])])]),_:1})]),_:1})])):ue("",!0)}}}),xt=_e(Qi,[["__scopeId","data-v-95171e5f"]]),Wi={class:"q-pa-md container"},Xi={class:"justify-center items-center unit-cards-container"},Yi={class:"text-center"},Zi={key:0,class:"entity-sliders-container"},Gi={class:"entity-slider"},Ji={class:"entity-slider"},eo=me({__name:"index",setup(e){const n=Ht(),i=(t,a,l)=>{var r,d;if(t==="left"){const u=((r=n.leftUnit)==null?void 0:r.bonus)??null;u&&(u[a]=l),n.setLeftUnitBonus(u)}else{const u=((d=n.rightUnit)==null?void 0:d.bonus)??null;u&&(u[a]=l),n.setRightUnitBonus(u)}},o=()=>{n.clearUnits()};return(t,a)=>{var u,s,m,k,b,C,U,N,I,V,q,w,$,Q;const l=ve,r=ti,d=ui;return R(),K(fe,null,[a[5]||(a[5]=F("h1",null,"TWW3 Brawl",-1)),F("div",Wi,[F("div",Xi,[E(St,{orientation:"left",class:"bg-positive unit-card",modelValue:D(n).leftUnit,"onUpdate:modelValue":a[0]||(a[0]=L=>D(n).setLeftUnit(L))},null,8,["modelValue"]),E(St,{orientation:"right",class:"bg-negative unit-card",modelValue:D(n).rightUnit,"onUpdate:modelValue":a[1]||(a[1]=L=>D(n).setRightUnit(L))},null,8,["modelValue"])]),F("div",Yi,[E(l,{label:"Reset",color:"warning",icon:"refresh",onClick:o})]),(m=(s=(u=D(n))==null?void 0:u.leftUnit)==null?void 0:s.selection)!=null&&m.unit||(C=(b=(k=D(n))==null?void 0:k.rightUnit)==null?void 0:b.selection)!=null&&C.unit?(R(),K("div",Zi,[F("div",Gi,[(I=(N=(U=D(n))==null?void 0:U.leftUnit)==null?void 0:N.selection)!=null&&I.unit&&D(Ae)(D(n).leftUnit.selection.unit)>1?(R(),se(xt,{key:0,"entity-number":D(n).leftUnit.entityNumber,"max-entities":((q=(V=D(n).leftUnit.selection)==null?void 0:V.unit)==null?void 0:q.num_men)||1,"onUpdate:entityNumber":a[2]||(a[2]=L=>D(n).setLeftUnitEntityCount(L))},null,8,["entity-number","max-entities"])):ue("",!0)]),F("div",Ji,[(Q=($=(w=D(n))==null?void 0:w.rightUnit)==null?void 0:$.selection)!=null&&Q.unit&&D(Ae)(D(n).rightUnit.selection.unit)>1?(R(),se(xt,{key:0,"entity-number":D(n).rightUnit.entityNumber,"max-entities":D(Ae)(D(n).rightUnit.selection.unit),"onUpdate:entityNumber":a[3]||(a[3]=L=>D(n).setRightUnitEntityCount(L))},null,8,["entity-number","max-entities"])):ue("",!0)])])):ue("",!0),E(r),E(d,{leftUnit:D(n).leftUnit,rightUnit:D(n).rightUnit,onUpdate:i},null,8,["leftUnit","rightUnit"]),a[4]||(a[4]=F("div",{style:{"min-height":"25vh"}},null,-1))])],64)}}}),oo=_e(eo,[["__scopeId","data-v-96e0e999"]]);export{oo as default};
