import{H as de,j as u,h as q,I as be,r as W,J as oe,o as De,K as Ne,L as Je,M as Ve,N as ge,O as Re,P as Bt,Q as we,R as Pe,S as Ae,T as Nt,U as Vt,V as sn,W as Rt,e as et,X as mt,Y as Ke,Z as un,$ as Be,a0 as cn,a1 as dn,a2 as vn,d as fe,t as K,v as A,z as T,A as G,_ as _e,a3 as ce,a4 as I,a5 as mn,a6 as se,B as Se,y as le,a7 as At,a8 as fn,x as R,a9 as Ce,aa as he,ab as xe,ac as gn}from"./DF1xsoYd.js";import{u as Pt,a as Et,Q as It,h as Tt,b as Lt,c as pe,d as _n,n as Ft,e as hn,g as bn,f as pn,_ as me,i as tt,j as nt,k as yn,l as kn,m as Dt,o as Xe,p as wn,q as Cn,r as Sn,s as xn,t as zt,v as qe,w as Ot,x as qn,y as $n,z as jt,A as Qe,B as Mn,C as Un,D as Bn,E as ft,F as Nn,G as Vn,H as Rn,I as An,J as Pn,K as En,L as In,M as Tn,N as Ln,O as Fn,P as Dn,R as zn,S as On,T as jn,U as Hn,V as Kn,W as Qn}from"./DHMIdo1N.js";import Wn from"./DY44Rz4I.js";/* empty css        */const Xn=de({name:"QAvatar",props:{...Pt,fontSize:String,color:String,textColor:String,icon:String,square:Boolean,rounded:Boolean},setup(e,{slots:n}){const i=Et(e),o=u(()=>"q-avatar"+(e.color?` bg-${e.color}`:"")+(e.textColor?` text-${e.textColor} q-chip--colored`:"")+(e.square===!0?" q-avatar--square":e.rounded===!0?" rounded-borders":"")),t=u(()=>e.fontSize?{fontSize:e.fontSize}:null);return()=>{const a=e.icon!==void 0?[q(It,{name:e.icon})]:void 0;return q("div",{class:o.value,style:i.value},[q("div",{class:"q-avatar__content row flex-center overflow-hidden",style:t.value},Tt(n.default,a))])}}}),Yn=["top","middle","bottom"],Zn=de({name:"QBadge",props:{color:String,textColor:String,floating:Boolean,transparent:Boolean,multiLine:Boolean,outline:Boolean,rounded:Boolean,label:[Number,String],align:{type:String,validator:e=>Yn.includes(e)}},setup(e,{slots:n}){const i=u(()=>e.align!==void 0?{verticalAlign:e.align}:null),o=u(()=>{const t=e.outline===!0&&e.color||e.textColor;return`q-badge flex inline items-center no-wrap q-badge--${e.multiLine===!0?"multi":"single"}-line`+(e.outline===!0?" q-badge--outline":e.color!==void 0?` bg-${e.color}`:"")+(t!==void 0?` text-${t}`:"")+(e.floating===!0?" q-badge--floating":"")+(e.rounded===!0?" q-badge--rounded":"")+(e.transparent===!0?" q-badge--transparent":"")});return()=>q("div",{class:o.value,style:i.value,role:"status","aria-label":e.label},Lt(n.default,e.label!==void 0?[e.label]:[]))}}),Gn=de({name:"QBtnGroup",props:{unelevated:Boolean,outline:Boolean,flat:Boolean,rounded:Boolean,square:Boolean,push:Boolean,stretch:Boolean,glossy:Boolean,spread:Boolean},setup(e,{slots:n}){const i=u(()=>{const o=["unelevated","outline","flat","rounded","square","push","stretch","glossy"].filter(t=>e[t]===!0).map(t=>`q-btn-group--${t}`).join(" ");return`q-btn-group row no-wrap${o.length!==0?" "+o:""}`+(e.spread===!0?" q-btn-group--spread":" inline")});return()=>q("div",{class:i.value},pe(n.default))}}),Jn=Object.keys(Ft);function ea(e){return Jn.reduce((n,i)=>{const o=e[i];return o!==void 0&&(n[i]=o),n},{})}const ta=de({name:"QBtnDropdown",props:{...Ft,..._n,modelValue:Boolean,split:Boolean,dropdownIcon:String,contentClass:[Array,String,Object],contentStyle:[Array,String,Object],cover:Boolean,persistent:Boolean,noEscDismiss:Boolean,noRouteDismiss:Boolean,autoClose:Boolean,noRefocus:Boolean,noFocus:Boolean,menuAnchor:{type:String,default:"bottom end"},menuSelf:{type:String,default:"top end"},menuOffset:Array,disableMainBtn:Boolean,disableDropdown:Boolean,noIconAnimation:Boolean,toggleAriaLabel:String},emits:["update:modelValue","click","beforeShow","show","beforeHide","hide"],setup(e,{slots:n,emit:i}){const{proxy:o}=be(),t=W(e.modelValue),a=W(null),s=hn(),l=u(()=>{const C={"aria-expanded":t.value===!0?"true":"false","aria-haspopup":"true","aria-controls":s.value,"aria-label":e.toggleAriaLabel||o.$q.lang.label[t.value===!0?"collapse":"expand"](e.label)};return(e.disable===!0||e.split===!1&&e.disableMainBtn===!0||e.disableDropdown===!0)&&(C["aria-disabled"]="true"),C}),v=u(()=>"q-btn-dropdown__arrow"+(t.value===!0&&e.noIconAnimation===!1?" rotate-180":"")+(e.split===!1?" q-btn-dropdown__arrow-container":"")),r=u(()=>bn(e)),c=u(()=>ea(e));oe(()=>e.modelValue,C=>{var M;(M=a.value)==null||M[C?"show":"hide"]()}),oe(()=>e.split,B);function d(C){t.value=!0,i("beforeShow",C)}function m(C){i("show",C),i("update:modelValue",!0)}function b(C){t.value=!1,i("beforeHide",C)}function p(C){i("hide",C),i("update:modelValue",!1)}function x(C){i("click",C)}function N(C){Ne(C),B(),i("click",C)}function L(C){var M;(M=a.value)==null||M.toggle(C)}function V(C){var M;(M=a.value)==null||M.show(C)}function B(C){var M;(M=a.value)==null||M.hide(C)}return Object.assign(o,{show:V,hide:B,toggle:L}),De(()=>{e.modelValue===!0&&V()}),()=>{const C=[q(It,{class:v.value,name:e.dropdownIcon||o.$q.iconSet.arrow.dropdown})];return e.disableDropdown!==!0&&C.push(q(pn,{ref:a,id:s.value,class:e.contentClass,style:e.contentStyle,cover:e.cover,fit:!0,persistent:e.persistent,noEscDismiss:e.noEscDismiss,noRouteDismiss:e.noRouteDismiss,autoClose:e.autoClose,noFocus:e.noFocus,noRefocus:e.noRefocus,anchor:e.menuAnchor,self:e.menuSelf,offset:e.menuOffset,separateClosePopup:!0,transitionShow:e.transitionShow,transitionHide:e.transitionHide,transitionDuration:e.transitionDuration,onBeforeShow:d,onShow:m,onBeforeHide:b,onHide:p},n.default)),e.split===!1?q(me,{class:"q-btn-dropdown q-btn-dropdown--simple",...c.value,...l.value,disable:e.disable===!0||e.disableMainBtn===!0,noWrap:!0,round:!1,onClick:x},{default:()=>pe(n.label,[]).concat(C),loading:n.loading}):q(Gn,{class:"q-btn-dropdown q-btn-dropdown--split no-wrap q-btn-item",rounded:e.rounded,square:e.square,...r.value,glossy:e.glossy,stretch:e.stretch},()=>[q(me,{class:"q-btn-dropdown--current",...c.value,disable:e.disable===!0||e.disableMainBtn===!0,noWrap:!0,round:!1,onClick:N},{default:n.label,loading:n.loading}),q(me,{class:"q-btn-dropdown__arrow-container q-anchor--skip",...l.value,...r.value,disable:e.disable===!0||e.disableDropdown===!0,rounded:e.rounded,color:e.color,textColor:e.textColor,dense:e.dense,size:e.size,padding:e.padding,ripple:e.ripple},()=>C)])}}}),at=de({name:"QCard",props:{...tt,tag:{type:String,default:"div"},square:Boolean,flat:Boolean,bordered:Boolean},setup(e,{slots:n}){const{proxy:{$q:i}}=be(),o=nt(e,i),t=u(()=>"q-card"+(o.value===!0?" q-card--dark q-dark":"")+(e.bordered===!0?" q-card--bordered":"")+(e.square===!0?" q-card--square no-border-radius":"")+(e.flat===!0?" q-card--flat no-shadow":""));return()=>q(e.tag,{class:t.value},pe(n.default))}}),na=de({name:"QCardActions",props:{...yn,vertical:Boolean},setup(e,{slots:n}){const i=kn(e),o=u(()=>`q-card__actions ${i.value} q-card__actions--${e.vertical===!0?"vert column":"horiz row"}`);return()=>q("div",{class:o.value},pe(n.default))}}),it=de({name:"QCardSection",props:{tag:{type:String,default:"div"},horizontal:Boolean},setup(e,{slots:n}){const i=u(()=>`q-card__section q-card__section--${e.horizontal===!0?"horiz row no-wrap":"vert"}`);return()=>q(e.tag,{class:i.value},pe(n.default))}}),ot={left:!0,right:!0,up:!0,down:!0,horizontal:!0,vertical:!0},aa=Object.keys(ot);ot.all=!0;function Te(e){const n={};for(const i of aa)e[i]===!0&&(n[i]=!0);return Object.keys(n).length===0?ot:(n.horizontal===!0?n.left=n.right=!0:n.left===!0&&n.right===!0&&(n.horizontal=!0),n.vertical===!0?n.up=n.down=!0:n.up===!0&&n.down===!0&&(n.vertical=!0),n.horizontal===!0&&n.vertical===!0&&(n.all=!0),n)}const ia=["INPUT","TEXTAREA"];function Le(e,n){return n.event===void 0&&e.target!==void 0&&e.target.draggable!==!0&&typeof n.handler=="function"&&ia.includes(e.target.nodeName.toUpperCase())===!1&&(e.qClonedBy===void 0||e.qClonedBy.indexOf(n.uid)===-1)}function oa(e){const n=[.06,6,50];return typeof e=="string"&&e.length&&e.split(":").forEach((i,o)=>{const t=parseFloat(i);t&&(n[o]=t)}),n}const la=Je({name:"touch-swipe",beforeMount(e,{value:n,arg:i,modifiers:o}){if(o.mouse!==!0&&ge.has.touch!==!0)return;const t=o.mouseCapture===!0?"Capture":"",a={handler:n,sensitivity:oa(i),direction:Te(o),noop:Bt,mouseStart(s){Le(s,a)&&Nt(s)&&(we(a,"temp",[[document,"mousemove","move",`notPassive${t}`],[document,"mouseup","end","notPassiveCapture"]]),a.start(s,!0))},touchStart(s){if(Le(s,a)){const l=s.target;we(a,"temp",[[l,"touchmove","move","notPassiveCapture"],[l,"touchcancel","end","notPassiveCapture"],[l,"touchend","end","notPassiveCapture"]]),a.start(s)}},start(s,l){ge.is.firefox===!0&&Re(e,!0);const v=Ae(s);a.event={x:v.left,y:v.top,time:Date.now(),mouse:l===!0,dir:!1}},move(s){if(a.event===void 0)return;if(a.event.dir!==!1){Pe(s);return}const l=Date.now()-a.event.time;if(l===0)return;const v=Ae(s),r=v.left-a.event.x,c=Math.abs(r),d=v.top-a.event.y,m=Math.abs(d);if(a.event.mouse!==!0){if(c<a.sensitivity[1]&&m<a.sensitivity[1]){a.end(s);return}}else if(window.getSelection().toString()!==""){a.end(s);return}else if(c<a.sensitivity[2]&&m<a.sensitivity[2])return;const b=c/l,p=m/l;a.direction.vertical===!0&&c<m&&c<100&&p>a.sensitivity[0]&&(a.event.dir=d<0?"up":"down"),a.direction.horizontal===!0&&c>m&&m<100&&b>a.sensitivity[0]&&(a.event.dir=r<0?"left":"right"),a.direction.up===!0&&c<m&&d<0&&c<100&&p>a.sensitivity[0]&&(a.event.dir="up"),a.direction.down===!0&&c<m&&d>0&&c<100&&p>a.sensitivity[0]&&(a.event.dir="down"),a.direction.left===!0&&c>m&&r<0&&m<100&&b>a.sensitivity[0]&&(a.event.dir="left"),a.direction.right===!0&&c>m&&r>0&&m<100&&b>a.sensitivity[0]&&(a.event.dir="right"),a.event.dir!==!1?(Pe(s),a.event.mouse===!0&&(document.body.classList.add("no-pointer-events--children"),document.body.classList.add("non-selectable"),Dt(),a.styleCleanup=x=>{a.styleCleanup=void 0,document.body.classList.remove("non-selectable");const N=()=>{document.body.classList.remove("no-pointer-events--children")};x===!0?setTimeout(N,50):N()}),a.handler({evt:s,touch:a.event.mouse!==!0,mouse:a.event.mouse,direction:a.event.dir,duration:l,distance:{x:c,y:m}})):a.end(s)},end(s){var l;a.event!==void 0&&(Ve(a,"temp"),ge.is.firefox===!0&&Re(e,!1),(l=a.styleCleanup)==null||l.call(a,!0),s!==void 0&&a.event.dir!==!1&&Pe(s),a.event=void 0)}};if(e.__qtouchswipe=a,o.mouse===!0){const s=o.mouseCapture===!0||o.mousecapture===!0?"Capture":"";we(a,"main",[[e,"mousedown","mouseStart",`passive${s}`]])}ge.has.touch===!0&&we(a,"main",[[e,"touchstart","touchStart",`passive${o.capture===!0?"Capture":""}`],[e,"touchmove","noop","notPassiveCapture"]])},updated(e,n){const i=e.__qtouchswipe;i!==void 0&&(n.oldValue!==n.value&&(typeof n.value!="function"&&i.end(),i.handler=n.value),i.direction=Te(n.modifiers))},beforeUnmount(e){var i;const n=e.__qtouchswipe;n!==void 0&&(Ve(n,"main"),Ve(n,"temp"),ge.is.firefox===!0&&Re(e,!1),(i=n.styleCleanup)==null||i.call(n),delete e.__qtouchswipe)}});function ra(){let e=Object.create(null);return{getCache:(n,i)=>e[n]===void 0?e[n]=typeof i=="function"?i():i:e[n],setCache(n,i){e[n]=i},hasCache(n){return Object.hasOwnProperty.call(e,n)},clearCache(n){n!==void 0?delete e[n]:e=Object.create(null)}}}const sa={name:{required:!0},disable:Boolean},gt={setup(e,{slots:n}){return()=>q("div",{class:"q-panel scroll",role:"tabpanel"},pe(n.default))}},ua={modelValue:{required:!0},animated:Boolean,infinite:Boolean,swipeable:Boolean,vertical:Boolean,transitionPrev:String,transitionNext:String,transitionDuration:{type:[String,Number],default:300},keepAlive:Boolean,keepAliveInclude:[String,Array,RegExp],keepAliveExclude:[String,Array,RegExp],keepAliveMax:Number},ca=["update:modelValue","beforeTransition","transition"];function da(){const{props:e,emit:n,proxy:i}=be(),{getCache:o}=ra(),{registerTimeout:t}=Xe();let a,s;const l=W(null),v={value:null};function r(h){const $=e.vertical===!0?"up":"left";Z((i.$q.lang.rtl===!0?-1:1)*(h.direction===$?1:-1))}const c=u(()=>[[la,r,void 0,{horizontal:e.vertical!==!0,vertical:e.vertical,mouse:!0}]]),d=u(()=>e.transitionPrev||`slide-${e.vertical===!0?"down":"right"}`),m=u(()=>e.transitionNext||`slide-${e.vertical===!0?"up":"left"}`),b=u(()=>`--q-transition-duration: ${e.transitionDuration}ms`),p=u(()=>typeof e.modelValue=="string"||typeof e.modelValue=="number"?e.modelValue:String(e.modelValue)),x=u(()=>({include:e.keepAliveInclude,exclude:e.keepAliveExclude,max:e.keepAliveMax})),N=u(()=>e.keepAliveInclude!==void 0||e.keepAliveExclude!==void 0);oe(()=>e.modelValue,(h,$)=>{const U=C(h)===!0?M(h):-1;s!==!0&&F(U===-1?0:U<M($)?-1:1),v.value!==U&&(v.value=U,n("beforeTransition",h,$),t(()=>{n("transition",h,$)},e.transitionDuration))});function L(){Z(1)}function V(){Z(-1)}function B(h){n("update:modelValue",h)}function C(h){return h!=null&&h!==""}function M(h){return a.findIndex($=>$.props.name===h&&$.props.disable!==""&&$.props.disable!==!0)}function D(){return a.filter(h=>h.props.disable!==""&&h.props.disable!==!0)}function F(h){const $=h!==0&&e.animated===!0&&v.value!==-1?"q-transition--"+(h===-1?d.value:m.value):null;l.value!==$&&(l.value=$)}function Z(h,$=v.value){let U=$+h;for(;U!==-1&&U<a.length;){const P=a[U];if(P!==void 0&&P.props.disable!==""&&P.props.disable!==!0){F(h),s=!0,n("update:modelValue",P.props.name),setTimeout(()=>{s=!1});return}U+=h}e.infinite===!0&&a.length!==0&&$!==-1&&$!==a.length&&Z(h,h===-1?a.length:-1)}function k(){const h=M(e.modelValue);return v.value!==h&&(v.value=h),!0}function f(){const h=C(e.modelValue)===!0&&k()&&a[v.value];return e.keepAlive===!0?[q(sn,x.value,[q(N.value===!0?o(p.value,()=>({...gt,name:p.value})):gt,{key:p.value,style:b.value},()=>h)])]:[q("div",{class:"q-panel scroll",style:b.value,key:p.value,role:"tabpanel"},[h])]}function S(){if(a.length!==0)return e.animated===!0?[q(Vt,{name:l.value},f)]:f()}function g(h){return a=wn(pe(h.default,[])).filter($=>$.props!==null&&$.props.slot===void 0&&C($.props.name)===!0),a.length}function _(){return a}return Object.assign(i,{next:L,previous:V,goTo:B}),{panelIndex:v,panelDirectives:c,updatePanelsList:g,updatePanelIndex:k,getPanelContent:S,getEnabledPanels:D,getPanels:_,isValidPanelName:C,keepAliveProps:x,needsUniqueKeepAliveWrapper:N,goToPanelByOffset:Z,goToPanel:B,nextPanel:L,previousPanel:V}}const va=["top","right","bottom","left"],ma=["regular","flat","outline","push","unelevated"],fa=de({name:"QCarousel",props:{...tt,...ua,...Sn,transitionPrev:{type:String,default:"fade"},transitionNext:{type:String,default:"fade"},height:String,padding:Boolean,controlColor:String,controlTextColor:String,controlType:{type:String,validator:e=>ma.includes(e),default:"flat"},autoplay:[Number,Boolean],arrows:Boolean,prevIcon:String,nextIcon:String,navigation:Boolean,navigationPosition:{type:String,validator:e=>va.includes(e)},navigationIcon:String,navigationActiveIcon:String,thumbnails:Boolean},emits:[...Cn,...ca],setup(e,{slots:n}){const{proxy:{$q:i}}=be(),o=nt(e,i);let t=null,a;const{updatePanelsList:s,getPanelContent:l,panelDirectives:v,goToPanel:r,previousPanel:c,nextPanel:d,getEnabledPanels:m,panelIndex:b}=da(),{inFullscreen:p}=xn(),x=u(()=>p.value!==!0&&e.height!==void 0?{height:e.height}:{}),N=u(()=>e.vertical===!0?"vertical":"horizontal"),L=u(()=>e.navigationPosition||(e.vertical===!0?"right":"bottom")),V=u(()=>`q-carousel q-panel-parent q-carousel--with${e.padding===!0?"":"out"}-padding`+(p.value===!0?" fullscreen":"")+(o.value===!0?" q-carousel--dark q-dark":"")+(e.arrows===!0?` q-carousel--arrows-${N.value}`:"")+(e.navigation===!0?` q-carousel--navigation-${L.value}`:"")),B=u(()=>{const f=[e.prevIcon||i.iconSet.carousel[e.vertical===!0?"up":"left"],e.nextIcon||i.iconSet.carousel[e.vertical===!0?"down":"right"]];return e.vertical===!1&&i.lang.rtl===!0?f.reverse():f}),C=u(()=>e.navigationIcon||i.iconSet.carousel.navigationIcon),M=u(()=>e.navigationActiveIcon||C.value),D=u(()=>({color:e.controlColor,textColor:e.controlTextColor,round:!0,[e.controlType]:!0,dense:!0}));oe(()=>e.modelValue,()=>{e.autoplay&&F()}),oe(()=>e.autoplay,f=>{f?F():t!==null&&(clearTimeout(t),t=null)});function F(){const f=Rt(e.autoplay)===!0?Math.abs(e.autoplay):5e3;t!==null&&clearTimeout(t),t=setTimeout(()=>{t=null,f>=0?d():c()},f)}De(()=>{e.autoplay&&F()}),et(()=>{t!==null&&clearTimeout(t)});function Z(f,S){return q("div",{class:`q-carousel__control q-carousel__navigation no-wrap absolute flex q-carousel__navigation--${f} q-carousel__navigation--${L.value}`+(e.controlColor!==void 0?` text-${e.controlColor}`:"")},[q("div",{class:"q-carousel__navigation-inner flex flex-center no-wrap"},m().map(S))])}function k(){const f=[];if(e.navigation===!0){const S=n["navigation-icon"]!==void 0?n["navigation-icon"]:_=>q(me,{key:"nav"+_.name,class:`q-carousel__navigation-icon q-carousel__navigation-icon--${_.active===!0?"":"in"}active`,..._.btnProps,onClick:_.onClick}),g=a-1;f.push(Z("buttons",(_,h)=>{const $=_.props.name,U=b.value===h;return S({index:h,maxIndex:g,name:$,active:U,btnProps:{icon:U===!0?M.value:C.value,size:"sm",...D.value},onClick:()=>{r($)}})}))}else if(e.thumbnails===!0){const S=e.controlColor!==void 0?` text-${e.controlColor}`:"";f.push(Z("thumbnails",g=>{const _=g.props;return q("img",{key:"tmb#"+_.name,class:`q-carousel__thumbnail q-carousel__thumbnail--${_.name===e.modelValue?"":"in"}active`+S,src:_.imgSrc||_["img-src"],onClick:()=>{r(_.name)}})}))}return e.arrows===!0&&b.value>=0&&((e.infinite===!0||b.value>0)&&f.push(q("div",{key:"prev",class:`q-carousel__control q-carousel__arrow q-carousel__prev-arrow q-carousel__prev-arrow--${N.value} absolute flex flex-center`},[q(me,{icon:B.value[0],...D.value,onClick:c})])),(e.infinite===!0||b.value<a-1)&&f.push(q("div",{key:"next",class:`q-carousel__control q-carousel__arrow q-carousel__next-arrow q-carousel__next-arrow--${N.value} absolute flex flex-center`},[q(me,{icon:B.value[1],...D.value,onClick:d})]))),Lt(n.control,f)}return()=>(a=s(n),q("div",{class:V.value,style:x.value},[zt("div",{class:"q-carousel__slides-container"},l(),"sl-cont",e.swipeable,()=>v.value)].concat(k())))}}),ga=de({name:"QCarouselSlide",props:{...sa,imgSrc:String},setup(e,{slots:n}){const i=u(()=>e.imgSrc?{backgroundImage:`url("${e.imgSrc}")`}:{});return()=>q("div",{class:"q-carousel__slide",style:i.value},pe(n.default))}}),_a={...Pt,min:{type:Number,default:0},max:{type:Number,default:100},color:String,centerColor:String,trackColor:String,fontSize:String,rounded:Boolean,thickness:{type:Number,default:.2,validator:e=>e>=0&&e<=1},angle:{type:Number,default:0},showValue:Boolean,reverse:Boolean,instantFeedback:Boolean},Ye=50,Ht=2*Ye,Kt=Ht*Math.PI,ha=Math.round(Kt*1e3)/1e3,ba=de({name:"QCircularProgress",props:{..._a,value:{type:Number,default:0},animationSpeed:{type:[String,Number],default:600},indeterminate:Boolean},setup(e,{slots:n}){const{proxy:{$q:i}}=be(),o=Et(e),t=u(()=>{const b=(i.lang.rtl===!0?-1:1)*e.angle;return{transform:e.reverse!==(i.lang.rtl===!0)?`scale3d(-1, 1, 1) rotate3d(0, 0, 1, ${-90-b}deg)`:`rotate3d(0, 0, 1, ${b-90}deg)`}}),a=u(()=>e.instantFeedback!==!0&&e.indeterminate!==!0?{transition:`stroke-dashoffset ${e.animationSpeed}ms ease 0s, stroke ${e.animationSpeed}ms ease`}:""),s=u(()=>Ht/(1-e.thickness/2)),l=u(()=>`${s.value/2} ${s.value/2} ${s.value} ${s.value}`),v=u(()=>qe(e.value,e.min,e.max)),r=u(()=>e.max-e.min),c=u(()=>e.thickness/2*s.value),d=u(()=>{const b=(e.max-v.value)/r.value,p=e.rounded===!0&&v.value<e.max&&b<.25?c.value/2*(1-b/.25):0;return Kt*b+p});function m({thickness:b,offset:p,color:x,cls:N,rounded:L}){return q("circle",{class:"q-circular-progress__"+N+(x!==void 0?` text-${x}`:""),style:a.value,fill:"transparent",stroke:"currentColor","stroke-width":b,"stroke-dasharray":ha,"stroke-dashoffset":p,"stroke-linecap":L,cx:s.value,cy:s.value,r:Ye})}return()=>{const b=[];e.centerColor!==void 0&&e.centerColor!=="transparent"&&b.push(q("circle",{class:`q-circular-progress__center text-${e.centerColor}`,fill:"currentColor",r:Ye-c.value/2,cx:s.value,cy:s.value})),e.trackColor!==void 0&&e.trackColor!=="transparent"&&b.push(m({cls:"track",thickness:c.value,offset:0,color:e.trackColor})),b.push(m({cls:"circle",thickness:c.value,offset:d.value,color:e.color,rounded:e.rounded===!0?"round":void 0}));const p=[q("svg",{class:"q-circular-progress__svg",style:t.value,viewBox:l.value,"aria-hidden":"true"},b)];return e.showValue===!0&&p.push(q("div",{class:"q-circular-progress__text absolute-full row flex-center content-center",style:{fontSize:e.fontSize}},n.default!==void 0?n.default():[q("div",v.value)])),q("div",{class:`q-circular-progress q-circular-progress--${e.indeterminate===!0?"in":""}determinate`,style:o.value,role:"progressbar","aria-valuemin":e.min,"aria-valuemax":e.max,"aria-valuenow":e.indeterminate===!0?void 0:v.value},Tt(n.internal,p))}}});function We(e,n,i){const o=Ae(e);let t,a=o.left-n.event.x,s=o.top-n.event.y,l=Math.abs(a),v=Math.abs(s);const r=n.direction;r.horizontal===!0&&r.vertical!==!0?t=a<0?"left":"right":r.horizontal!==!0&&r.vertical===!0?t=s<0?"up":"down":r.up===!0&&s<0?(t="up",l>v&&(r.left===!0&&a<0?t="left":r.right===!0&&a>0&&(t="right"))):r.down===!0&&s>0?(t="down",l>v&&(r.left===!0&&a<0?t="left":r.right===!0&&a>0&&(t="right"))):r.left===!0&&a<0?(t="left",l<v&&(r.up===!0&&s<0?t="up":r.down===!0&&s>0&&(t="down"))):r.right===!0&&a>0&&(t="right",l<v&&(r.up===!0&&s<0?t="up":r.down===!0&&s>0&&(t="down")));let c=!1;if(t===void 0&&i===!1){if(n.event.isFirst===!0||n.event.lastDir===void 0)return{};t=n.event.lastDir,c=!0,t==="left"||t==="right"?(o.left-=a,l=0,a=0):(o.top-=s,v=0,s=0)}return{synthetic:c,payload:{evt:e,touch:n.event.mouse!==!0,mouse:n.event.mouse===!0,position:o,direction:t,isFirst:n.event.isFirst,isFinal:i===!0,duration:Date.now()-n.event.time,distance:{x:l,y:v},offset:{x:a,y:s},delta:{x:o.left-n.event.lastX,y:o.top-n.event.lastY}}}}let pa=0;const ya=Je({name:"touch-pan",beforeMount(e,{value:n,modifiers:i}){if(i.mouse!==!0&&ge.has.touch!==!0)return;function o(a,s){i.mouse===!0&&s===!0?Pe(a):(i.stop===!0&&Ne(a),i.prevent===!0&&mt(a))}const t={uid:"qvtp_"+pa++,handler:n,modifiers:i,direction:Te(i),noop:Bt,mouseStart(a){Le(a,t)&&Nt(a)&&(we(t,"temp",[[document,"mousemove","move","notPassiveCapture"],[document,"mouseup","end","passiveCapture"]]),t.start(a,!0))},touchStart(a){if(Le(a,t)){const s=a.target;we(t,"temp",[[s,"touchmove","move","notPassiveCapture"],[s,"touchcancel","end","passiveCapture"],[s,"touchend","end","passiveCapture"]]),t.start(a)}},start(a,s){if(ge.is.firefox===!0&&Re(e,!0),t.lastEvt=a,s===!0||i.stop===!0){if(t.direction.all!==!0&&(s!==!0||t.modifiers.mouseAllDir!==!0&&t.modifiers.mousealldir!==!0)){const r=a.type.indexOf("mouse")!==-1?new MouseEvent(a.type,a):new TouchEvent(a.type,a);a.defaultPrevented===!0&&mt(r),a.cancelBubble===!0&&Ne(r),Object.assign(r,{qKeyEvent:a.qKeyEvent,qClickOutside:a.qClickOutside,qAnchorHandled:a.qAnchorHandled,qClonedBy:a.qClonedBy===void 0?[t.uid]:a.qClonedBy.concat(t.uid)}),t.initialEvent={target:a.target,event:r}}Ne(a)}const{left:l,top:v}=Ae(a);t.event={x:l,y:v,time:Date.now(),mouse:s===!0,detected:!1,isFirst:!0,isFinal:!1,lastX:l,lastY:v}},move(a){if(t.event===void 0)return;const s=Ae(a),l=s.left-t.event.x,v=s.top-t.event.y;if(l===0&&v===0)return;t.lastEvt=a;const r=t.event.mouse===!0,c=()=>{o(a,r);let b;i.preserveCursor!==!0&&i.preservecursor!==!0&&(b=document.documentElement.style.cursor||"",document.documentElement.style.cursor="grabbing"),r===!0&&document.body.classList.add("no-pointer-events--children"),document.body.classList.add("non-selectable"),Dt(),t.styleCleanup=p=>{if(t.styleCleanup=void 0,b!==void 0&&(document.documentElement.style.cursor=b),document.body.classList.remove("non-selectable"),r===!0){const x=()=>{document.body.classList.remove("no-pointer-events--children")};p!==void 0?setTimeout(()=>{x(),p()},50):x()}else p!==void 0&&p()}};if(t.event.detected===!0){t.event.isFirst!==!0&&o(a,t.event.mouse);const{payload:b,synthetic:p}=We(a,t,!1);b!==void 0&&(t.handler(b)===!1?t.end(a):(t.styleCleanup===void 0&&t.event.isFirst===!0&&c(),t.event.lastX=b.position.left,t.event.lastY=b.position.top,t.event.lastDir=p===!0?void 0:b.direction,t.event.isFirst=!1));return}if(t.direction.all===!0||r===!0&&(t.modifiers.mouseAllDir===!0||t.modifiers.mousealldir===!0)){c(),t.event.detected=!0,t.move(a);return}const d=Math.abs(l),m=Math.abs(v);d!==m&&(t.direction.horizontal===!0&&d>m||t.direction.vertical===!0&&d<m||t.direction.up===!0&&d<m&&v<0||t.direction.down===!0&&d<m&&v>0||t.direction.left===!0&&d>m&&l<0||t.direction.right===!0&&d>m&&l>0?(t.event.detected=!0,t.move(a)):t.end(a,!0))},end(a,s){var l;if(t.event!==void 0){if(Ve(t,"temp"),ge.is.firefox===!0&&Re(e,!1),s===!0)(l=t.styleCleanup)==null||l.call(t),t.event.detected!==!0&&t.initialEvent!==void 0&&t.initialEvent.target.dispatchEvent(t.initialEvent.event);else if(t.event.detected===!0){t.event.isFirst===!0&&t.handler(We(a===void 0?t.lastEvt:a,t).payload);const{payload:v}=We(a===void 0?t.lastEvt:a,t,!0),r=()=>{t.handler(v)};t.styleCleanup!==void 0?t.styleCleanup(r):r()}t.event=void 0,t.initialEvent=void 0,t.lastEvt=void 0}}};if(e.__qtouchpan=t,i.mouse===!0){const a=i.mouseCapture===!0||i.mousecapture===!0?"Capture":"";we(t,"main",[[e,"mousedown","mouseStart",`passive${a}`]])}ge.has.touch===!0&&we(t,"main",[[e,"touchstart","touchStart",`passive${i.capture===!0?"Capture":""}`],[e,"touchmove","noop","notPassiveCapture"]])},updated(e,n){const i=e.__qtouchpan;i!==void 0&&(n.oldValue!==n.value&&(typeof value!="function"&&i.end(),i.handler=n.value),i.direction=Te(n.modifiers))},beforeUnmount(e){var i;const n=e.__qtouchpan;n!==void 0&&(n.event!==void 0&&n.end(),Ve(n,"main"),Ve(n,"temp"),ge.is.firefox===!0&&Re(e,!1),(i=n.styleCleanup)==null||i.call(n),delete e.__qtouchpan)}}),_t="q-slider__marker-labels",ka=e=>({value:e}),wa=({marker:e})=>q("div",{key:e.value,style:e.style,class:e.classes},e.label),Qt=[34,37,40,33,39,38],Ca={...tt,...Ot,min:{type:Number,default:0},max:{type:Number,default:100},innerMin:Number,innerMax:Number,step:{type:Number,default:1,validator:e=>e>=0},snap:Boolean,vertical:Boolean,reverse:Boolean,color:String,markerLabelsClass:String,label:Boolean,labelColor:String,labelTextColor:String,labelAlways:Boolean,switchLabelSide:Boolean,markers:[Boolean,Number],markerLabels:[Boolean,Array,Object,Function],switchMarkerLabelsSide:Boolean,trackImg:String,trackColor:String,innerTrackImg:String,innerTrackColor:String,selectionColor:String,selectionImg:String,thumbSize:{type:String,default:"20px"},trackSize:{type:String,default:"4px"},disable:Boolean,readonly:Boolean,dense:Boolean,tabindex:[String,Number],thumbColor:String,thumbPath:{type:String,default:"M 4, 10 a 6,6 0 1,0 12,0 a 6,6 0 1,0 -12,0"}},Sa=["pan","update:modelValue","change"];function xa({updateValue:e,updatePosition:n,getDragging:i,formAttrs:o}){const{props:t,emit:a,slots:s,proxy:{$q:l}}=be(),v=nt(t,l),r=qn(o),c=W(!1),d=W(!1),m=W(!1),b=W(!1),p=u(()=>t.vertical===!0?"--v":"--h"),x=u(()=>"-"+(t.switchLabelSide===!0?"switched":"standard")),N=u(()=>t.vertical===!0?t.reverse===!0:t.reverse!==(l.lang.rtl===!0)),L=u(()=>isNaN(t.innerMin)===!0||t.innerMin<t.min?t.min:t.innerMin),V=u(()=>isNaN(t.innerMax)===!0||t.innerMax>t.max?t.max:t.innerMax),B=u(()=>t.disable!==!0&&t.readonly!==!0&&L.value<V.value),C=u(()=>{if(t.step===0)return O=>O;const w=(String(t.step).trim().split(".")[1]||"").length;return O=>parseFloat(O.toFixed(w))}),M=u(()=>t.step===0?1:t.step),D=u(()=>B.value===!0?t.tabindex||0:-1),F=u(()=>t.max-t.min),Z=u(()=>V.value-L.value),k=u(()=>Ee(L.value)),f=u(()=>Ee(V.value)),S=u(()=>t.vertical===!0?N.value===!0?"bottom":"top":N.value===!0?"right":"left"),g=u(()=>t.vertical===!0?"height":"width"),_=u(()=>t.vertical===!0?"width":"height"),h=u(()=>t.vertical===!0?"vertical":"horizontal"),$=u(()=>{const w={role:"slider","aria-valuemin":L.value,"aria-valuemax":V.value,"aria-orientation":h.value,"data-step":t.step};return t.disable===!0?w["aria-disabled"]="true":t.readonly===!0&&(w["aria-readonly"]="true"),w}),U=u(()=>`q-slider q-slider${p.value} q-slider--${c.value===!0?"":"in"}active inline no-wrap `+(t.vertical===!0?"row":"column")+(t.disable===!0?" disabled":" q-slider--enabled"+(B.value===!0?" q-slider--editable":""))+(m.value==="both"?" q-slider--focus":"")+(t.label||t.labelAlways===!0?" q-slider--label":"")+(t.labelAlways===!0?" q-slider--label-always":"")+(v.value===!0?" q-slider--dark":"")+(t.dense===!0?" q-slider--dense q-slider--dense"+p.value:""));function P(w){const O="q-slider__"+w;return`${O} ${O}${p.value} ${O}${p.value}${x.value}`}function J(w){const O="q-slider__"+w;return`${O} ${O}${p.value}`}const te=u(()=>{const w=t.selectionColor||t.color;return"q-slider__selection absolute"+(w!==void 0?` text-${w}`:"")}),H=u(()=>J("markers")+" absolute overflow-hidden"),X=u(()=>J("track-container")),y=u(()=>P("pin")),j=u(()=>P("label")),E=u(()=>P("text-container")),Y=u(()=>P("marker-labels-container")+(t.markerLabelsClass!==void 0?` ${t.markerLabelsClass}`:"")),Q=u(()=>"q-slider__track relative-position no-outline"+(t.trackColor!==void 0?` bg-${t.trackColor}`:"")),ie=u(()=>{const w={[_.value]:t.trackSize};return t.trackImg!==void 0&&(w.backgroundImage=`url(${t.trackImg}) !important`),w}),ye=u(()=>"q-slider__inner absolute"+(t.innerTrackColor!==void 0?` bg-${t.innerTrackColor}`:"")),ue=u(()=>{const w=f.value-k.value,O={[S.value]:`${100*k.value}%`,[g.value]:w===0?"2px":`${100*w}%`};return t.innerTrackImg!==void 0&&(O.backgroundImage=`url(${t.innerTrackImg}) !important`),O});function z(w){const{min:O,max:ee,step:ne}=t;let re=O+w*(ee-O);if(ne>0){const ke=(re-L.value)%ne;re+=(Math.abs(ke)>=ne/2?(ke<0?-1:1)*ne:0)-ke}return re=C.value(re),qe(re,L.value,V.value)}function Ee(w){return F.value===0?0:(w-t.min)/F.value}function ve(w,O){const ee=Ae(w),ne=t.vertical===!0?qe((ee.top-O.top)/O.height,0,1):qe((ee.left-O.left)/O.width,0,1);return qe(N.value===!0?1-ne:ne,k.value,f.value)}const rt=u(()=>Rt(t.markers)===!0?t.markers:M.value),st=u(()=>{const w=[],O=rt.value,ee=t.max;let ne=t.min;do w.push(ne),ne+=O;while(ne<ee);return w.push(ee),w}),ut=u(()=>{const w=` ${_t}${p.value}-`;return _t+`${w}${t.switchMarkerLabelsSide===!0?"switched":"standard"}${w}${N.value===!0?"rtl":"ltr"}`}),ze=u(()=>t.markerLabels===!1?null:Yt(t.markerLabels).map((w,O)=>({index:O,value:w.value,label:w.label||w.value,classes:ut.value+(w.classes!==void 0?" "+w.classes:""),style:{...dt(w.value),...w.style||{}}}))),ct=u(()=>({markerList:ze.value,markerMap:Zt.value,classes:ut.value,getStyle:dt})),Xt=u(()=>{const w=Z.value===0?"2px":100*rt.value/Z.value;return{...ue.value,backgroundSize:t.vertical===!0?`2px ${w}%`:`${w}% 2px`}});function Yt(w){if(w===!1)return null;if(w===!0)return st.value.map(ka);if(typeof w=="function")return st.value.map(ee=>{const ne=w(ee);return Ke(ne)===!0?{...ne,value:ee}:{value:ee,label:ne}});const O=({value:ee})=>ee>=t.min&&ee<=t.max;return Array.isArray(w)===!0?w.map(ee=>Ke(ee)===!0?ee:{value:ee}).filter(O):Object.keys(w).map(ee=>{const ne=w[ee],re=Number(ee);return Ke(ne)===!0?{...ne,value:re}:{value:re,label:ne}}).filter(O)}function dt(w){return{[S.value]:`${100*(w-t.min)/F.value}%`}}const Zt=u(()=>{if(t.markerLabels===!1)return null;const w={};return ze.value.forEach(O=>{w[O.value]=O}),w});function Gt(){if(s["marker-label-group"]!==void 0)return s["marker-label-group"](ct.value);const w=s["marker-label"]||wa;return ze.value.map(O=>w({marker:O,...ct.value}))}const Jt=u(()=>[[ya,en,void 0,{[h.value]:!0,prevent:!0,stop:!0,mouse:!0,mouseAllDir:!0}]]);function en(w){w.isFinal===!0?(b.value!==void 0&&(n(w.evt),w.touch===!0&&e(!0),b.value=void 0,a("pan","end")),c.value=!1,m.value=!1):w.isFirst===!0?(b.value=i(w.evt),n(w.evt),e(),c.value=!0,a("pan","start")):(n(w.evt),e())}function vt(){m.value=!1}function tn(w){n(w,i(w)),e(),d.value=!0,c.value=!0,document.addEventListener("mouseup",Oe,!0)}function Oe(){d.value=!1,c.value=!1,e(!0),vt(),document.removeEventListener("mouseup",Oe,!0)}function nn(w){n(w,i(w)),e(!0)}function an(w){Qt.includes(w.keyCode)&&e(!0)}function on(w){if(t.vertical===!0)return null;const O=l.lang.rtl!==t.reverse?1-w:w;return{transform:`translateX(calc(${2*O-1} * ${t.thumbSize} / 2 + ${50-100*O}%))`}}function ln(w){const O=u(()=>d.value===!1&&(m.value===w.focusValue||m.value==="both")?" q-slider--focus":""),ee=u(()=>`q-slider__thumb q-slider__thumb${p.value} q-slider__thumb${p.value}-${N.value===!0?"rtl":"ltr"} absolute non-selectable`+O.value+(w.thumbColor.value!==void 0?` text-${w.thumbColor.value}`:"")),ne=u(()=>({width:t.thumbSize,height:t.thumbSize,[S.value]:`${100*w.ratio.value}%`,zIndex:m.value===w.focusValue?2:void 0})),re=u(()=>w.labelColor.value!==void 0?` text-${w.labelColor.value}`:""),ke=u(()=>on(w.ratio.value)),je=u(()=>"q-slider__text"+(w.labelTextColor.value!==void 0?` text-${w.labelTextColor.value}`:""));return()=>{const He=[q("svg",{class:"q-slider__thumb-shape absolute-full",viewBox:"0 0 20 20","aria-hidden":"true"},[q("path",{d:t.thumbPath})]),q("div",{class:"q-slider__focus-ring fit"})];return(t.label===!0||t.labelAlways===!0)&&(He.push(q("div",{class:y.value+" absolute fit no-pointer-events"+re.value},[q("div",{class:j.value,style:{minWidth:t.thumbSize}},[q("div",{class:E.value,style:ke.value},[q("span",{class:je.value},w.label.value)])])])),t.name!==void 0&&t.disable!==!0&&r(He,"push")),q("div",{class:ee.value,style:ne.value,...w.getNodeData()},He)}}function rn(w,O,ee,ne){const re=[];t.innerTrackColor!=="transparent"&&re.push(q("div",{key:"inner",class:ye.value,style:ue.value})),t.selectionColor!=="transparent"&&re.push(q("div",{key:"selection",class:te.value,style:w.value})),t.markers!==!1&&re.push(q("div",{key:"marker",class:H.value,style:Xt.value})),ne(re);const ke=[zt("div",{key:"trackC",class:X.value,tabindex:O.value,...ee.value},[q("div",{class:Q.value,style:ie.value},re)],"slide",B.value,()=>Jt.value)];if(t.markerLabels!==!1){const je=t.switchMarkerLabelsSide===!0?"unshift":"push";ke[je](q("div",{key:"markerL",class:Y.value},Gt()))}return ke}return et(()=>{document.removeEventListener("mouseup",Oe,!0)}),{state:{active:c,focus:m,preventFocus:d,dragging:b,editable:B,classes:U,tabindex:D,attributes:$,roundValueFn:C,keyStep:M,trackLen:F,innerMin:L,innerMinRatio:k,innerMax:V,innerMaxRatio:f,positionProp:S,sizeProp:g,isReversed:N},methods:{onActivate:tn,onMobileClick:nn,onBlur:vt,onKeyup:an,getContent:rn,getThumbRenderFn:ln,convertRatioToModel:z,convertModelToRatio:Ee,getDraggingRatio:ve}}}const qa=()=>({}),$a=de({name:"QSlider",props:{...Ca,modelValue:{required:!0,default:null,validator:e=>typeof e=="number"||e===null},labelValue:[String,Number]},emits:Sa,setup(e,{emit:n}){const{proxy:{$q:i}}=be(),{state:o,methods:t}=xa({updateValue:p,updatePosition:N,getDragging:x,formAttrs:$n(e)}),a=W(null),s=W(0),l=W(0);function v(){l.value=e.modelValue===null?o.innerMin.value:qe(e.modelValue,o.innerMin.value,o.innerMax.value)}oe(()=>`${e.modelValue}|${o.innerMin.value}|${o.innerMax.value}`,v),v();const r=u(()=>t.convertModelToRatio(l.value)),c=u(()=>o.active.value===!0?s.value:r.value),d=u(()=>{const B={[o.positionProp.value]:`${100*o.innerMinRatio.value}%`,[o.sizeProp.value]:`${100*(c.value-o.innerMinRatio.value)}%`};return e.selectionImg!==void 0&&(B.backgroundImage=`url(${e.selectionImg}) !important`),B}),m=t.getThumbRenderFn({focusValue:!0,getNodeData:qa,ratio:c,label:u(()=>e.labelValue!==void 0?e.labelValue:l.value),thumbColor:u(()=>e.thumbColor||e.color),labelColor:u(()=>e.labelColor),labelTextColor:u(()=>e.labelTextColor)}),b=u(()=>o.editable.value!==!0?{}:i.platform.is.mobile===!0?{onClick:t.onMobileClick}:{onMousedown:t.onActivate,onFocus:L,onBlur:t.onBlur,onKeydown:V,onKeyup:t.onKeyup});function p(B){l.value!==e.modelValue&&n("update:modelValue",l.value),B===!0&&n("change",l.value)}function x(){return a.value.getBoundingClientRect()}function N(B,C=o.dragging.value){const M=t.getDraggingRatio(B,C);l.value=t.convertRatioToModel(M),s.value=e.snap!==!0||e.step===0?M:t.convertModelToRatio(l.value)}function L(){o.focus.value=!0}function V(B){if(Qt.includes(B.keyCode)===!1)return;Pe(B);const C=([34,33].includes(B.keyCode)?10:1)*o.keyStep.value,M=([34,37,40].includes(B.keyCode)?-1:1)*(o.isReversed.value===!0?-1:1)*(e.vertical===!0?-1:1)*C;l.value=qe(o.roundValueFn.value(l.value+M),o.innerMin.value,o.innerMax.value),p()}return()=>{const B=t.getContent(d,o.tabindex,b,C=>{C.push(m())});return q("div",{ref:a,class:o.classes.value+(e.modelValue===null?" q-slider--no-value":""),...o.attributes.value,"aria-valuenow":e.modelValue},B)}}});function Ma(e,n){function i(){const o=e.modelValue;try{const t="DataTransfer"in window?new DataTransfer:"ClipboardEvent"in window?new ClipboardEvent("").clipboardData:void 0;return Object(o)===o&&("length"in o?Array.from(o):[o]).forEach(a=>{t.items.add(a)}),{files:t.files}}catch{return{files:void 0}}}return u(()=>{if(e.type==="file")return i()})}const Ua={ratio:[String,Number]};function Ba(e,n){return u(()=>{const i=Number(e.ratio||(n!==void 0?n.value:void 0));return isNaN(i)!==!0&&i>0?{paddingBottom:`${100/i}%`}:null})}const Na=1.7778,Va=de({name:"QImg",props:{...Ua,src:String,srcset:String,sizes:String,alt:String,crossorigin:String,decoding:String,referrerpolicy:String,draggable:Boolean,loading:{type:String,default:"lazy"},loadingShowDelay:{type:[Number,String],default:0},fetchpriority:{type:String,default:"auto"},width:String,height:String,initialRatio:{type:[Number,String],default:Na},placeholderSrc:String,errorSrc:String,fit:{type:String,default:"cover"},position:{type:String,default:"50% 50%"},imgClass:String,imgStyle:Object,noSpinner:Boolean,noNativeMenu:Boolean,noTransition:Boolean,spinnerColor:String,spinnerSize:String},emits:["load","error"],setup(e,{slots:n,emit:i}){const o=W(e.initialRatio),t=Ba(e,o),a=be(),{registerTimeout:s,removeTimeout:l}=Xe(),{registerTimeout:v,removeTimeout:r}=Xe(),c=u(()=>e.placeholderSrc!==void 0?{src:e.placeholderSrc}:null),d=u(()=>e.errorSrc!==void 0?{src:e.errorSrc,__qerror:!0}:null),m=[W(null),W(c.value)],b=W(0),p=W(!1),x=W(!1),N=u(()=>`q-img q-img--${e.noNativeMenu===!0?"no-":""}menu`),L=u(()=>({width:e.width,height:e.height})),V=u(()=>`q-img__image ${e.imgClass!==void 0?e.imgClass+" ":""}q-img__image--with${e.noTransition===!0?"out":""}-transition q-img__image--`),B=u(()=>({...e.imgStyle,objectFit:e.fit,objectPosition:e.position}));function C(){if(r(),e.loadingShowDelay===0){p.value=!0;return}v(()=>{p.value=!0},e.loadingShowDelay)}function M(){r(),p.value=!1}function D({target:g}){Qe(a)===!1&&(l(),o.value=g.naturalHeight===0?.5:g.naturalWidth/g.naturalHeight,F(g,1))}function F(g,_){_===1e3||Qe(a)===!0||(g.complete===!0?Z(g):s(()=>{F(g,_+1)},50))}function Z(g){Qe(a)!==!0&&(b.value=b.value^1,m[b.value].value=null,M(),g.getAttribute("__qerror")!=="true"&&(x.value=!1),i("load",g.currentSrc||g.src))}function k(g){l(),M(),x.value=!0,m[b.value].value=d.value,m[b.value^1].value=c.value,i("error",g)}function f(g){const _=m[g].value,h={key:"img_"+g,class:V.value,style:B.value,alt:e.alt,crossorigin:e.crossorigin,decoding:e.decoding,referrerpolicy:e.referrerpolicy,height:e.height,width:e.width,loading:e.loading,fetchpriority:e.fetchpriority,"aria-hidden":"true",draggable:e.draggable,..._};return b.value===g?Object.assign(h,{class:h.class+"current",onLoad:D,onError:k}):h.class+="loaded",q("div",{class:"q-img__container absolute-full",key:"img"+g},q("img",h))}function S(){return p.value===!1?q("div",{key:"content",class:"q-img__content absolute-full q-anchor--skip"},pe(n[x.value===!0?"error":"default"])):q("div",{key:"loading",class:"q-img__loading absolute-full flex flex-center"},n.loading!==void 0?n.loading():e.noSpinner===!0?void 0:[q(jt,{color:e.spinnerColor,size:e.spinnerSize})])}{let g=function(){oe(()=>e.src||e.srcset||e.sizes?{src:e.src,srcset:e.srcset,sizes:e.sizes}:null,_=>{l(),x.value=!1,_===null?(M(),m[b.value^1].value=c.value):C(),m[b.value].value=_},{immediate:!0})};un.value===!0?De(g):g()}return()=>{const g=[];return t.value!==null&&g.push(q("div",{key:"filler",style:t.value})),m[0].value!==null&&g.push(f(0)),m[1].value!==null&&g.push(f(1)),g.push(q(Vt,{name:"q-transition--fade"},S)),q("div",{key:"main",class:N.value,style:L.value,role:"img","aria-label":e.alt},g)}}}),ht={date:"####/##/##",datetime:"####/##/## ##:##",time:"##:##",fulltime:"##:##:##",phone:"(###) ### - ####",card:"#### #### #### ####"},Fe={"#":{pattern:"[\\d]",negate:"[^\\d]"},S:{pattern:"[a-zA-Z]",negate:"[^a-zA-Z]"},N:{pattern:"[0-9a-zA-Z]",negate:"[^0-9a-zA-Z]"},A:{pattern:"[a-zA-Z]",negate:"[^a-zA-Z]",transform:e=>e.toLocaleUpperCase()},a:{pattern:"[a-zA-Z]",negate:"[^a-zA-Z]",transform:e=>e.toLocaleLowerCase()},X:{pattern:"[0-9a-zA-Z]",negate:"[^0-9a-zA-Z]",transform:e=>e.toLocaleUpperCase()},x:{pattern:"[0-9a-zA-Z]",negate:"[^0-9a-zA-Z]",transform:e=>e.toLocaleLowerCase()}},Wt=Object.keys(Fe);Wt.forEach(e=>{Fe[e].regex=new RegExp(Fe[e].pattern)});const Ra=new RegExp("\\\\([^.*+?^${}()|([\\]])|([.*+?^${}()|[\\]])|(["+Wt.join("")+"])|(.)","g"),bt=/[.*+?^${}()|[\]\\]/g,ae="",Aa={mask:String,reverseFillMask:Boolean,fillMask:[Boolean,String],unmaskedValue:Boolean};function Pa(e,n,i,o){let t,a,s,l,v,r;const c=W(null),d=W(b());function m(){return e.autogrow===!0||["textarea","text","search","url","tel","password"].includes(e.type)}oe(()=>e.type+e.autogrow,x),oe(()=>e.mask,k=>{if(k!==void 0)N(d.value,!0);else{const f=F(d.value);x(),e.modelValue!==f&&n("update:modelValue",f)}}),oe(()=>e.fillMask+e.reverseFillMask,()=>{c.value===!0&&N(d.value,!0)}),oe(()=>e.unmaskedValue,()=>{c.value===!0&&N(d.value)});function b(){if(x(),c.value===!0){const k=M(F(e.modelValue));return e.fillMask!==!1?Z(k):k}return e.modelValue}function p(k){if(k<t.length)return t.slice(-k);let f="",S=t;const g=S.indexOf(ae);if(g!==-1){for(let _=k-S.length;_>0;_--)f+=ae;S=S.slice(0,g)+f+S.slice(g)}return S}function x(){if(c.value=e.mask!==void 0&&e.mask.length!==0&&m(),c.value===!1){l=void 0,t="",a="";return}const k=ht[e.mask]===void 0?e.mask:ht[e.mask],f=typeof e.fillMask=="string"&&e.fillMask.length!==0?e.fillMask.slice(0,1):"_",S=f.replace(bt,"\\$&"),g=[],_=[],h=[];let $=e.reverseFillMask===!0,U="",P="";k.replace(Ra,(X,y,j,E,Y)=>{if(E!==void 0){const Q=Fe[E];h.push(Q),P=Q.negate,$===!0&&(_.push("(?:"+P+"+)?("+Q.pattern+"+)?(?:"+P+"+)?("+Q.pattern+"+)?"),$=!1),_.push("(?:"+P+"+)?("+Q.pattern+")?")}else if(j!==void 0)U="\\"+(j==="\\"?"":j),h.push(j),g.push("([^"+U+"]+)?"+U+"?");else{const Q=y!==void 0?y:Y;U=Q==="\\"?"\\\\\\\\":Q.replace(bt,"\\\\$&"),h.push(Q),g.push("([^"+U+"]+)?"+U+"?")}});const J=new RegExp("^"+g.join("")+"("+(U===""?".":"[^"+U+"]")+"+)?"+(U===""?"":"["+U+"]*")+"$"),te=_.length-1,H=_.map((X,y)=>y===0&&e.reverseFillMask===!0?new RegExp("^"+S+"*"+X):y===te?new RegExp("^"+X+"("+(P===""?".":P)+"+)?"+(e.reverseFillMask===!0?"$":S+"*")):new RegExp("^"+X));s=h,l=X=>{const y=J.exec(e.reverseFillMask===!0?X:X.slice(0,h.length+1));y!==null&&(X=y.slice(1).join(""));const j=[],E=H.length;for(let Y=0,Q=X;Y<E;Y++){const ie=H[Y].exec(Q);if(ie===null)break;Q=Q.slice(ie.shift().length),j.push(...ie)}return j.length!==0?j.join(""):X},t=h.map(X=>typeof X=="string"?X:ae).join(""),a=t.split(ae).join(f)}function N(k,f,S){const g=o.value,_=g.selectionEnd,h=g.value.length-_,$=F(k);f===!0&&x();const U=M($),P=e.fillMask!==!1?Z(U):U,J=d.value!==P;g.value!==P&&(g.value=P),J===!0&&(d.value=P),document.activeElement===g&&Be(()=>{if(P===a){const H=e.reverseFillMask===!0?a.length:0;g.setSelectionRange(H,H,"forward");return}if(S==="insertFromPaste"&&e.reverseFillMask!==!0){const H=g.selectionEnd;let X=_-1;for(let y=v;y<=X&&y<H;y++)t[y]!==ae&&X++;V.right(g,X);return}if(["deleteContentBackward","deleteContentForward"].indexOf(S)!==-1){const H=e.reverseFillMask===!0?_===0?P.length>U.length?1:0:Math.max(0,P.length-(P===a?0:Math.min(U.length,h)+1))+1:_;g.setSelectionRange(H,H,"forward");return}if(e.reverseFillMask===!0)if(J===!0){const H=Math.max(0,P.length-(P===a?0:Math.min(U.length,h+1)));H===1&&_===1?g.setSelectionRange(H,H,"forward"):V.rightReverse(g,H)}else{const H=P.length-h;g.setSelectionRange(H,H,"backward")}else if(J===!0){const H=Math.max(0,t.indexOf(ae),Math.min(U.length,_)-1);V.right(g,H)}else{const H=_-1;V.right(g,H)}});const te=e.unmaskedValue===!0?F(P):P;String(e.modelValue)!==te&&(e.modelValue!==null||te!=="")&&i(te,!0)}function L(k,f,S){const g=M(F(k.value));f=Math.max(0,t.indexOf(ae),Math.min(g.length,f)),v=f,k.setSelectionRange(f,S,"forward")}const V={left(k,f){const S=t.slice(f-1).indexOf(ae)===-1;let g=Math.max(0,f-1);for(;g>=0;g--)if(t[g]===ae){f=g,S===!0&&f++;break}if(g<0&&t[f]!==void 0&&t[f]!==ae)return V.right(k,0);f>=0&&k.setSelectionRange(f,f,"backward")},right(k,f){const S=k.value.length;let g=Math.min(S,f+1);for(;g<=S;g++)if(t[g]===ae){f=g;break}else t[g-1]===ae&&(f=g);if(g>S&&t[f-1]!==void 0&&t[f-1]!==ae)return V.left(k,S);k.setSelectionRange(f,f,"forward")},leftReverse(k,f){const S=p(k.value.length);let g=Math.max(0,f-1);for(;g>=0;g--)if(S[g-1]===ae){f=g;break}else if(S[g]===ae&&(f=g,g===0))break;if(g<0&&S[f]!==void 0&&S[f]!==ae)return V.rightReverse(k,0);f>=0&&k.setSelectionRange(f,f,"backward")},rightReverse(k,f){const S=k.value.length,g=p(S),_=g.slice(0,f+1).indexOf(ae)===-1;let h=Math.min(S,f+1);for(;h<=S;h++)if(g[h-1]===ae){f=h,f>0&&_===!0&&f--;break}if(h>S&&g[f-1]!==void 0&&g[f-1]!==ae)return V.leftReverse(k,S);k.setSelectionRange(f,f,"forward")}};function B(k){n("click",k),r=void 0}function C(k){if(n("keydown",k),cn(k)===!0||k.altKey===!0)return;const f=o.value,S=f.selectionStart,g=f.selectionEnd;if(k.shiftKey||(r=void 0),k.keyCode===37||k.keyCode===39){k.shiftKey&&r===void 0&&(r=f.selectionDirection==="forward"?S:g);const _=V[(k.keyCode===39?"right":"left")+(e.reverseFillMask===!0?"Reverse":"")];if(k.preventDefault(),_(f,r===S?g:S),k.shiftKey){const h=f.selectionStart;f.setSelectionRange(Math.min(r,h),Math.max(r,h),"forward")}}else k.keyCode===8&&e.reverseFillMask!==!0&&S===g?(V.left(f,S),f.setSelectionRange(f.selectionStart,g,"backward")):k.keyCode===46&&e.reverseFillMask===!0&&S===g&&(V.rightReverse(f,g),f.setSelectionRange(S,f.selectionEnd,"forward"))}function M(k){if(k==null||k==="")return"";if(e.reverseFillMask===!0)return D(k);const f=s;let S=0,g="";for(let _=0;_<f.length;_++){const h=k[S],$=f[_];if(typeof $=="string")g+=$;else if(h!==void 0&&$.regex.test(h))g+=$.transform!==void 0?$.transform(h):h,S++;else return g}return g}function D(k){const f=s,S=t.indexOf(ae);let g=k.length-1,_="";for(let h=f.length-1;h>=0&&g!==-1;h--){const $=f[h];let U=k[g];if(typeof $=="string")_=$+_;else if(U!==void 0&&$.regex.test(U))do _=($.transform!==void 0?$.transform(U):U)+_,g--,U=k[g];while(S===h&&U!==void 0&&$.regex.test(U));else return _}return _}function F(k){return typeof k!="string"||l===void 0?typeof k=="number"?l(""+k):k:l(k)}function Z(k){return a.length-k.length<=0?k:e.reverseFillMask===!0&&k.length!==0?a.slice(0,-k.length)+k:k+a.slice(k.length)}return{innerValue:d,hasMask:c,moveCursorForPaste:L,updateMaskValue:N,onMaskedKeydown:C,onMaskedClick:B}}const Ea=de({name:"QInput",inheritAttrs:!1,props:{...Un,...Aa,...Ot,modelValue:[String,Number,FileList],shadowText:String,type:{type:String,default:"text"},debounce:[String,Number],autogrow:Boolean,inputClass:[Array,String,Object],inputStyle:[Array,String,Object]},emits:[...Mn,"paste","change","keydown","click","animationend"],setup(e,{emit:n,attrs:i}){const{proxy:o}=be(),{$q:t}=o,a={};let s=NaN,l,v,r=null,c;const d=W(null),m=Bn(e),{innerValue:b,hasMask:p,moveCursorForPaste:x,updateMaskValue:N,onMaskedKeydown:L,onMaskedClick:V}=Pa(e,n,U,d),B=Ma(e),C=u(()=>ft(b.value)),M=Vn(h),D=Nn({changeEvent:!0}),F=u(()=>e.type==="textarea"||e.autogrow===!0),Z=u(()=>F.value===!0||["text","search","url","tel","password"].includes(e.type)),k=u(()=>{const y={...D.splitAttrs.listeners.value,onInput:h,onPaste:_,onChange:J,onBlur:te,onFocus:Ne};return y.onCompositionstart=y.onCompositionupdate=y.onCompositionend=M,p.value===!0&&(y.onKeydown=L,y.onClick=V),e.autogrow===!0&&(y.onAnimationend=$),y}),f=u(()=>{const y={tabindex:0,"data-autofocus":e.autofocus===!0||void 0,rows:e.type==="textarea"?6:void 0,"aria-label":e.label,name:m.value,...D.splitAttrs.attributes.value,id:D.targetUid.value,maxlength:e.maxlength,disabled:e.disable===!0,readonly:e.readonly===!0};return F.value===!1&&(y.type=e.type),e.autogrow===!0&&(y.rows=1),y});oe(()=>e.type,()=>{d.value&&(d.value.value=e.modelValue)}),oe(()=>e.modelValue,y=>{if(p.value===!0){if(v===!0&&(v=!1,String(y)===s))return;N(y)}else b.value!==y&&(b.value=y,e.type==="number"&&a.hasOwnProperty("value")===!0&&(l===!0?l=!1:delete a.value));e.autogrow===!0&&Be(P)}),oe(()=>e.autogrow,y=>{y===!0?Be(P):d.value!==null&&i.rows>0&&(d.value.style.height="auto")}),oe(()=>e.dense,()=>{e.autogrow===!0&&Be(P)});function S(){An(()=>{const y=document.activeElement;d.value!==null&&d.value!==y&&(y===null||y.id!==D.targetUid.value)&&d.value.focus({preventScroll:!0})})}function g(){var y;(y=d.value)==null||y.select()}function _(y){if(p.value===!0&&e.reverseFillMask!==!0){const j=y.target;x(j,j.selectionStart,j.selectionEnd)}n("paste",y)}function h(y){if(!y||!y.target)return;if(e.type==="file"){n("update:modelValue",y.target.files);return}const j=y.target.value;if(y.target.qComposing===!0){a.value=j;return}if(p.value===!0)N(j,!1,y.inputType);else if(U(j),Z.value===!0&&y.target===document.activeElement){const{selectionStart:E,selectionEnd:Y}=y.target;E!==void 0&&Y!==void 0&&Be(()=>{y.target===document.activeElement&&j.indexOf(y.target.value)===0&&y.target.setSelectionRange(E,Y)})}e.autogrow===!0&&P()}function $(y){n("animationend",y),P()}function U(y,j){c=()=>{r=null,e.type!=="number"&&a.hasOwnProperty("value")===!0&&delete a.value,e.modelValue!==y&&s!==y&&(s=y,j===!0&&(v=!0),n("update:modelValue",y),Be(()=>{s===y&&(s=NaN)})),c=void 0},e.type==="number"&&(l=!0,a.value=y),e.debounce!==void 0?(r!==null&&clearTimeout(r),a.value=y,r=setTimeout(c,e.debounce)):c()}function P(){requestAnimationFrame(()=>{const y=d.value;if(y!==null){const j=y.parentNode.style,{scrollTop:E}=y,{overflowY:Y,maxHeight:Q}=t.platform.is.firefox===!0?{}:window.getComputedStyle(y),ie=Y!==void 0&&Y!=="scroll";ie===!0&&(y.style.overflowY="hidden"),j.marginBottom=y.scrollHeight-1+"px",y.style.height="1px",y.style.height=y.scrollHeight+"px",ie===!0&&(y.style.overflowY=parseInt(Q,10)<y.scrollHeight?"auto":"hidden"),j.marginBottom="",y.scrollTop=E}})}function J(y){M(y),r!==null&&(clearTimeout(r),r=null),c==null||c(),n("change",y.target.value)}function te(y){y!==void 0&&Ne(y),r!==null&&(clearTimeout(r),r=null),c==null||c(),l=!1,v=!1,delete a.value,e.type!=="file"&&setTimeout(()=>{d.value!==null&&(d.value.value=b.value!==void 0?b.value:"")})}function H(){return a.hasOwnProperty("value")===!0?a.value:b.value!==void 0?b.value:""}et(()=>{te()}),De(()=>{e.autogrow===!0&&P()}),Object.assign(D,{innerValue:b,fieldClass:u(()=>`q-${F.value===!0?"textarea":"input"}`+(e.autogrow===!0?" q-textarea--autogrow":"")),hasShadow:u(()=>e.type!=="file"&&typeof e.shadowText=="string"&&e.shadowText.length!==0),inputRef:d,emitValue:U,hasValue:C,floatingLabel:u(()=>C.value===!0&&(e.type!=="number"||isNaN(b.value)===!1)||ft(e.displayValue)),getControl:()=>q(F.value===!0?"textarea":"input",{ref:d,class:["q-field__native q-placeholder",e.inputClass],style:e.inputStyle,...f.value,...k.value,...e.type!=="file"?{value:H()}:B.value}),getShadowControl:()=>q("div",{class:"q-field__native q-field__shadow absolute-bottom no-pointer-events"+(F.value===!0?"":" text-no-wrap")},[q("span",{class:"invisible"},H()),q("span",e.shadowText)])});const X=Rn(D);return Object.assign(o,{focus:S,select:g,getNativeElement:()=>d.value}),dn(o,"nativeEl",()=>d.value),X}});function pt(e){if(e===!1)return 0;if(e===!0||e===void 0)return 1;const n=parseInt(e,10);return isNaN(n)?0:n}const Ia=Je({name:"close-popup",beforeMount(e,{value:n}){const i={depth:pt(n),handler(o){i.depth!==0&&setTimeout(()=>{const t=Pn(e);t!==void 0&&En(t,o,i.depth)})},handlerKey(o){vn(o,13)===!0&&i.handler(o)}};e.__qclosepopup=i,e.addEventListener("click",i.handler),e.addEventListener("keyup",i.handlerKey)},updated(e,{value:n,oldValue:i}){n!==i&&(e.__qclosepopup.depth=pt(n))},beforeUnmount(e){const n=e.__qclosepopup;e.removeEventListener("click",n.handler),e.removeEventListener("keyup",n.handlerKey),delete e.__qclosepopup}}),Ta=fe({__name:"ModifierDisplay",emits:["modify","reset"],setup(e,{emit:n}){const i=n;return(o,t)=>{const a=Wn,s=me;return A(),K("div",null,[T(s,{round:"",flat:"",dense:"",color:"red","aria-label":"Decrease value",title:"Decrease value",onClick:t[0]||(t[0]=l=>i("modify",-5))},{default:G(()=>[T(a,{name:"line-md:chevron-small-double-left"})]),_:1}),T(s,{round:"",flat:"",dense:"",color:"red","aria-label":"Decrease value",title:"Decrease value",onClick:t[1]||(t[1]=l=>i("modify",-1))},{default:G(()=>[T(a,{name:"line-md:chevron-small-left"})]),_:1}),T(s,{round:"",flat:"",dense:"","aria-label":"Reset value",title:"Reset value",onClick:t[2]||(t[2]=l=>i("reset"))},{default:G(()=>[T(a,{name:"ion:ios-minus-empty"})]),_:1}),T(s,{round:"",flat:"",dense:"",color:"green","aria-label":"Increase value",title:"Increase value",onClick:t[3]||(t[3]=l=>i("modify",1))},{default:G(()=>[T(a,{name:"line-md:chevron-small-right"})]),_:1}),T(s,{round:"",flat:"",dense:"",color:"green","aria-label":"Increase value",title:"Increase value",onClick:t[4]||(t[4]=l=>i("modify",5))},{default:G(()=>[T(a,{name:"line-md:chevron-small-double-right"})]),_:1})])}}}),yt=_e(Ta,[["__scopeId","data-v-75fd0cf9"]]),La=fe({__name:"NumericInput",props:{baseValue:{default:0},modifier:{default:0},direction:{default:"left"}},emits:["update:modelValue"],setup(e,{expose:n,emit:i}){const o=e,t=u(()=>o.baseValue+o.modifier),a=W(o.modifier),s=i;function l(m){const b=typeof m=="string"?Number(m):m??0;a.value=b-o.baseValue,s("update:modelValue",a.value),requestAnimationFrame(()=>{var p;return(p=document.activeElement)==null?void 0:p.blur()})}function v(m){m>0?a.value+=Math.round(Math.max(m,m*o.baseValue/100)):a.value+=Math.round(Math.min(m,m*o.baseValue/100)),s("update:modelValue",a.value)}function r(){d(),s("update:modelValue",a.value)}function c(m){const b=m.target;requestAnimationFrame(()=>b==null?void 0:b.select())}function d(){a.value=0}return n({reset:d}),(m,b)=>{const p=Zn,x=Ea;return A(),ce(x,{"model-value":I(t),dense:"",standout:"custom-behavior",placeholder:m.baseValue,type:"number",debounce:"500","onUpdate:modelValue":l,onFocus:c},mn({append:G(()=>[m.modifier!==0?(A(),ce(p,{key:0,floating:"",color:m.modifier>0?"green":"red"},{default:G(()=>[Se(le(m.modifier),1)]),_:1},8,["color"])):se("",!0)]),_:2},[m.direction==="right"?{name:"after",fn:G(()=>[T(yt,{onModify:v,onReset:r})]),key:"0"}:void 0,m.direction==="left"?{name:"before",fn:G(()=>[T(yt,{onModify:v,onReset:r})]),key:"1"}:void 0]),1032,["model-value","placeholder"])}}}),Fa=_e(La,[["__scopeId","data-v-d1dd2184"]]);function Ze(e,n){return n.split(".").reduce((i,o)=>i==null?void 0:i[o],e)}function Da(e,n,i){const o=n.split(".");let t=e;for(let a=0;a<o.length-1;a++){const s=o[a];t[s]??(t[s]={}),t=t[s]}t[o[o.length-1]]=i}function $e(){return Ie.reduce((e,n)=>(e[n]=0,e),{})}const Ie=["health.unit","armor","attack","defense","damage.normal","damage.piercing","damage.bonus_v_large","damage.bonus_v_infantry","resistance.physical","resistance.fire","resistance.ward_save"],za=[{path:"health.unit",color:"green",label:"Health"},{path:"attack",color:"blue",label:"Attack"},{path:"damage.normal",color:"green",label:"Damage Normal"},{path:"damage.piercing",color:"green",label:"Damage Piercing"},{path:"damage.bonus_v_large",color:"green",label:"Bonus V Large"},{path:"damage.bonus_v_infantry",color:"green",label:"Bonus V Infantry"},{path:"defense",color:"red",label:"Defense"},{path:"armor",color:"orange",label:"Armor"},{path:"resistance.physical",color:"pink",label:"Resistance Physical"},{path:"resistance.fire",color:"pink",label:"Resistance Fire"},{path:"resistance.ward_save",color:"pink",label:"Resistance Ward Save"}];function kt(e){if(!e.selection.unit)return e;const n=JSON.parse(JSON.stringify(e.selection.unit));for(const i of Object.keys(e.bonus))if(typeof e.bonus[i]=="number"){const o=Ze(n,i);Da(n,i,o+e.bonus[i])}return{selection:{unit:n,version:e.selection.version,faction:e.selection.faction},entityNumber:e.entityNumber}}const Oa=40,ja=8,Ha=90,Ka=95,Qa=-100,Wa=100;function Xa(e,n){var s,l,v,r;const i=e.attack||0,o=n.defense||0,a=((l=(s=n.land_unit)==null?void 0:s.battle_entity)==null?void 0:l.size)!=="small"?((v=e.damage)==null?void 0:v.bonus_v_large)||0:((r=e.damage)==null?void 0:r.bonus_v_infantry)||0;return Math.max(ja,Math.min(i-o+Oa+a,Ha))/100}function Ya(e,n){var v,r,c,d,m,b;const o=((r=(v=n.land_unit)==null?void 0:v.battle_entity)==null?void 0:r.size)!=="small"?((c=e.damage)==null?void 0:c.bonus_v_large)||0:((d=e.damage)==null?void 0:d.bonus_v_infantry)||0,t=((m=e.damage)==null?void 0:m.normal)||0,a=((b=e.damage)==null?void 0:b.piercing)||0,s=t/(t+a),l=n.armor||0;return(t+o*s)*(1-Math.min(l*.75*.01,1))+a+o*(1-s)}function Za(e,n){var l,v,r,c,d;const i=((l=n.resistance)==null?void 0:l.ward_save)||0,o=((v=n.resistance)==null?void 0:v.physical)||0,t=((r=n.resistance)==null?void 0:r.fire)||0,a=((c=e.damage)==null?void 0:c.is_magical)||!1,s=((d=e.damage)==null?void 0:d.is_fire)||!1;return Math.min(Ka,i+(a?0:Math.max(o,0))+(s?Math.min(Math.max(t,Qa),Wa):0))/100}function wt(e,n){var a;const i=Xa(e,n),o=Za(e,n);return i*(1-o)*Ya(e,n)/(((a=n.health)==null?void 0:a.unit)||0)}function Me(e){return["Hero","Lord"].includes(e.caste)?1:e.land_unit.num_engines>0?(console.log("num_engines",e.land_unit.num_engines),e.land_unit.num_engines):e.num_men}function Ga(e,n){const i=wt(e.selection.unit,n.selection.unit)*Math.min(Me(e.selection.unit),e.entityNumber),o=wt(n.selection.unit,e.selection.unit)*Math.min(Me(n.selection.unit),n.entityNumber);function t(a,s,l){const v=1/s,c=1-v*l;return{winner:a,hitsNeeded:v,remainingHealth:c}}return i>o?t("left",i,o):o>i?t("right",o,i):t("left",i,o)}const lt=At("unit",{state:()=>({leftUnit:null,rightUnit:null}),actions:{setLeftUnit(e){e?(this.leftUnit=e,this.leftUnit.bonus=$e()):this.leftUnit=null},setRightUnit(e){e?(this.rightUnit=e,this.rightUnit.bonus=$e()):this.rightUnit=null},setLeftUnitBonus(e){this.leftUnit&&(e?this.leftUnit.bonus=e:this.leftUnit.bonus=$e())},setRightUnitBonus(e){this.rightUnit&&(e?this.rightUnit.bonus=e:this.rightUnit.bonus=$e())},setLeftUnitEntityCount(e){this.leftUnit&&(this.leftUnit.entityNumber=e)},setRightUnitEntityCount(e){this.rightUnit&&(this.rightUnit.entityNumber=e)},clearUnits(){this.leftUnit=null,this.rightUnit=null}},getters:{combatResult(){var e,n;return!((e=this.leftUnit)!=null&&e.selection.unit)||!((n=this.rightUnit)!=null&&n.selection.unit)?null:Ga(kt(this.leftUnit),kt(this.rightUnit))}},persist:{storage:fn.localStorage()}}),Ja={class:"short-summary"},ei={key:0,class:"combat-result"},ti={class:"winner-section"},ni={class:"hits-info"},ai={class:"health-display"},ii={key:1,class:"no-combat"},oi=fe({__name:"ShortSummary",setup(e){const n=lt(),i=u(()=>n.combatResult),o=u(()=>{var r,c,d;if(!i.value)return"";const v=i.value.winner==="left"?(r=n.leftUnit)==null?void 0:r.selection.unit:(c=n.rightUnit)==null?void 0:c.selection.unit;return((d=v==null?void 0:v.land_unit)==null?void 0:d.onscreen_name)||"Unknown Unit"}),t=u(()=>{var r,c,d;if(!i.value)return"";const v=i.value.winner==="left"?(r=n.rightUnit)==null?void 0:r.selection.unit:(c=n.leftUnit)==null?void 0:c.selection.unit;return((d=v==null?void 0:v.land_unit)==null?void 0:d.onscreen_name)||"Unknown Unit"}),a=u(()=>{var v;return((v=i.value)==null?void 0:v.winner)==="left"?"text-positive":"text-negative"}),s=u(()=>{var v;return((v=i.value)==null?void 0:v.winner)==="left"?"bg-negative":"bg-positive"}),l=u(()=>{var r;const v=(((r=i.value)==null?void 0:r.remainingHealth)||0)*100;return v>=80?"green":v>=60?"light-green":v>=40?"orange":v>=20?"deep-orange":"red"});return(v,r)=>{const c=ba;return A(),K("div",Ja,[i.value?(A(),K("div",ei,[R("div",ti,[R("p",null,[R("span",{class:Ce(["winner-title text-emphasized",a.value])},le(o.value),3),r[0]||(r[0]=Se(" wins! "))]),R("p",ni,[Se(" Takes "+le(i.value.hitsNeeded.toFixed(1))+" hits to defeat ",1),R("span",{class:Ce(["loser-name text-emphasized",s.value])},le(t.value),3),r[1]||(r[1]=Se(", with "))])]),R("div",ai,[T(c,{"show-value":"",value:i.value.remainingHealth*100,size:"70px",thickness:.22,color:l.value,"track-color":"grey-3",class:"q-ma-md"},{default:G(()=>[Se(le((i.value.remainingHealth*100).toFixed(1))+"% ",1)]),_:1},8,["value","color"]),r[2]||(r[2]=R("span",{class:"health-label"},"Remaining Health",-1))])])):(A(),K("div",ii,r[3]||(r[3]=[R("p",null,"Select two units to see combat results",-1)])))])}}}),li=_e(oi,[["__scopeId","data-v-4ad7d52d"]]),Ue="https://res.cloudinary.com/fishofstone/image/upload/twwstats/api",ri="ui/skins/default/icon_cross.webp",si="mon_64.webp";function Ge(e,n){let i=`${Ue}/${e}`;if(n.general_portrait&&n.general_portrait.length>0){const o=n.general_portrait.replace("portholes","units").replace(".png",".webp");i+=`/${o}`}else n.unit_card_url?i+=`/ui/units/icons/${n.unit_card_url}.webp`:n.unit&&(i+=`/ui/units/icons/${n.unit}.webp`);return i}function Ct(e,n){let i=`${Ue}/${e}`;return i+=`/ui/common ui/unit_category_icons/${n.icon}.webp`,i}function St(e,n){let i=`${Ue}/${e}/ui/skins/default/unit_card_semicircle`;return n.special_categories&&(["Lord","Hero"].includes(n.caste)?i+="_hero":n.special_categories.includes("blessed_spawnings")?i+="_spawning":n.special_categories.includes("elector_counts")?i+="_elector":n.special_categories.includes("renown")&&(i+="_renown")),i+=".webp",i}function ui(e){return`${Ue}/${e}/ui/skins/default/unit_card_frame_plain.webp`}function ci(e){return`${Ue}/${e}/ui/skins/default/unit_card_hover.webp`}const di=["src","alt"],vi=["src","alt"],mi=["src","alt"],fi=["src"],gi=["src"],_i=fe({__name:"UnitPortrait",props:{selected:{type:[Boolean,null],default:!1},versionId:{},unit:{}},setup(e){return(n,i)=>{var o,t,a;return A(),K("div",{class:Ce(["unit-portrait",{selected:n.selected}])},[I(Ge)(n.versionId,n.unit)?(A(),K("img",{key:0,src:I(Ge)(n.versionId,n.unit),alt:((o=n.unit.land_unit)==null?void 0:o.onscreen_name)||n.unit.unit},null,8,di)):se("",!0),I(St)(n.versionId,n.unit)?(A(),K("img",{key:1,src:I(St)(n.versionId,n.unit),alt:((t=n.unit.land_unit)==null?void 0:t.onscreen_name)||n.unit.unit},null,8,vi)):se("",!0),I(Ct)(n.versionId,n.unit)?(A(),K("img",{key:2,src:I(Ct)(n.versionId,n.unit),alt:((a=n.unit.land_unit)==null?void 0:a.onscreen_name)||n.unit.unit},null,8,mi)):se("",!0),R("img",{src:I(ui)(n.versionId)},null,8,fi),R("img",{src:I(ci)(n.versionId),class:"unit-hover"},null,8,gi)],2)}}}),hi=_e(_i,[["__scopeId","data-v-fdc6b3a1"]]);async function bi(e,n,i){var o,t,a,s,l,v,r,c,d,m,b,p,x,N,L,V,B,C,M,D,F,Z,k,f,S,g,_,h,$,U,P,J,te,H,X,y,j,E,Y,Q,ie,ye;if(!n||!i)throw new Error("ID de version et clé d'unité requis");try{const ue=await e.query({tww:{__args:{tww_version:n},unit:{__args:{id:i},unit:!0,caste:!0,num_men:!0,recruitment_cost:!0,upkeep_cost:!0,land_unit:{onscreen_name:!0,bonus_hit_points:!0,num_engines:!0,num_mounts:!0,battle_entity:{hit_points:!0,size:!0,type:!0},articulated_vehicle_entity:{hit_points:!0},engine:{battle_entity:{hit_points:!0,type:!0}},mount:{battle_entity:{hit_points:!0}},armour:{armour_value:!0},primary_melee_weapon:{damage:!0,ap_damage:!0,bonus_v_large:!0,bonus_v_infantry:!0,melee_attack_interval:!0,is_magical:!0,ignition_amount:!0},melee_attack:!0,melee_defence:!0,damage_mod_physical:!0,damage_mod_flame:!0,damage_mod_all:!0,variant:{unit_card_url:!0}},battle_mounts:{base_unit:!0,mounted_unit:!0,icon_name:!0,mount_name:!0},custom_battle_permissions:{general_portrait:!0},ui_unit_group:{icon:!0,parent_group:{onscreen_name:!0}},unit_sets:{special_category:!0}}}});if(!((o=ue==null?void 0:ue.tww)!=null&&o.unit))return null;const z=ue.tww.unit;return!z||typeof z.unit!="string"||typeof z.caste!="string"||typeof z.num_men!="number"||!z.land_unit?null:{version:n,unit:z.unit,caste:z.caste,num_men:z.num_men,recruitment_cost:Number(z.recruitment_cost||0),upkeep_cost:Number(z.upkeep_cost||0),land_unit:{num_engines:z.land_unit.num_engines||0,num_mounts:z.land_unit.num_mounts||0,onscreen_name:((t=z.land_unit)==null?void 0:t.onscreen_name)||"",bonus_hit_points:Number(((a=z.land_unit)==null?void 0:a.bonus_hit_points)||0),battle_entity:{hit_points:Number(((l=(s=z.land_unit)==null?void 0:s.battle_entity)==null?void 0:l.hit_points)||0),size:((r=(v=z.land_unit)==null?void 0:v.battle_entity)==null?void 0:r.size)||"small",type:((d=(c=z.land_unit)==null?void 0:c.battle_entity)==null?void 0:d.type)||""}},battle_mounts:(z.battle_mounts||[]).filter(ve=>ve!==null).map(ve=>({base_unit:ve.base_unit||"",mounted_unit:ve.mounted_unit||"",icon_name:ve.icon_name||"",mount_name:ve.mount_name||""})),health:{unit:In(z),entity:Math.round(((b=(m=z.land_unit)==null?void 0:m.battle_entity)==null?void 0:b.hit_points)||0)},armor:Number(((x=(p=z.land_unit)==null?void 0:p.armour)==null?void 0:x.armour_value)||0),attack:Number(((N=z.land_unit)==null?void 0:N.melee_attack)||0),defense:Number(((L=z.land_unit)==null?void 0:L.melee_defence)||0),attack_interval:Number(((B=(V=z.land_unit)==null?void 0:V.primary_melee_weapon)==null?void 0:B.melee_attack_interval)||0),damage:{normal:Number(((M=(C=z.land_unit)==null?void 0:C.primary_melee_weapon)==null?void 0:M.damage)||0),piercing:Number(((F=(D=z.land_unit)==null?void 0:D.primary_melee_weapon)==null?void 0:F.ap_damage)||0),is_magical:!!((k=(Z=z.land_unit)==null?void 0:Z.primary_melee_weapon)!=null&&k.is_magical),is_fire:Number(((S=(f=z.land_unit)==null?void 0:f.primary_melee_weapon)==null?void 0:S.ignition_amount)||0)>0,bonus_v_large:Number(((_=(g=z.land_unit)==null?void 0:g.primary_melee_weapon)==null?void 0:_.bonus_v_large)||0),bonus_v_infantry:Number((($=(h=z.land_unit)==null?void 0:h.primary_melee_weapon)==null?void 0:$.bonus_v_infantry)||0)},resistance:{physical:Number(((U=z.land_unit)==null?void 0:U.damage_mod_physical)||0),fire:Number(((P=z.land_unit)==null?void 0:P.damage_mod_flame)||0),ward_save:Number(((J=z.land_unit)==null?void 0:J.damage_mod_all)||0)},is_large:((H=(te=z.land_unit)==null?void 0:te.battle_entity)==null?void 0:H.size)!=="small",icon:((X=z.ui_unit_group)==null?void 0:X.icon)||"",general_portrait:((j=(y=z.custom_battle_permissions)==null?void 0:y[0])==null?void 0:j.general_portrait)||"",group:((Y=(E=z.ui_unit_group)==null?void 0:E.parent_group)==null?void 0:Y.onscreen_name)||"",unit_card_url:((ie=(Q=z.land_unit)==null?void 0:Q.variant)==null?void 0:ie.unit_card_url)||"",special_categories:Array.from(new Set((ye=z.unit_sets)==null?void 0:ye.map(ve=>ve==null?void 0:ve.special_category)))||[]}}catch(ue){throw console.error("Erreur lors de la récupération de l'unité:",ue),ue}}function xt(e,n){if(!(!e||!(n!=null&&n.flags_url)))return`${Ue}/${e}/${n.flags_url}/${si}`}const pi=At("memory",{state:()=>({last_version:null}),actions:{setLastVersion(e){this.last_version=e},clearSession(){this.last_version=null}},persist:{storage:sessionStorage,key:"tww3-brawl-memory"}}),yi={class:"row items-center q-gutter-x-sm"},ki={class:"q-mb-md"},wi={key:0,class:"version-icons-row"},Ci=["onClick"],Si={class:"version-icon"},xi={class:"version-label"},qi={class:"q-mb-md"},$i={key:0,class:"faction-icons-row"},Mi=["onClick"],Ui=["src","alt"],Bi={class:"faction-label"},Ni={class:"q-mb-md"},Vi={key:0},Ri={class:"group-label"},Ai={class:"unit-icons-row"},Pi=["onClick"],Ei={class:"unit-label"},Ii={key:1},Ti=fe({__name:"SelectUnit",props:{unitSelection:{},version:{}},emits:["update:unitSelection","update:version"],setup(e,{emit:n}){const i=W(null),o=W("version"),t=W(!1),a=pi(),s=n,l=W(null),v=u({get:()=>{var _;return(_=l.value)!=null&&_.version?l.value.version:a.last_version},set:_=>{a.setLastVersion(_),l.value?l.value.version=_:_&&(l.value={unit:void 0,version:_,faction:void 0})}}),r=u({get:()=>{var _;return((_=l.value)==null?void 0:_.faction)||null},set:_=>{l.value?l.value.faction=_:_&&(l.value={unit:void 0,version:void 0,faction:_})}}),c=u({get:()=>{var _;return((_=l.value)==null?void 0:_.unit)||null},set:_=>{l.value?l.value.unit=_:_&&(l.value={unit:_,version:void 0,faction:void 0})}}),{data:d,isLoading:m}=Tn(),b=u(()=>d.value?d.value:[]),p=u(()=>{var _,h;return((h=(_=l.value)==null?void 0:_.version)==null?void 0:h.id)??""}),{data:x,isLoading:N,refetch:L}=Ln(p),V=u(()=>x.value?x.value:[]),B=u(()=>{var _,h;return((h=(_=l.value)==null?void 0:_.faction)==null?void 0:h.key)??""}),{data:C,isLoading:M,refetch:D}=Fn(p,B);u(()=>C.value?C.value.map(_=>{var h;return{label:((h=_.land_unit)==null?void 0:h.onscreen_name)||_.unit,value:_.unit}}):[]);const F=u(()=>{var P;if(!C.value)return{};const _={};for(const J of C.value){const te=J.group||"Autres";_[te]||(_[te]=[]),_[te].push(J)}const h={};for(const[J,te]of Object.entries(_)){const H={};for(const y of te){const j=((P=y.land_unit)==null?void 0:P.onscreen_name)||y.unit;H[j]||(H[j]=[]),H[j].push(y)}const X=[];for(const y in H){const j=H[y].sort((E,Y)=>{const Q=E.recruitment_cost||0,ie=Y.recruitment_cost||0;return Q-ie})[0];X.push(j)}X.sort((y,j)=>{var ye,ue;const E=y.recruitment_cost||0,Y=j.recruitment_cost||0;if(E!==Y)return E-Y;const Q=((ye=y.land_unit)==null?void 0:ye.onscreen_name)||y.unit,ie=((ue=j.land_unit)==null?void 0:ue.onscreen_name)||j.unit;return Q.localeCompare(ie)}),h[J]=X}const $=["Lords","Heroes","Infantry","Missile Infantry","Cavalry & Chariots","Missile Cavalry & Chariots","Artillery & War Machines"],U={};for(const J of $)h[J]&&(U[J]=h[J]);for(const[J,te]of Object.entries(h))$.includes(J)||(U[J]=te);return U});oe(t,async _=>{_&&(!l.value||!l.value.unit)&&a.last_version&&(v.value=a.last_version,o.value="faction",await L())}),oe(o,async _=>{_==="version"?l.value&&(l.value.faction=void 0,l.value.unit=void 0):_==="faction"?(await L(),l.value&&(l.value.unit=void 0)):_==="unit"&&await D()});const Z=()=>{o.value==="version"&&v.value?(r.value=void 0,c.value=void 0,o.value="faction"):o.value==="faction"&&r.value&&(c.value=void 0,o.value="unit")},k=()=>{o.value==="unit"?(c.value=void 0,o.value="faction"):o.value==="faction"&&(r.value=void 0,o.value="version")},f=_=>{v.value=_,o.value="faction"},S=_=>{r.value=_,o.value="unit"},g=_=>{c.value=_,l.value&&(t.value=!1,s("update:unitSelection",l.value))};return(_,h)=>{const $=me,U=Dn,P=ga,J=jt,te=fa,H=it,X=na,y=at,j=zn;return A(),K("div",yi,[T($,{label:"Pick a Unit",color:"primary",onClick:h[0]||(h[0]=E=>t.value=!0)}),T(j,{modelValue:t.value,"onUpdate:modelValue":h[6]||(h[6]=E=>t.value=E)},{default:G(()=>[T(y,{class:"custom"},{default:G(()=>[T(H,{class:"q-card-section-custom"},{default:G(()=>[T(te,{ref_key:"carouselRef",ref:i,padding:!1,modelValue:o.value,"onUpdate:modelValue":h[3]||(h[3]=E=>o.value=E),autoplay:!1,"transition-prev":"slide-left","transition-next":"slide-right","aria-hidden":"true",class:"q-carousel-custom"},{default:G(()=>[T(P,{name:"version",key:"version"},{default:G(()=>[R("div",ki,[T(U,{modelValue:v.value,"onUpdate:modelValue":h[1]||(h[1]=E=>v.value=E),options:b.value,loading:I(m),label:"Versions",dense:"",outlined:"","option-label":"name","option-value":"id"},null,8,["modelValue","options","loading"]),I(d)&&o.value==="version"?(A(),K("div",wi,[(A(!0),K(he,null,xe(I(d),E=>{var Y;return A(),K("div",{key:E.id,class:Ce(["version-icon-container",{selected:v.value&&v.value.id===E.id}]),onClick:Q=>f(E)},[R("div",Si,le(((Y=E.name)==null?void 0:Y.charAt(0))||"V"),1),R("div",xi,le(E.name),1)],10,Ci)}),128))])):se("",!0)])]),_:1}),T(P,{name:"faction",key:"faction"},{default:G(()=>[R("div",qi,[T(U,{modelValue:r.value,"onUpdate:modelValue":h[2]||(h[2]=E=>r.value=E),options:V.value,loading:I(N),disable:!v.value||I(N),label:"Faction",dense:"",outlined:"","option-label":"screen_name","option-value":"key"},null,8,["modelValue","options","loading","disable"]),I(x)&&o.value==="faction"?(A(),K("div",$i,[(A(!0),K(he,null,xe(I(x),E=>{var Y;return A(),K("div",{key:E.key,class:Ce(["faction-icon-container",{selected:r.value&&r.value.key===E.key}]),onClick:Q=>S(E)},[I(xt)(p.value,E)?(A(),K("img",{key:0,src:I(xt)(p.value,E),alt:E.screen_name||E.key,class:"faction-icon"},null,8,Ui)):se("",!0),R("div",Bi,le(((Y=E.subculture)==null?void 0:Y.name)||E.key),1)],10,Mi)}),128))])):se("",!0)])]),_:1}),T(P,{name:"unit",key:"unit"},{default:G(()=>[R("div",Ni,[I(C)&&Object.keys(F.value).length>0?(A(),K("div",Vi,[(A(!0),K(he,null,xe(F.value,(E,Y)=>(A(),K("div",{key:Y,class:"unit-group-block"},[R("div",Ri,le(Y),1),R("div",Ai,[(A(!0),K(he,null,xe(E,Q=>{var ie;return A(),K("div",{key:Q.unit,class:"unit-icon-container",onClick:ye=>g(Q)},[T(hi,{versionId:p.value,unit:Q,selected:c.value&&c.value.unit===Q.unit},null,8,["versionId","unit","selected"]),R("div",Ei,le(((ie=Q.land_unit)==null?void 0:ie.onscreen_name)||Q.unit),1)],8,Pi)}),128))])]))),128))])):(A(),K("div",Ii,[T(J,{color:"primary"})]))])]),_:1})]),_:1},8,["modelValue"])]),_:1}),T(X,{class:"text-primary q-card-actions-custom",align:"between"},{default:G(()=>[o.value==="version"?(A(),ce($,{key:0,label:"Fermer",flat:"",dense:"",onClick:h[4]||(h[4]=E=>t.value=!1)})):(A(),ce($,{key:1,label:"Back",flat:"",dense:"",onClick:k})),o.value!=="unit"?(A(),ce($,{key:2,disable:o.value==="version"&&!v.value||o.value==="faction"&&!r.value,label:"Next",color:"primary",flat:"",dense:"",onClick:Z},null,8,["disable"])):(A(),ce($,{key:3,disable:!c.value||!v.value||!r.value,label:"Finish",color:"primary",flat:"",dense:"",onClick:h[5]||(h[5]=()=>{t.value=!1,l.value&&s("update:unitSelection",l.value)})},null,8,["disable"]))]),_:1})]),_:1})]),_:1},8,["modelValue"])])}}}),Li=_e(Ti,[["__scopeId","data-v-a922a3f1"]]);function qt(e,n){return`${Ue}/${e}/${n.replace(/\.png/,".webp")}`}function Fi(e,n,i){const o=On();return jn({queryKey:["tww","versions",e,"units",n],queryFn:()=>bi(o,e.value,n.value),staleTime:30*60*1e3,enabled:!!e.value&&!!n.value})}const Di={class:"row items-center"},zi=["src"],Oi=["src"],ji=fe({__name:"MountPicker",props:{unit:{}},emits:["update:unit"],setup(e,{emit:n}){const i=e,o=n,t=u(()=>{var p;return(p=s.value.find(x=>x.mounted_unit===i.unit.unit))==null?void 0:p.icon_name}),a=W(null),s=u(()=>{const p=i.unit.battle_mounts;if(p.length>0){const x={base_unit:p[0].base_unit,mounted_unit:p[0].base_unit,icon_name:ri,mount_name:"On Foot"};return[...p,x]}return[]}),l=u(()=>i.unit.version),v=u(()=>a.value||""),{data:r,isLoading:c,error:d,refetch:m}=Fi(l,v);oe(a,async p=>{p!==null&&(await m(),r.value&&o("update:unit",r.value))},{immediate:!0});function b(p){const x=p.mounted_unit;x!==i.unit.unit&&(a.value=x)}return(p,x)=>{const N=Xn,L=Kn,V=Hn,B=ta,C=Ia;return A(),K("div",Di,[T(B,null,{default:G(()=>[T(V,null,{default:G(()=>[(A(!0),K(he,null,xe(s.value,M=>gn((A(),ce(L,{key:M.mounted_unit,onClick:D=>b(M),clickable:""},{default:G(()=>[T(N,null,{default:G(()=>[R("img",{src:I(qt)(p.unit.version,M.icon_name)},null,8,zi)]),_:2},1024),Se(" "+le(M.mount_name),1)]),_:2},1032,["onClick"])),[[C]])),128))]),_:1})]),_:1}),T(N,null,{default:G(()=>[R("img",{src:I(qt)(p.unit.version,t.value||"")},null,8,Oi)]),_:1})])}}});function Hi(e){let n="https://twwstats.com/unitscards?";const i=e.map(o=>"units=f"+encodeURIComponent(`=0&k=${o.unit.unit}&v=${o.version.id}&m&r=0`)).join("&");return n+i}const Ki={class:"unit-label text-xl"},Qi=["href"],Wi={class:"q-mt-md row justify-between"},Xi=fe({__name:"index",props:{orientation:{default:"left"},modelValue:{}},emits:["update:modelValue"],setup(e,{emit:n}){const i=lt(),o=u(()=>{var m;return((m=a.modelValue)==null?void 0:m.selection)||null}),t=W(null),a=e,s=n;function l(m){const b=m.num_men||1,p=Math.min(15,b);a.modelValue&&(a.modelValue.selection.unit=m,s("update:modelValue",{unitWithEntityNumberAndBonus:{selection:a.modelValue.selection,entityNumber:p,bonus:a.modelValue.bonus},mount_changed:!0}))}function v(m){const b=Me(m.unit),p=Math.min(15,b);s("update:modelValue",{unitWithEntityNumberAndBonus:{selection:m,entityNumber:p,bonus:$e()},mount_changed:!1})}const r=u(()=>{var m,b,p;return(p=(b=(m=o.value)==null?void 0:m.unit)==null?void 0:b.land_unit)!=null&&p.onscreen_name?o.value.unit.land_unit.onscreen_name:"Unit Title"}),c=u(()=>{var m,b,p;if((m=o.value)!=null&&m.unit&&((p=(b=o.value)==null?void 0:b.version)!=null&&p.id)){const x=Ge(o.value.version.id,o.value.unit);if(x)return x}return"/default-unit-image.jpg"}),d=u(()=>{var b,p,x,N,L,V,B,C,M,D,F,Z,k;let m=[];return(b=o.value)!=null&&b.unit&&((x=(p=o.value)==null?void 0:p.version)!=null&&x.id)&&m.push({unit:o.value.unit,version:o.value.version}),a.orientation==="left"&&((L=(N=i.rightUnit)==null?void 0:N.selection)!=null&&L.unit)&&((C=(B=(V=i.rightUnit)==null?void 0:V.selection)==null?void 0:B.version)!=null&&C.id)&&m.push({unit:i.rightUnit.selection.unit,version:i.rightUnit.selection.version}),a.orientation==="right"&&((D=(M=i.leftUnit)==null?void 0:M.selection)!=null&&D.unit)&&((k=(Z=(F=i.leftUnit)==null?void 0:F.selection)==null?void 0:Z.version)!=null&&k.id)&&m.push({unit:i.leftUnit.selection.unit,version:i.leftUnit.selection.version}),Hi(m)});return(m,b)=>{const p=Va,x=it,N=at;return A(),ce(N,{class:"unit-card"},{default:G(()=>[T(x,null,{default:G(()=>[T(p,{src:c.value,ratio:16/9,fit:"contain",class:"unit-image",alt:"Unit Portrait"},null,8,["src"]),R("div",Ki,[d.value?(A(),K("a",{key:0,href:d.value,target:"_blank"},le(r.value),9,Qi)):se("",!0)])]),_:1}),T(x,{class:Ce([m.orientation,"card-section"])},{default:G(()=>{var L,V,B,C,M,D;return[R("div",Wi,[T(Li,{unitSelection:o.value,version:I(t),"onUpdate:unitSelection":b[0]||(b[0]=F=>v(F)),"onUpdate:version":b[1]||(b[1]=F=>t.value=F)},null,8,["unitSelection","version"]),(B=(V=(L=o.value)==null?void 0:L.unit)==null?void 0:V.battle_mounts)!=null&&B.length&&((D=(M=(C=o.value)==null?void 0:C.unit)==null?void 0:M.battle_mounts)==null?void 0:D.length)>0?(A(),ce(ji,{key:0,unit:o.value.unit,"onUpdate:unit":b[2]||(b[2]=F=>l(F))},null,8,["unit"])):se("",!0)])]}),_:1},8,["class"])]),_:1})}}}),$t=_e(Xi,[["__scopeId","data-v-aac7396f"]]),Yi={key:0,class:"col-6"},Zi={class:"text-caption q-mb-xs"},Gi={class:"q-mt-md"},Ji={class:"row q-gutter-xs"},eo=fe({__name:"EntitySliders",props:{entityNumber:{},maxEntities:{}},emits:["update:entityNumber"],setup(e,{emit:n}){const i=n,o=[6,10,14,20],t=a=>{a!==null&&i("update:entityNumber",a)};return(a,s)=>{const l=$a,v=me,r=it,c=at;return a.maxEntities>1?(A(),K("div",Yi,[T(c,null,{default:G(()=>[T(r,null,{default:G(()=>[R("div",Zi," Active entities: "+le(a.entityNumber),1),T(l,{"model-value":a.entityNumber,"onUpdate:modelValue":t,min:1,max:a.maxEntities,step:1,label:"","label-always":""},null,8,["model-value","max"]),R("div",Gi,[s[0]||(s[0]=R("div",{class:"text-caption q-mb-xs"},"Quick select:",-1)),R("div",Ji,[(A(),K(he,null,xe(o,d=>T(v,{key:d,label:d.toString(),color:a.entityNumber===d?"primary":"grey-6",outline:a.entityNumber!==d,size:"sm",onClick:m=>t(d),disable:d>a.maxEntities},null,8,["label","color","outline","onClick","disable"])),64))])])]),_:1})]),_:1})])):se("",!0)}}}),Mt=_e(eo,[["__scopeId","data-v-95171e5f"]]),to=fe({__name:"ValueDisplay",props:{value:{type:[Number,Boolean]},isUpdatable:{type:Boolean},bonus:{default:0},orientation:{}},emits:["update"],setup(e,{expose:n,emit:i}){const o=i;function t(r){s.value=r,o("update",s.value)}const s=W(e.bonus),l=W(null);function v(){var r;s.value=0,(r=l.value)==null||r.reset()}return n({reset:v}),(r,c)=>(A(),K("div",{class:Ce(["container",{reverse:r.orientation==="right"}])},[R("div",{class:Ce(["left base",{right:r.orientation==="right"}])},[typeof r.value=="number"&&r.isUpdatable?(A(),ce(Fa,{key:0,ref_key:"numericInputRef",ref:l,modifier:s.value,baseValue:r.value,"onUpdate:modelValue":t,direction:r.orientation},null,8,["modifier","baseValue","direction"])):(A(),K(he,{key:1},[Se(le(r.value),1)],64))],2)],2))}}),Ut=_e(to,[["__scopeId","data-v-14341811"]]),no={scope:"col",class:"text-right unit-column"},ao={scope:"col",class:"text-left unit-column"},io={scope:"col",class:"unit-column"},oo={scope:"col",class:"unit-column"},lo={key:0,class:"unit-column"},ro={class:"text-center stat-column"},so={key:1,class:"unit-column"},uo=fe({__name:"index",props:{leftUnit:{},rightUnit:{}},emits:["update"],setup(e,{expose:n,emit:i}){const o=e,t=i;function a(c,d,m){t("update",c,d,m)}const s=W([]),l=W([]);function v(c){r(c);for(const d of Ie)t("update",c,d,0);c==="left"?o.leftUnit&&(o.leftUnit.bonus=$e()):o.rightUnit&&(o.rightUnit.bonus=$e())}function r(c){c==="left"?l.value.forEach(d=>d==null?void 0:d.reset()):s.value.forEach(d=>d==null?void 0:d.reset())}return n({reset:r}),(c,d)=>{var p,x,N,L;const m=me,b=Qn;return(x=(p=c.leftUnit)==null?void 0:p.selection)!=null&&x.unit||(L=(N=c.rightUnit)==null?void 0:N.selection)!=null&&L.unit?(A(),ce(b,{key:0,separator:"none",flat:"",bordered:""},{default:G(()=>{var V,B,C,M,D,F,Z,k;return[R("thead",null,[R("tr",null,[R("th",no,[R("b",null,le((M=(C=(B=(V=c.leftUnit)==null?void 0:V.selection)==null?void 0:B.unit)==null?void 0:C.land_unit)==null?void 0:M.onscreen_name),1)]),d[2]||(d[2]=R("th",{scope:"col",class:"text-center stat-column"},[R("b",null,"Statistic")],-1)),R("th",ao,[R("b",null,le((k=(Z=(F=(D=c.rightUnit)==null?void 0:D.selection)==null?void 0:F.unit)==null?void 0:Z.land_unit)==null?void 0:k.onscreen_name),1)])]),R("tr",null,[R("th",io,[T(m,{label:"Reset",color:"warning",icon:"refresh",onClick:d[0]||(d[0]=f=>v("left"))})]),d[3]||(d[3]=R("th",{scope:"col",class:"stat-column"},null,-1)),R("th",oo,[T(m,{label:"Reset",color:"warning",icon:"refresh",onClick:d[1]||(d[1]=f=>v("right"))})])])]),R("tbody",null,[(A(!0),K(he,null,xe(I(za),f=>{var S,g,_,h;return A(),K("tr",{key:f.path},[(g=(S=c.leftUnit)==null?void 0:S.selection)!=null&&g.unit?(A(),K("td",lo,[T(Ut,{ref_for:!0,ref_key:"leftUnitRef",ref:l,value:I(Ze)(c.leftUnit.selection.unit,f.path),bonus:c.leftUnit.bonus[f.path],isUpdatable:I(Ie).includes(f.path),onUpdate:$=>a("left",f.path,$),orientation:"left"},null,8,["value","bonus","isUpdatable","onUpdate"])])):se("",!0),R("td",ro,le(f.label),1),(h=(_=c.rightUnit)==null?void 0:_.selection)!=null&&h.unit?(A(),K("td",so,[T(Ut,{ref_for:!0,ref_key:"rightUnitRef",ref:s,value:I(Ze)(c.rightUnit.selection.unit,f.path),bonus:c.rightUnit.bonus[f.path],isUpdatable:I(Ie).includes(f.path),onUpdate:$=>a("right",f.path,$),orientation:"right"},null,8,["value","bonus","isUpdatable","onUpdate"])])):se("",!0)])}),128))])]}),_:1})):se("",!0)}}}),co=_e(uo,[["__scopeId","data-v-f1914197"]]),vo={class:"q-pa-md container"},mo={class:"justify-center items-center unit-cards-container"},fo={class:"text-center"},go={key:0,class:"entity-sliders-container"},_o={class:"entity-slider"},ho={class:"entity-slider"},bo=fe({__name:"index",setup(e){const n=lt(),i=W(null),o=(s,l)=>{var v,r,c,d;if(s==="left"){const m=((v=n.leftUnit)==null?void 0:v.bonus)??null;n.setLeftUnit(l.unitWithEntityNumberAndBonus),l.mount_changed?n.setLeftUnitBonus(m):(r=i.value)==null||r.reset("left")}else{const m=((c=n.rightUnit)==null?void 0:c.bonus)??null;n.setRightUnit(l.unitWithEntityNumberAndBonus),l.mount_changed?n.setRightUnitBonus(m):(d=i.value)==null||d.reset("right")}},t=(s,l,v)=>{var r,c;if(s==="left"){const d=((r=n.leftUnit)==null?void 0:r.bonus)??null;d&&(d[l]=v),n.setLeftUnitBonus(d)}else{const d=((c=n.rightUnit)==null?void 0:c.bonus)??null;d&&(d[l]=v),n.setRightUnitBonus(d)}},a=()=>{n.clearUnits()};return(s,l)=>{var c,d,m,b,p,x,N,L,V,B,C,M;const v=me,r=li;return A(),K(he,null,[l[5]||(l[5]=R("h1",null,"TWW3 Brawl",-1)),R("div",vo,[R("div",mo,[T($t,{orientation:"left",class:"bg-positive unit-card",modelValue:I(n).leftUnit,"onUpdate:modelValue":l[0]||(l[0]=D=>o("left",D))},null,8,["modelValue"]),T($t,{orientation:"right",class:"bg-negative unit-card",modelValue:I(n).rightUnit,"onUpdate:modelValue":l[1]||(l[1]=D=>o("right",D))},null,8,["modelValue"])]),R("div",fo,[T(v,{label:"Reset",color:"warning",icon:"refresh",onClick:a})]),(m=(d=(c=I(n))==null?void 0:c.leftUnit)==null?void 0:d.selection)!=null&&m.unit||(x=(p=(b=I(n))==null?void 0:b.rightUnit)==null?void 0:p.selection)!=null&&x.unit?(A(),K("div",go,[R("div",_o,[(V=(L=(N=I(n))==null?void 0:N.leftUnit)==null?void 0:L.selection)!=null&&V.unit&&I(Me)(I(n).leftUnit.selection.unit)>1?(A(),ce(Mt,{key:0,"entity-number":I(n).leftUnit.entityNumber,"max-entities":I(Me)(I(n).leftUnit.selection.unit),"onUpdate:entityNumber":l[2]||(l[2]=D=>I(n).setLeftUnitEntityCount(D))},null,8,["entity-number","max-entities"])):se("",!0)]),R("div",ho,[(M=(C=(B=I(n))==null?void 0:B.rightUnit)==null?void 0:C.selection)!=null&&M.unit&&I(Me)(I(n).rightUnit.selection.unit)>1?(A(),ce(Mt,{key:0,"entity-number":I(n).rightUnit.entityNumber,"max-entities":I(Me)(I(n).rightUnit.selection.unit),"onUpdate:entityNumber":l[3]||(l[3]=D=>I(n).setRightUnitEntityCount(D))},null,8,["entity-number","max-entities"])):se("",!0)])])):se("",!0),T(r),T(co,{ref_key:"detailViewRef",ref:i,leftUnit:I(n).leftUnit,rightUnit:I(n).rightUnit,onUpdate:t},null,8,["leftUnit","rightUnit"]),l[4]||(l[4]=R("div",{style:{"min-height":"25vh"}},null,-1))])],64)}}}),Co=_e(bo,[["__scopeId","data-v-4ba10028"]]);export{Co as default};
